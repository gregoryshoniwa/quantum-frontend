(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,h=[];d<o.length;d++)i=o[d],s[i]&&h.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function i(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5d347720"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=s[e]=[t,r]}));t.push(a[2]=r);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=i(e),n=function(t){l.onerror=l.onload=null,clearTimeout(c);var a=s[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+n+")");i.type=r,i.request=n,a[1](i)}s[e]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"018d":function(e,t,a){e.exports=a.p+"img/CONTISEND.aca995b2.png"},"0291":function(e,t,a){"use strict";a("67c2")},"034f":function(e,t,a){"use strict";a("1356")},"06d5":function(e,t,a){e.exports=a.p+"img/treasarytobranch.fw.9c7a32f2.png"},"0907":function(e,t,a){e.exports=a.p+"img/avator2.ec83a71d.png"},"09a4":function(e,t,a){"use strict";a("a6af")},"0c77":function(e,t,a){"use strict";a("7848")},"0d42":function(e,t,a){"use strict";a("6d7f")},"0de7":function(e,t,a){},1:function(e,t){},"10fb":function(e,t,a){},"11be":function(e,t,a){e.exports=a.p+"img/buy.e0b4ec72.png"},1356:function(e,t,a){},1438:function(e,t,a){"use strict";a("e847")},"1c0c":function(e,t,a){"use strict";a("c4b5")},"1d35":function(e,t,a){e.exports=a.p+"img/branchtotreasary.fw.89dda133.png"},"1ed1":function(e,t,a){"use strict";a("e530")},"1f21":function(e,t,a){},2:function(e,t){},"200b":function(e,t,a){},2018:function(e,t,a){},"21dc":function(e,t,a){e.exports=a.p+"img/avator.b23a15fa.png"},"246c":function(e,t,a){},2611:function(e,t,a){e.exports=a.p+"img/currency.fw.dd81f9f9.png"},2944:function(e,t,a){"use strict";a("ad79")},"2be6":function(e,t,a){},"2bf8":function(e,t,a){e.exports=a.p+"img/gdp.fw.1bef472f.png"},"2d00e":function(e,t,a){},3:function(e,t){},"30bf":function(e,t,a){"use strict";a("c841")},"329b":function(e,t,a){},"33e0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFTElEQVR4nO2bXUwcVRTH/3d2F3Z2FxZhlwUFRKkisVF4qQmbEH0gPmDtGyHF6LO+mmi18fsjxhh9a2PCs6mPvvSFxCbEkpiYIFYTWg1UShtbWBZK9gPYmfHBpbGxM3MO2fFu4fxe5z/nnnv+nDv3ziyAIAiCIAiCIAiCIAiCcFhQ+7np/fPPdlUs4ysAzwNoqm1K9x1bcDANFTr18fHp37k3sw2oFn8eQCv33gPOugM89cnx769zbjK4o1T/8qX4/6VVKXzJvYltAP5ZdoR74fBrsx8DDvua70WSe8N+DBBqiBigGTFAM2KAZsQAzbAOYs6FyCAMY85PZ0OtvHd7uMtPZ6rK5ttNP5J2Du/czlJkd/io+SJJ9+nWM5slJ+ybwwfNsysGHN85wbaH1HO7P5MGB7cDDOMViuyWZV6l6FJG6S/W+AFAzYE6J2qN7sipQucnRABMUrS/WWlSzEyosEEdPyioOVDnBGCyWisS9A4oNowBIGXxy06ql6LrNIpl8vgBQc2BOicA6WqtSNANsBWptWyolXU76r9WAkiHSuThg4Kaw7od7bKhVkhiYq0AogHOTCINBZKr5LUSQIsqR6naoODkQJ6bwpgzkyCtFsQO2J0EaOsaY61EXO20kMUBwcmBMbdItWa+0AxwQG4pxlqJiLI7qNqg4OTAmRu1Zr4GOBcigwAGKcE467+pKptqH28Pa40CkqaqbFK0rOcAMFitnSf+HcDY13LW/3o4A+zByYUzR0rtPA3g7P0B3vpfD2eAPTi5cOYIwpnAuwMYe38AmN9J91G19XAG2IOTC2eOIJwJvA1g7GctR13P242dVH3aKNTNi0BOLnm7sdNyFP3Du08NXQfm7P0B4HKpaZucFIAOu9DD0QdJp1Xo5uivlJvo3etzJvBwnr73B4BL263t5KQARJWV4eiDpMGwWNth5lw9zwTuBlTwJiepq6o1xtGrMBo5+iAxmLksoTXOGmAXb7ldCrvetLydoMa3Q3FcWrWNHStH0jeETdhtIWXYRZLeCiWwtFrAjkXr/Gp8MOIrZnyDEx+A6XbB6+FzmRq9bPYh1UxfRlOJbpRjj5H1ZfNI/cU3HyXrASy4XXA3wMG31Oj5thdw9KERcjZHu0eQT50g6/PpE3UXf6ONvD8BFM65XXI3IIQzUP5dUDb7kMucxODDo8gk/V+VZJK9GOoZxVr7BErxAV99KT6AXPtE/cXveAnbtC5YgImzbhddDVAvowAHY14mlM0+LPZPwTaiCBsRjB877TmJTLIX48dOI2SE4RgNWOyf8ixSKT6Axf4pOCpSd/Ftw8Ri/5SfCQuwMabG4frRwfejvPM1YmjEq8XE019Ei1cAAOXY48i3jSGXOQnbuPt1umVXMLc8jV+vzWBtaxkAkG7uwZNdIxjqGUXIuPu5r5xdtN06hwdWv4NZjV+K9SOffhG59gk4KlLX8Q27hNTNb9CSO49/1ydWmH8dJs56FR9g/CpibuEPh6oVgKEnjpBqWzevAw4rYoBmxADNuJ+EmaQefKRWoUis3VjyvP7Gh58FOv7n756qSRzpAM3UrAP2yJ4J9kvjxde0f8evKdIBmhEDNCMGaEYM0IwYoBkxQDNigGbEAM2IAZoRAzQjBmhGDNCMGKAZMUAzYoBmxADNiAE+ZLNZZIeHA4tf8y9iB+2LVUsy2H/klA7QTM06wO9XCsK9kQ7QTM2fAQeNzY0N2AHGFwN8+GF2NtD4sgRpRgzQDHkJ+vPGzSDzuO+oVT2kAzQjBmhGDNCMGKAZMUAzYoBmxABBEARBEARBEARBEARB+J/4G4BEvnXyY6MrAAAAAElFTkSuQmCC"},"36b2":function(e,t,a){e.exports=a.p+"img/sell.55d80a4f.png"},"36f9":function(e,t,a){e.exports=a.p+"img/floatadmin.fw.e505fdb1.png"},3760:function(e,t,a){"use strict";a("c8c1")},"3dde":function(e,t,a){"use strict";a("f962")},4:function(e,t){},4571:function(e,t,a){},4783:function(e,t,a){"use strict";a("8561")},"4a8f":function(e,t,a){e.exports=a.p+"img/teller_refloat.b66ca0a1.png"},"4e69":function(e,t,a){},5:function(e,t){},5078:function(e,t,a){e.exports=a.p+"img/main_logo.96032b69.png"},"50f7":function(e,t,a){},5471:function(e,t,a){"use strict";a("10fb")},5645:function(e,t,a){"use strict";a("50f7")},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=a("bb71");a("da64");r["default"].use(n["a"],{iconfont:"md"});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("router-view")],1)},o=[],l={name:"App",components:{},data:function(){return{userID:0}}},c=l,d=(a("034f"),a("2877")),u=a("6544"),h=a.n(u),p=a("7496"),m=Object(d["a"])(c,i,o,!1,null,null,null),f=m.exports;h()(m,{VApp:p["a"]});var g=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("ToolBar",{on:{CurrencyPairSelected:e.selectedCurrencyPair,SelectedMenuItem:e.selectedMenu}}),a("NavBar",{staticStyle:{position:"relative",top:"-40px"},on:{SelectedMenuItem:e.selectedMenu}}),a("v-content",{staticStyle:{position:"relative",top:"-50px",padding:"20px"}},[a("v-layout",{attrs:{row:"","mt-3":""}},[a("v-flex",{attrs:{md12:""}},[a(e.page,{tag:"component",attrs:{PropCurrencyPair:e.CurrencyPairData},on:{ApprovalData:e.getData}})],1)],1)],1)],1)},_=[],b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-toolbar",{attrs:{extended:"",color:"white gradient"}},[r("v-toolbar-title",{staticClass:"headline text-uppercase"},[r("v-flex",{staticClass:"hidden-sm-and-down",attrs:{"pr-1":""}},[r("div",{staticStyle:{"margin-top":"30px"}},[r("img",{staticStyle:{"max-width":"100px",height:"auto","margin-top":"2px",float:"left"},attrs:{src:a("5078"),alt:"sahwira"}}),r("div",[r("span",{staticStyle:{position:"relative",top:"15px",left:"10px","font-weight":"bold","font-size":"13px",color:"goldenrod"}},[e._v("Sahwira Money Transfer Agency")])]),r("div",[r("span",{staticStyle:{"margin-left":"10px","font-size":"10px",position:"relative",top:"-5px"}},[e._v("REGISTERED BUREAU DE CHANGE")])])])])],1),r("v-spacer"),r("v-layout",{staticClass:"white--text hidden-sm-and-down",attrs:{row:"","justify-end":""}},[2==e.user_type?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("img",e._g({staticClass:"img1 bounceIn",attrs:{src:a("11be"),alt:"logo"},on:{click:function(t){return e.createTransaction("Sell")}}},s))]}}],null,!1,1406597145)},[r("span",[e._v("Sell Forex")])]):e._e(),2==e.user_type?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("img",e._g({staticClass:"img1 bounceIn",attrs:{src:a("36b2"),alt:"logo"},on:{click:function(t){return e.createTransaction("Buy")}}},s))]}}],null,!1,4042835865)},[r("span",[e._v("Buy Forex")])]):e._e()],1),r("v-layout",{staticClass:"white--text hidden-md-and-up",attrs:{row:""}},[r("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({staticClass:"white--text",staticStyle:{"margin-left":"-25px"},attrs:{icon:""}},a),[r("v-icon",[e._v("menu")])],1)]}}])},[r("v-card",{staticClass:"d-inline-block elevation-12"},[r("v-list",{attrs:{dense:""}},e._l(e.items,(function(t){return r("v-list-tile",{key:t.title,on:{click:function(a){return e.getMobileMenu(t.title)}}},[r("v-list-tile-action",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v(e._s(t.name))])],1)],1)})),1)],1)],1),r("v-spacer"),r("v-flex",[2==e.user_type?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("img",e._g({staticClass:"img11 bounceIn",attrs:{src:a("11be"),alt:"logo"},on:{click:function(t){return e.createTransaction("Sell")}}},s))]}}],null,!1,3928330504)},[r("span",[e._v("Sell Forex")])]):e._e()],1),r("v-flex",[2==e.user_type?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[r("img",e._g({staticClass:"img11 bounceIn",attrs:{src:a("36b2"),alt:"logo"},on:{click:function(t){return e.createTransaction("Buy")}}},s))]}}],null,!1,729895048)},[r("span",[e._v("Buy Forex")])]):e._e()],1)],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:e.dialogTransaction,callback:function(t){e.dialogTransaction=t},expression:"dialogTransaction"}},[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Transaction Type ")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"2"}},[e._v("Transation Information")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"3"}},[e._v("Client Information")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"4"}},[e._v("Settlement Summary")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1","justify-center":""}},[r("h3",{staticStyle:{"margin-left":"200px"}},[e._v("Please select one of the options below")]),r("v-flex",{attrs:{xs12:"","mt-5":""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs6:"","ml-5":"","mt-3":""}},[r("div",{staticClass:"ih-item circle effect3 bottom_to_top"},[r("a",{on:{click:function(t){e.e1=2}}},[r("div",{staticClass:"img"},[r("img",{attrs:{src:a("0907"),alt:"img"}})]),r("div",{staticClass:"info"},[r("h3",[e._v("Anonymous")]),r("p",[e._v("Select this option if the client does not what to be known.")])])])])]),r("v-spacer"),r("v-flex",{attrs:{xs6:"","ml-5":"","mt-3":""}},[r("div",{staticClass:"ih-item circle effect3 bottom_to_top"},[r("a",{on:{click:function(t){e.e1=3}}},[r("div",{staticClass:"img"},[r("img",{attrs:{src:a("21dc"),alt:"img"}})]),r("div",{staticClass:"info"},[r("h3",[e._v("Real Client")]),r("p",[e._v("\n                        Select this option if the client wants to be known and be active\n                        in our loyalty programs\n                      ")])])])])])],1)],1)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("h1",{staticStyle:{"margin-top":"20px",color:"blue"}},[r("span",[e._v("Rate : "+e._s(parseFloat(e.transactionData.rate).toFixed(2)))])])]),r("v-flex",{attrs:{"pa-2":"",xs12:"",md8:""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h1",{staticClass:"card"},[e._v("\n                        Floats:\n                        "),r("span",{staticStyle:{color:"grey"}},[e._v(e._s(parseFloat(e.zeroFloat).toFixed(2)))])])])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-combobox",{attrs:{items:e.currencyData,"item-text":"symbol","item-value":"id",label:"Select Currency Being Received"},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-avatar",{attrs:{left:"",tile:""}},[r("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n                  "+e._s(t.item.iso_code)+"\n                ")]}}]),model:{value:e.transactionData.receive_currency_id,callback:function(t){e.$set(e.transactionData,"receive_currency_id",t)},expression:"transactionData.receive_currency_id"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[e.switch1?r("v-text-field",{attrs:{prefix:"$",disabled:e.disableCheck,label:"Receiveing Amount",type:"number"},model:{value:e.transactionData.receive_amount,callback:function(t){e.$set(e.transactionData,"receive_amount",t)},expression:"transactionData.receive_amount"}}):e._e(),e.switch1?e._e():r("v-text-field",{attrs:{prefix:"$",disabled:e.disableCheck,label:"Disbursing Amount",type:"number"},model:{value:e.transactionData.disburse_amount,callback:function(t){e.$set(e.transactionData,"disburse_amount",t)},expression:"transactionData.disburse_amount"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-combobox",{attrs:{items:e.currencyData,"item-text":"symbol","item-value":"id",label:"Select Currency Being Disbursed"},on:{input:e.getRate},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-avatar",{attrs:{left:"",tile:""}},[r("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n                  "+e._s(t.item.iso_code)+"\n                ")]}}]),model:{value:e.transactionData.disburse_currency_id,callback:function(t){e.$set(e.transactionData,"disburse_currency_id",t)},expression:"transactionData.disburse_currency_id"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[e.switch1?r("h2",{staticStyle:{"margin-top":"15px"}},[e._v("\n                Disburse Amount : $"+e._s(parseFloat(e.transactionData.disburse_amount).toFixed(2))+"\n              ")]):e._e(),e.switch1?e._e():r("h2",{staticStyle:{"margin-top":"15px"}},[e._v("\n                Receiveing Amount : $"+e._s(parseFloat(e.transactionData.receive_amount).toFixed(2))+"\n              ")])])],1),r("v-layout",[r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.checkTransaction}},[e._v(" Continue ")])],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-switch",{staticClass:"mb-3",attrs:{label:"Reverse Calculation : "+e.switch1.toString()},model:{value:e.switch1,callback:function(t){e.switch1=t},expression:"switch1"}})],1)],1)],1),r("v-stepper-content",{attrs:{step:"3"}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs10:"",sm8:"",md11:""}},[r("v-combobox",{attrs:{disabled:e.clientDisabled,items:e.clientData,"item-text":"first_name","item-value":"id",label:"Search by First Name"},on:{input:e.getClientByName},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                  "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n                ")]}}]),model:{value:e.clientID,callback:function(t){e.clientID=t},expression:"clientID"}})],1),r("v-flex",{attrs:{xs2:"",sm4:"",md1:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2"},on:{click:e.openAddNewClient}},[r("v-icon",e._g({},a),[e._v("add")])],1)]}}])},[r("span",[e._v("Add New Client")])])],1),r("v-flex",{attrs:{xs10:"",sm8:"",md11:""}},[r("v-combobox",{attrs:{disabled:e.clientDisabled,items:e.clientData,"item-text":"last_name","item-value":"id",label:"Search by Last Name"},on:{input:e.getClientByName2},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                  "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n                ")]}}]),model:{value:e.clientID,callback:function(t){e.clientID=t},expression:"clientID"}})],1),r("v-flex",{attrs:{xs2:"",sm4:"",md1:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2"},on:{click:e.openAddNewClient}},[r("v-icon",e._g({},a),[e._v("add")])],1)]}}])},[r("span",[e._v("Add New Client")])])],1),r("v-flex",{attrs:{"pa-1":"",xs12:"",md12:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"}},[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.first_name)+" "+e._s(e.last_name))])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.id_number))])])],1),e._l(e.clientHistory,(function(t){return r("v-card",{key:t.id,attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1 bounceIn",attrs:{"mb-2":""},on:{click:function(a){return e.openClientHistory(t.client_id,t.transaction_type)}}},[r("v-layout",{attrs:{row:"",wrap:"","ma-1":""}},[r("img",{staticClass:"image",attrs:{src:e.image+t.image}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("\n                        Total "+e._s(t.transaction_type)+"'s\n                        "),r("span",{staticStyle:{color:"grey"}},[e._v(e._s(t.currency)+"\n                          "+e._s(parseFloat(t.amount).toFixed(2)))])]),r("h3",{staticStyle:{color:"gray"}},[e._v("\n                        last transacted : "+e._s(e._f("moment")(t.date_time,"calendar"))+"\n                      ")])])],1)],1)],1)}))],2)],1),r("v-btn",{attrs:{color:"primary"},on:{click:e.gotToTransactionStep}},[e._v(" Next ")])],1),r("v-stepper-content",{attrs:{step:"4"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("div",{staticClass:"invoice-box rtl"},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41")}})])]),r("tr"),r("tr",[r("td",[e._v("\n                          Invoice #: 123"),r("br"),e._v("\n                          Created: "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",[e._v("\n                          537 Syringa, Euphorbia Road"),r("br"),e._v("\n                          Chiredzi"),r("br"),e._v("\n                          0313221,+263 774 063 714\n                        ")])])])])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Payment Method")]),r("td",[e._v("Total Amount")])]),r("tr",{staticClass:"details"},[r("td",[e._v("Cash")]),r("td",[e._v("\n                    "+e._s(e.transactionData.receive_amount)+"\n                  ")])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Item")]),r("td",[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",[e._v("\n                    "+e._s(e.teller_branch)+"\n                  ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",[e._v(e._s(e.teller_first_name)+" "+e._s(e.teller_last_name))])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client")]),r("td",[e._v(e._s(e.first_name)+" "+e._s(e.last_name))])]),r("tr",{staticClass:"item"},[r("td",[e._v("Transaction Type")]),r("td",[e._v("\n                    "+e._s(e.transaction_type)+"\n                  ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Received")]),r("td",[e._v("\n                    "+e._s(e.receive_symbol)+"\n                    "+e._s(parseFloat(e.transactionData.receive_amount).toFixed(2))+"\n                  ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",[e._v("\n                    "+e._s(e.disburse_symbol)+"\n                    "+e._s(parseFloat(e.transactionData.disburse_amount).toFixed(2))+"\n                  ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("@Rate")]),r("td",[e._v("\n                    "+e._s(parseFloat(e.transactionData.rate).toFixed(2))+"\n                  ")])])])])]),r("v-btn",{attrs:{color:"primary"},on:{click:e.settleTransaction}},[e._v(" Settle and Print ")])],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"850px"},model:{value:e.dialogTransactionSend,callback:function(t){e.dialogTransactionSend=t},expression:"dialogTransactionSend"}},[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Transaction Type ")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"2"}},[e._v("Client Information")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"3"}},[e._v("Transation Information")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"4"}},[e._v("Settlement Summary")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1","justify-center":""}},[r("h3",{staticStyle:{"margin-left":"250px"}},[e._v("Please select one of the options below")]),r("v-flex",{attrs:{xs12:"","mt-5":""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{xs4:"","mt-3":""}},[r("div",{staticClass:"ih-item circle effect3 bottom_to_top"},[r("a",{on:{click:function(t){return e.sendType("Send")}}},[r("div",{staticClass:"img"},[r("img",{attrs:{src:a("21dc"),alt:"img"}})]),r("div",{staticClass:"info"},[r("h3",[e._v("Send Money")]),r("p",[e._v("Select this option to initiate a send money transaction.")])])])])]),r("v-flex",{attrs:{xs4:"","ml-5":"","mt-3":""}},[r("div",{staticClass:"ih-item circle effect3 bottom_to_top"},[r("a",{on:{click:function(t){return e.sendType("Payout")}}},[r("div",{staticClass:"img"},[r("img",{attrs:{src:a("6fc3"),alt:"img"}})]),r("div",{staticClass:"info"},[r("h3",[e._v("Payout")]),r("p",[e._v("Select this option to disburse cash to a client")])])])])]),r("v-flex",{attrs:{xs4:"","ml-5":"","mt-3":""}},[r("div",{staticClass:"ih-item circle effect3 bottom_to_top"},[r("a",{on:{click:function(t){return e.sendType("Booking")}}},[r("div",{staticClass:"img"},[r("img",{attrs:{src:a("b532"),alt:"img"}})]),r("div",{staticClass:"info"},[r("h3",[e._v("Booking")]),r("p",[e._v("Select this option to confirm online booking")])])])])])],1)],1)],1),r("v-stepper-content",{attrs:{step:"3"}},["Payout"==e.contisend.sendTypeData?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"pa-2":"",xs12:""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h1",{staticClass:"card"},[e._v("\n                        Pay Out Amount:\n                        "),r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.contiPayout.symbol)+"\n                          "+e._s(parseFloat(e.contiPayout.receive_amount).toFixed(2)))])])])],1)],1)],1),r("v-text-field",{attrs:{label:"Enter Recipient Address Here",type:"text",solo:"",outlined:""},model:{value:e.recipient_address,callback:function(t){e.recipient_address=t},expression:"recipient_address"}})],1),r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"},attrs:{xs6:""}},[r("v-card",[r("v-card-text",[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.contiPayout.first_name)+" "+e._s(e.contiPayout.last_name)+" :\n                      Sender")])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.contiPayout.id_number))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Cell Number# : "+e._s(e.contiPayout.cell))]),r("p")])],1)],1),r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"},attrs:{xs6:""}},[r("v-card",[r("v-card-text",[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.contiPayout.recipientFirstName)+"\n                      "+e._s(e.contiPayout.recipientLastName)+" : Recipient")])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.contiPayout.recipientID))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Cell Number# : "+e._s(e.contiPayout.recipientCell))]),r("p")])],1)],1)],1):e._e(),"Payout"!=e.contisend.sendTypeData?r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md4:""}},[r("h1",{staticStyle:{"margin-top":"20px",color:"blue"}},[r("span",[e._v("Charge : "+e._s(parseFloat(e.commissions).toFixed(2)))])])]),r("v-flex",{attrs:{"pa-2":"",xs12:"",md8:""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h1",{staticClass:"card"},[e._v("\n                        Expected Amount:\n                        "),r("span",{staticStyle:{color:"grey"}},[e._v(e._s(parseFloat(e.full_send_amount).toFixed(2)))])])])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-combobox",{attrs:{items:e.currencyData,"item-text":"symbol","item-value":"id",label:"Select Currency Being Sent"},on:{input:e.getRateSend},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-avatar",{attrs:{left:"",tile:""}},[r("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n                  "+e._s(t.item.iso_code)+"\n                ")]}}],null,!1,1497704528),model:{value:e.transactionData.receive_currency_id,callback:function(t){e.$set(e.transactionData,"receive_currency_id",t)},expression:"transactionData.receive_currency_id"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{prefix:"$",label:"Sending Amount",type:"number"},model:{value:e.transactionData.receive_amount,callback:function(t){e.$set(e.transactionData,"receive_amount",t)},expression:"transactionData.receive_amount"}})],1)],1):e._e(),"Payout"!=e.contisend.sendTypeData?r("v-btn",{attrs:{color:"primary",disabled:e.checkCommission},on:{click:e.checkTransactionSend}},[e._v("\n            Lock & Continue\n          ")]):e._e(),"Payout"==e.contisend.sendTypeData?r("v-btn",{attrs:{color:"primary"},on:{click:e.checkTransactionSend}},[e._v("\n            Lock & Continue\n          ")]):e._e(),"Send"==e.contisend.sendTypeData?r("v-btn",{attrs:{color:"green",dark:""},on:{click:e.checkRateSend}},[e._v("\n            Get Commissions\n          ")]):e._e()],1),r("v-stepper-content",{attrs:{step:"2"}},["Send"==e.contisend.sendTypeData?r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs10:"",sm8:"",md11:""}},[r("v-combobox",{attrs:{disabled:e.clientDisabled,items:e.clientData,"item-text":"firstName","item-value":"id",label:"Search by First Name"},on:{input:e.getClientByNameSend},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                  "+e._s(t.item.firstName)+" "+e._s(t.item.lastName)+"\n                ")]}}],null,!1,3299815396),model:{value:e.clientID,callback:function(t){e.clientID=t},expression:"clientID"}})],1),r("v-flex",{attrs:{xs2:"",sm4:"",md1:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2"},on:{click:e.openAddNewClientCS}},[r("v-icon",e._g({},a),[e._v("add")])],1)]}}],null,!1,851981239)},[r("span",[e._v("Add New Client")])])],1),r("v-flex",{attrs:{xs10:"",sm8:"",md12:""}},[r("v-combobox",{attrs:{items:["Harare","Bulawayo","Chitungwiza","Mutare","Epworth","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Norton","Marondera","Ruwa","Chegutu","Zvishavane","Bindura","Beitbridge","Redcliff","Victoria Falls","Hwange","Rusape","Chiredzi","Kariba","Karoi","Chipinge","Gokwe","Shurugwi"],label:"Select city to send"},model:{value:e.contisend.city_name,callback:function(t){e.$set(e.contisend,"city_name",t)},expression:"contisend.city_name"}})],1),r("v-flex",{attrs:{"pa-1":"",xs12:"",md12:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"}},[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.first_name)+" "+e._s(e.last_name))])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.id_number))])])],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs6:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{type:"text",placeholder:"Recipient first name"},model:{value:e.contisend.recipientFirstName,callback:function(t){e.$set(e.contisend,"recipientFirstName",t)},expression:"contisend.recipientFirstName"}})],1),r("v-flex",{attrs:{xs6:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{type:"text",placeholder:"Recipient last name"},model:{value:e.contisend.recipientLastName,callback:function(t){e.$set(e.contisend,"recipientLastName",t)},expression:"contisend.recipientLastName"}})],1),r("v-flex",{attrs:{xs6:"",md6:"","pr-2":""}},[r("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.contisend.recipientCell,callback:function(t){e.$set(e.contisend,"recipientCell",t)},expression:"contisend.recipientCell"}})],1),r("v-flex",{attrs:{xs6:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{type:"text",placeholder:"Recipient ID Number"},model:{value:e.contisend.recipientID,callback:function(t){e.$set(e.contisend,"recipientID",t)},expression:"contisend.recipientID"}})],1)],1)],1)],1):e._e(),"Send"!=e.contisend.sendTypeData?r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Client Reference Code",type:"number",placeholder:" "},model:{value:e.contisend.refNumber,callback:function(t){e.$set(e.contisend,"refNumber",t)},expression:"contisend.refNumber"}})],1),"Booking"==e.contisend.sendTypeData?r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-combobox",{attrs:{items:["Harare","Bulawayo","Chitungwiza","Mutare","Epworth","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Norton","Marondera","Ruwa","Chegutu","Zvishavane","Bindura","Beitbridge","Redcliff","Victoria Falls","Hwange","Rusape","Chiredzi","Kariba","Karoi","Chipinge","Gokwe","Shurugwi"],label:"Select city to send"},model:{value:e.contisend.city_name,callback:function(t){e.$set(e.contisend,"city_name",t)},expression:"contisend.city_name"}})],1):e._e()],1):e._e(),r("v-btn",{attrs:{color:"primary"},on:{click:e.gotToTransactionStepSend}},[e._v(" Next ")]),e.showLoyaltyReg?e._e():r("v-btn",{attrs:{color:"success"},on:{click:e.registerClientLoyalty}},[e._v("\n            Register Client for Loyality\n          ")]),e.showLoyaltyPoints?r("v-btn",{attrs:{color:"warning"},on:{click:e.getLoyaltyBal}},[e._v("\n            Registerd Client Loyalty Balance.\n          ")]):e._e()],1),r("v-stepper-content",{attrs:{step:"4"}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("div",{staticClass:"invoice-box rtl"},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41")}})])]),r("tr"),r("tr",[r("td",[e._v("\n                          Invoice #: 123"),r("br"),e._v("\n                          Created: "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",[e._v("\n                          537 Syringa, Euphorbia Road"),r("br"),e._v("\n                          Chiredzi"),r("br"),e._v("\n                          0313221,+263 774 063 714\n                        ")])])])])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Total Amount")]),r("td",[e._v("Payment Method")])]),"Send"==e.contisend.sendTypeData?r("tr",{staticClass:"details"},[r("td",[e._v("\n                    "+e._s(e.transactionData.receive_amount)+"\n                  ")]),r("td",[e._v("Cash")])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"details"},[r("td",[e._v("\n                    "+e._s(e.contiBooking.transaction.senderAmount)+"\n                  ")]),r("td",[e._v("Cash")])]):e._e(),"Payout"==e.contisend.sendTypeData?r("tr",{staticClass:"details"},[r("td",[e._v("\n                    "+e._s(e.contiPayout.receive_amount)+"\n                  ")]),r("td",[e._v("Cash")])]):e._e(),r("tr",{staticClass:"heading"},[r("td",[e._v("Amount")]),r("td",[e._v("Item")])]),r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.teller_branch)+"\n                  ")]),r("td",[e._v("Branch")])]),r("tr",{staticClass:"item"},[r("td",[e._v(e._s(e.teller_first_name)+" "+e._s(e.teller_last_name))]),r("td",[e._v("Teller")])]),"Payout"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v(e._s(e.contiPayout.first_name)+" "+e._s(e.contiPayout.last_name))]),r("td",[e._v("Sender")])]):e._e(),"Payout"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contiPayout.recipientFirstName)+"\n                    "+e._s(e.contiPayout.recipientLastName)+"\n                  ")]),r("td",[e._v("Recipient")])]):e._e(),"Send"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v(e._s(e.first_name)+" "+e._s(e.last_name))]),r("td",[e._v("Sender")])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contiBooking.sender.firstName)+"\n                    "+e._s(e.contiBooking.sender.lastName)+"\n                  ")]),r("td",[e._v("Sender")])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[r("b",[e._v(e._s(e.contiBooking.sender.nationalId)+" ")])]),r("td",[r("b",[e._v("Sender ID")])])]):e._e(),"Send"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contisend.recipientFirstName)+" "+e._s(e.contisend.recipientLastName)+"\n                  ")]),r("td",[e._v("Recipient")])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contiBooking.recipient.firstName)+"\n                    "+e._s(e.contiBooking.recipient.lastName)+"\n                  ")]),r("td",[e._v("Recipient")])]):e._e(),r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.transaction_type)+"\n                  ")]),r("td",[e._v("Transaction Type")])]),"Send"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.receive_symbol)+"\n                    "+e._s(parseFloat(e.transactionData.receive_amount).toFixed(2))+"\n                  ")]),r("td",[e._v("Received")])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contiBooking.transaction.senderCurrency)+"\n                    "+e._s(parseFloat(e.contiBooking.transaction.beneficiaryAmount).toFixed(2))+"\n                  ")]),r("td",[e._v("Beneficiary Amount")])]):e._e(),"Send"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v(e._s(e.receive_symbol)+" "+e._s(parseFloat(e.commissions).toFixed(2)))]),r("td",[e._v("Commissions")])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contiBooking.transaction.senderCurrency)+"\n                    "+e._s(parseFloat(e.contiBooking.transaction.senderFees).toFixed(2))+"\n                  ")]),r("td",[e._v("Commissions")])]):e._e(),"Send"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[r("b",[e._v("\n                      "+e._s(e.receive_symbol)+" "+e._s(parseFloat(e.full_send_amount).toFixed(2))+"\n                    ")])]),r("td",[r("b",[e._v("Total")])])]):e._e(),"Booking"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[r("b",[e._v("\n                      "+e._s(e.contiBooking.transaction.senderCurrency)+"\n                      "+e._s(parseFloat(e.contiBooking.transaction.senderAmount).toFixed(2))+"\n                    ")])]),r("td",[r("b",[e._v("Total")])])]):e._e(),"Payout"==e.contisend.sendTypeData?r("tr",{staticClass:"item"},[r("td",[e._v("\n                    "+e._s(e.contiPayout.symbol)+"\n                    "+e._s(parseFloat(e.contiPayout.receive_amount).toFixed(2))+"\n                  ")]),r("td",[e._v("Disbursement")])]):e._e(),r("tr",{staticClass:"item"},[r("td"),r("td",[e._v("Ts & Cs Apply")])])])])]),"Send"==e.contisend.sendTypeData?r("v-btn",{attrs:{color:"primary"},on:{click:e.settleTransactionSend}},[e._v("\n            Receive Deposit\n          ")]):e._e(),"Booking"==e.contisend.sendTypeData?r("v-btn",{attrs:{color:"primary"},on:{click:e.settleTransactionSend}},[e._v("\n            Receive Deposit\n          ")]):e._e(),"Payout"==e.contisend.sendTypeData?r("v-btn",{attrs:{color:"primary"},on:{click:e.settleTransactionSend}},[e._v("\n            Payout Client\n          ")]):e._e(),"Payout"==e.contisend.sendTypeData?r("v-btn",{attrs:{color:"error"},on:{click:e.settleTransactionSendUnlock}},[e._v("\n            Unlock Reference\n          ")]):e._e(),r("v-btn",{attrs:{color:"error"},on:{click:e.nameScanSend}},[e._v(" NameScan Clients. ")])],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"750px"},model:{value:e.dialogTransactionUtility,callback:function(t){e.dialogTransactionUtility=t},expression:"dialogTransactionUtility"}},[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("Utility Options")]),r("v-divider"),r("v-stepper-step",{attrs:{step:"2"}},[e._v("Transaction Information")]),r("v-divider")],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1","justify-center":""}},[r("h3",{staticStyle:{"margin-left":"200px"}},[e._v("Please select one of the options below")]),r("v-flex",{attrs:{xs12:"","mt-5":""}},[r("v-layout",{attrs:{row:""}},e._l(e.Utilities,(function(t){return r("v-flex",{key:t.id,attrs:{xs2:""}},[r("div",{staticClass:"ih-item circle colored effect6 scale_up imageUtilityIcon"},[r("a",{on:{click:function(a){return e.utilitySelected(t.id)}}},[r("div",[r("img",{attrs:{src:e.image+t.image,alt:"img"}})])])])])})),1)],1)],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs10:"",sm8:"",md11:""}},[r("v-combobox",{attrs:{disabled:e.clientDisabled,items:e.clientData,"item-text":"first_name","item-value":"id",label:"Search by First Name"},on:{input:e.getClientByName},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                  "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n                ")]}}]),model:{value:e.clientID,callback:function(t){e.clientID=t},expression:"clientID"}})],1),r("v-flex",{attrs:{xs2:"",sm4:"",md1:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2"},on:{click:e.openAddNewClient}},[r("v-icon",e._g({},a),[e._v("add")])],1)]}}])},[r("span",[e._v("Add New Client")])])],1),r("v-flex",{attrs:{xs10:"",sm8:"",md11:""}},[r("v-combobox",{attrs:{disabled:e.clientDisabled,items:e.clientData,"item-text":"last_name","item-value":"id",label:"Search by Last Name"},on:{input:e.getClientByName2},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n                  "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n                ")]}}]),model:{value:e.clientID,callback:function(t){e.clientID=t},expression:"clientID"}})],1),r("v-flex",{attrs:{xs2:"",sm4:"",md1:""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2"},on:{click:e.openAddNewClient}},[r("v-icon",e._g({},a),[e._v("add")])],1)]}}])},[r("span",[e._v("Add New Client")])])],1),"1274"!=e.utility?r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-combobox",{attrs:{items:e.currencyData,"item-text":"symbol","item-value":"id",label:"Select Currency"},on:{input:e.getRate},scopedSlots:e._u([{key:"item",fn:function(t){return[r("v-avatar",{attrs:{left:"",tile:""}},[r("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n                  "+e._s(t.item.iso_code)+"\n                ")]}}],null,!1,1497704528),model:{value:e.utilityCurrency,callback:function(t){e.utilityCurrency=t},expression:"utilityCurrency"}})],1):e._e(),"1274"==e.utility?r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-combobox",{attrs:{items:e.dstvDataDown,"item-text":"product","item-value":"id",label:"Select DSTv Packages"},on:{input:e.getProduct},model:{value:e.utilityCurrency,callback:function(t){e.utilityCurrency=t},expression:"utilityCurrency"}})],1):e._e(),r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Enter Account/Meter Number",type:"number"},model:{value:e.meterNumber,callback:function(t){e.meterNumber=t},expression:"meterNumber"}})],1),"1274"==e.utility?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":"","mt-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"cardDstv cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("v-flex",{staticStyle:{"text-align":"right"}},[r("h1",{staticClass:"card"},[e._v("\n                        USD:\n                        "),r("span",{staticStyle:{color:"grey"}},[e._v(e._s(parseFloat(e.dstvTotal).toFixed(2)))])])])],1)],1)],1)],1):e._e(),"1274"==e.utility?r("v-flex",{attrs:{xs12:"",md12:"","pl-2":""}},e._l(e.dstvDataCheck,(function(t){return r("v-flex",{key:t.id},[r("v-checkbox",{attrs:{label:t.product,value:t},model:{value:e.productSelected,callback:function(t){e.productSelected=t},expression:"productSelected"}})],1)})),1):e._e(),"1274"!=e.utility?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{type:"number",placeholder:"Transaction Amount"},model:{value:e.utilityAmount,callback:function(t){e.utilityAmount=t},expression:"utilityAmount"}})],1):e._e(),r("v-flex",{attrs:{"pa-1":"",xs12:"",md12:""}},[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"}},[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.first_name)+" "+e._s(e.last_name))])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.id_number))])])],1)],1)],1),r("v-btn",{attrs:{color:"primary"},on:{click:e.utilityTransaction}},[e._v(" Save Transaction ")])],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.dialogTransactionWorldRemit,callback:function(t){e.dialogTransactionWorldRemit=t},expression:"dialogTransactionWorldRemit"}},[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("World Remit Cash Pick-Up")]),r("v-divider")],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[e.viewCheck?e._e():r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Client Reference Code",type:"number",placeholder:" "},model:{value:e.worldremitRef,callback:function(t){e.worldremitRef=t},expression:"worldremitRef"}})],1),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Enter Teller PIN",type:"password"},model:{value:e.pinWorldRemit,callback:function(t){e.pinWorldRemit=t},expression:"pinWorldRemit"}})],1):e._e(),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Beneficiary ID No."},model:{value:e.clientIDWorldRemit,callback:function(t){e.clientIDWorldRemit=t},expression:"clientIDWorldRemit"}})],1):e._e(),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Physical Address"},model:{value:e.clientAddress,callback:function(t){e.clientAddress=t},expression:"clientAddress"}})],1):e._e(),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-combobox",{attrs:{items:["MALE","FEMALE"],label:"Beneficiary Gender"},model:{value:e.clientGender,callback:function(t){e.clientGender=t},expression:"clientGender"}})],1):e._e(),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-text-field",{attrs:{label:"Beneficiary District"},model:{value:e.clientDistrict,callback:function(t){e.clientDistrict=t},expression:"clientDistrict"}})],1):e._e(),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-combobox",{attrs:{items:["GRC","GFT","UTB","SOWF","MED","CNT"],label:"Transaction Purpose"},model:{value:e.transactionPurpose,callback:function(t){e.transactionPurpose=t},expression:"transactionPurpose"}})],1):e._e(),e.viewCheck&&2==e.searched?r("v-flex",{attrs:{xs12:"",md6:"","pr-2":""}},[r("v-combobox",{attrs:{items:["GFT","SAL"],label:"Source of funds"},model:{value:e.sourceFunds,callback:function(t){e.sourceFunds=t},expression:"sourceFunds"}})],1):e._e(),e.viewCheck?r("v-flex",{attrs:{"pa-1":"",xs12:"",md12:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"pa-2":"",xs12:""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h1",{staticClass:"card"},[e._v("\n                            Pay Out Amount:\n                            "),r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.transaction.beneficiaryCurrency)+"\n                              "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2)))])])])],1)],1)],1)],1),r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"},attrs:{xs6:""}},[r("v-card",[r("v-card-text",[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.sender.firstName)+" "+e._s(e.sender.middleName)+"\n                          "+e._s(e.sender.lastName)+" : Sender")])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.sender.nationalId))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Cell Number# : "+e._s(e.sender.mobilePhone))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Email# : "+e._s(e.sender.email))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Country# : "+e._s(e.sender.countryName))])])],1)],1),r("v-flex",{staticStyle:{"text-align":"left",padding:"3px"},attrs:{xs6:""}},[r("v-card",[r("v-card-text",[r("h2",[r("span",{staticStyle:{color:"grey"}},[e._v(e._s(e.recipient.firstName)+" "+e._s(e.recipient.middleName)+"\n                          "+e._s(e.recipient.lastName)+" : Recipient")])]),r("span",{staticStyle:{color:"gray"}},[e._v("ID No# : "+e._s(e.recipient.nationalId))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Cell Number# : "+e._s(e.recipient.mobilePhone))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Email# : "+e._s(e.recipient.email))]),r("p"),r("span",{staticStyle:{color:"gray"}},[e._v("Country# : "+e._s(e.recipient.countryName))])])],1)],1)],1)],1):e._e()],1),e.viewCheck||0!=e.searched?e._e():r("v-btn",{attrs:{color:"primary"},on:{click:e.CheckReference}},[e._v("\n            Search Reference\n          ")]),e.viewCheck&&1==e.searched?r("v-btn",{attrs:{color:"purple",dark:""},on:{click:e.LockReference}},[e._v("\n            Lock\n          ")]):e._e(),e.viewCheck&&1==e.searched?r("v-btn",{attrs:{color:"red",dark:""},on:{click:function(t){e.dialogTransactionWorldRemit=!1}}},[e._v("\n            Close Form\n          ")]):e._e(),e.viewCheck&&2==e.searched?r("v-btn",{staticClass:"white--text",attrs:{disabled:e.disableButton,color:"red"},on:{click:e.ProcessReference}},[e._v("\n            Payout Reference\n          ")]):e._e(),e.viewCheck&&2==e.searched?r("v-btn",{attrs:{dark:"",color:"green"},on:{click:function(t){e.dialogDeclineReference=!0}}},[e._v("\n            Un-lock Transaction\n          ")]):e._e()],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogDeclineReference,callback:function(t){e.dialogDeclineReference=t},expression:"dialogDeclineReference"}},[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{complete:e.e1>1,step:"1"}},[e._v("World Remit Decline Reason")]),r("v-divider")],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-textarea",{attrs:{outlined:"",label:"Decline Reason"},model:{value:e.declineMessage,callback:function(t){e.declineMessage=t},expression:"declineMessage"}})],1)],1),e.viewCheck?r("v-btn",{attrs:{dark:"",color:"red"},on:{click:e.DeclineReference}},[e._v("\n            Submit\n          ")]):e._e()],1)],1)],1)],1),r("v-dialog",{attrs:{width:"500px"},model:{value:e.dialogDeclineReferenceCS,callback:function(t){e.dialogDeclineReferenceCS=t},expression:"dialogDeclineReferenceCS"}},[r("v-card",[r("v-card-title",{staticClass:"headline grey lighten-2"},[e._v("\n        ContiSend Unlock Reason\n      ")]),r("v-card-text",[r("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-2":""}},[r("v-textarea",{attrs:{outlined:"",label:"Unlock Reason"},model:{value:e.declineMessage,callback:function(t){e.declineMessage=t},expression:"declineMessage"}})],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{dark:"",color:"red"},on:{click:e.DeclineReferenceCS}},[e._v(" Submit ")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[r("v-stepper",{model:{value:e.e11,callback:function(t){e.e11=t},expression:"e11"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{editable:"",complete:e.e11>1,step:"1"}},[e._v("Personal Information")]),r("v-divider"),r("v-stepper-step",{attrs:{editable:"",step:"2"}},[e._v("Client Type")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-layout",{attrs:{wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedClient.first_name,callback:function(t){e.$set(e.editedClient,"first_name",t)},expression:"editedClient.first_name"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedClient.last_name,callback:function(t){e.$set(e.editedClient,"last_name",t)},expression:"editedClient.last_name"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"National ID"},model:{value:e.editedClient.id_number,callback:function(t){e.$set(e.editedClient,"id_number",t)},expression:"editedClient.id_number"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.editedClient.cell,callback:function(t){e.$set(e.editedClient,"cell",t)},expression:"editedClient.cell"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Email Address"},model:{value:e.editedClient.email,callback:function(t){e.$set(e.editedClient,"email",t)},expression:"editedClient.email"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Date of Birth(DD-MM-YYYY)",type:"date"},model:{value:e.editedClient.date_of_birth,callback:function(t){e.$set(e.editedClient,"date_of_birth",t)},expression:"editedClient.date_of_birth"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("v-text-field",{attrs:{label:"Address"},model:{value:e.editedClient.address,callback:function(t){e.$set(e.editedClient,"address",t)},expression:"editedClient.address"}})],1)],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e11=2}}},[e._v(" Continue ")])],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-layout",{attrs:{wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[r("v-select",{attrs:{label:"Client Type","item-text":"status","item-value":"id",items:e.userlevelData},model:{value:e.editedClient.company_id,callback:function(t){e.$set(e.editedClient,"company_id",t)},expression:"editedClient.company_id"}})],1)],1),r("v-btn",{attrs:{color:"primary"},on:{click:e.saveNewClient}},[e._v(" Save ")]),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e11=1}}},[e._v("back")])],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUserCS,callback:function(t){e.dialogUserCS=t},expression:"dialogUserCS"}},[r("v-stepper",{model:{value:e.e11,callback:function(t){e.e11=t},expression:"e11"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{editable:"",complete:e.e11>1,step:"1"}},[e._v("Personal Information")]),r("v-divider")],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-layout",{attrs:{wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedClient.first_name,callback:function(t){e.$set(e.editedClient,"first_name",t)},expression:"editedClient.first_name"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedClient.last_name,callback:function(t){e.$set(e.editedClient,"last_name",t)},expression:"editedClient.last_name"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"National ID"},model:{value:e.editedClient.id_number,callback:function(t){e.$set(e.editedClient,"id_number",t)},expression:"editedClient.id_number"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.editedClient.cell,callback:function(t){e.$set(e.editedClient,"cell",t)},expression:"editedClient.cell"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Email Address"},model:{value:e.editedClient.email,callback:function(t){e.$set(e.editedClient,"email",t)},expression:"editedClient.email"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-select",{attrs:{label:"Gender Type","item-text":"name","item-value":"value",items:e.genderData},model:{value:e.editedClient.gender,callback:function(t){e.$set(e.editedClient,"gender",t)},expression:"editedClient.gender"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[r("v-text-field",{attrs:{label:"Address"},model:{value:e.editedClient.address,callback:function(t){e.$set(e.editedClient,"address",t)},expression:"editedClient.address"}})],1)],1),r("v-btn",{attrs:{color:"primary"},on:{click:e.saveNewClientCS}},[e._v(" Save ")])],1)],1)],1)],1),r("v-dialog",[r("div",{staticClass:"invoice-box rtl",attrs:{id:"Sale"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"250px"},attrs:{src:a("dd41"),alt:"Sahwira"}})])]),r("tr",[r("br")]),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Invoice # "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br"),r("br"),r("br"),r("strong",[e._v(" Customer Copy")]),r("br"),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  537 Syringa, Euphorbia Road"),r("br"),e._v("\n                  Chiredzi"),r("br"),e._v("\n                  0313221,+263 774 063 714\n                ")])])])])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_branch)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.first_name)+" "+e._s(e.last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client Cell")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.cell)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Tran Type")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.transaction_type)+"\n          ")])]),r("tr",{staticClass:"heading"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[r("br")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Received")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.receive_symbol)+"\n            "+e._s(parseFloat(e.transactionData.receive_amount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.disburse_symbol)+"\n            "+e._s(parseFloat(e.transactionData.disburse_amount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("Rate")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(e.transactionData.rate).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])])]),r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"250px"},attrs:{src:a("dd41"),alt:"ContiCash FX"}})])]),r("tr",[r("br")]),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Invoice # "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br"),r("br"),r("br"),r("strong",[e._v(" Merchant Copy")]),r("br"),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  537 Syringa, Euphorbia Road"),r("br"),e._v("\n                  Chiredzi"),r("br"),e._v("\n                  0313221,+263 774 063 714\n                ")])])])])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_branch)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.first_name)+" "+e._s(e.last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client Cell")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.cell)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Tran Type")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.transaction_type)+"\n          ")])]),r("tr",{staticClass:"heading"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[r("br")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Received")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.receive_symbol)+"\n            "+e._s(parseFloat(e.transactionData.receive_amount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.disburse_symbol)+"\n            "+e._s(parseFloat(e.transactionData.disburse_amount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("Rate")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(e.transactionData.rate).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])])])])]),r("v-dialog",[r("div",{staticClass:"invoice-box rtl",attrs:{id:"WorldRemit"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"250px"},attrs:{src:a("dd41"),alt:"Sahwira"}})])]),r("tr",[r("br")]),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Invoice # "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br"),r("br"),r("br"),r("strong",[e._v(" Customer Copy")]),r("br"),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  537 Syringa, Euphorbia Road"),r("br"),e._v("\n                  Chiredzi"),r("br"),e._v("\n                  0313221,+263 774 063 714\n                ")])])])])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_branch)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client Cell")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.mobilePhone)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Tran Type")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.transaction_type)+"\n          ")])]),r("tr",{staticClass:"heading"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[r("br")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.transaction.beneficiaryCurrency)+"\n            "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("@Charge")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(e.transaction.beneficiaryCharges).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])])]),r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"250px"},attrs:{src:a("dd41"),alt:"ContiCash FX"}})])]),r("tr",[r("br")]),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Invoice # "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br"),r("br"),r("br"),r("strong",[e._v(" Merchant Copy")]),r("br"),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  537 Syringa, Euphorbia Road"),r("br"),e._v("\n                  Chiredzi"),r("br"),e._v("\n                  0313221,+263 774 063 714\n                ")])])])])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_branch)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client Cell")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.mobilePhone)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Tran Type")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.transaction_type)+"\n          ")])]),r("tr",{staticClass:"heading"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[r("br")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.transaction.beneficiaryCurrency)+"\n            "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("@Charge")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(e.transaction.beneficiaryCharges).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])])])])]),r("v-dialog",[r("div",{staticClass:"invoice-box rtl",attrs:{id:"ContiSend"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"250px"},attrs:{src:a("018d"),alt:"Sahwira"}})])]),r("tr",[r("br")]),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Invoice # "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br"),r("br"),r("br"),r("strong",[e._v(" Customer Copy")]),r("br"),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  537 Syringa, Euphorbia Road"),r("br"),e._v("\n                  Chiredzi"),r("br"),e._v("\n                  0313221,+263 774 063 714\n                ")])])])])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_branch)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Sender")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Recipient")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client Cell")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.mobilePhone)+"\n          ")])]),r("tr",{staticClass:"heading"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[r("br")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.transaction.beneficiaryCurrency)+"\n            "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("@Charge")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(e.transaction.beneficiaryCharges).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("Ts & Cs Apply")])])]),r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"250px"},attrs:{src:a("dd41"),alt:"Sahwira"}})])]),r("tr",[r("br")]),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Invoice # "),r("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br"),r("br"),r("br"),r("strong",[e._v(" Merchant Copy")]),r("br"),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  537 Syringa, Euphorbia Road"),r("br"),e._v("\n                  Chiredzi"),r("br"),e._v("\n                  0313221,+263 774 063 714\n                ")])])])])]),r("tr",{staticClass:"item"},[r("td",[e._v("Branch")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_branch)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Teller")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Client Cell")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.recipient.mobilePhone)+"\n          ")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Tran Type")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n            "+e._s(e.transaction_type)+"\n          ")])]),r("tr",{staticClass:"heading"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("Amount")])]),r("tr",{staticClass:"item"},[r("td",[r("br")])]),r("tr",{staticClass:"item"},[r("td",[e._v("Disbursement")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(e.transaction.beneficiaryCurrency)+"\n            "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("@Charge")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(e.transaction.beneficiaryCharges).toFixed(2))+"\n          ")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("Ts & Cs Apply")])])])])]),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogcheckPin,callback:function(t){e.dialogcheckPin=t},expression:"dialogcheckPin"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Confirm Settlement")])]),r("v-layout",[r("v-flex",{attrs:{xs12:"","pa-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"password",label:"Please enter you security pin",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkPin(t)}},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogcheckPin=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.checkPin}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogcheckPinSend,callback:function(t){e.dialogcheckPinSend=t},expression:"dialogcheckPinSend"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Confirm Settlement")])]),r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:"","pa-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"password",label:"Please enter you security pin",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.checkPin(t)}},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}})],1),"Payout"==e.contisend.sendTypeData?r("v-flex",{attrs:{xs12:"","pl-3":"","pr-3":"","pb-3":""}},[r("v-text-field",{attrs:{label:"Cash Out Pin",type:"password"},model:{value:e.contisend.transactionPin,callback:function(t){e.$set(e.contisend,"transactionPin",t)},expression:"contisend.transactionPin"}})],1):e._e()],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogcheckPinSend=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.checkPinSend}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.override,callback:function(t){e.override=t},expression:"override"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"red darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Over-Ride Request")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"number",label:"Please enter the rate you want to offer",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendRequest(t)}},model:{value:e.request_rate,callback:function(t){e.request_rate=t},expression:"request_rate"}})],1),r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-combobox",{attrs:{items:e.managerList,"item-text":"first_name","item-value":"id",label:"Select Manager"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]}}]),model:{value:e.managerData,callback:function(t){e.managerData=t},expression:"managerData"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.override=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.sendRequest}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.overrideConfirm,callback:function(t){e.overrideConfirm=t},expression:"overrideConfirm"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"green darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Over-Ride Confirm")])]),r("v-layout",[r("v-flex",{attrs:{xs12:"","pa-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"number",label:"Please enter over-ride pin",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmOverride(t)}},model:{value:e.overridePinT,callback:function(t){e.overridePinT=t},expression:"overridePinT"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.overrideConfirm=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.confirmOverride}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialogClientHistory,callback:function(t){e.dialogClientHistory=t},expression:"dialogClientHistory"}},[r("v-card",[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Client Transaction History")]),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogClientHistory=!1}}},[e._v("Close")])],1),r("v-layout",{attrs:{wrap:"","ma-3":""}},[r("v-flex",[r("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}})],1)],1),r("v-data-table",{key:e.clientDataHistory.client_id,staticClass:"elevation-1",attrs:{headers:e.headersClients,items:e.clientDataHistory,"must-sort":"",search:e.search2,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.branch)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n          ")]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.tran_type))]),r("td",{staticClass:"text-xs-left"},[r("v-avatar",{attrs:{left:"",tile:""}},[r("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n            $"+e._s(t.item.client_amount)+"\n          ")],1),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.rate))]),r("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.date_time))])]}},{key:"no-data",fn:function(){return[r("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[r("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n            Your search for "'+e._s(e.search)+'" found no results.\n          ')])]},proxy:!0}])})],1)],1),r("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddBranch,callback:function(t){e.dialogAddBranch=t},expression:"dialogAddBranch"}},[r("v-card",[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Security Change Form")]),r("v-spacer")],1),r("v-tabs",{attrs:{color:"blue light-4","slider-color":"red"}},[r("v-tab",{staticClass:"white--text"},[e._v(" Password Change ")]),r("v-tab-item",[r("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Old Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.passwordold,callback:function(t){e.passwordold=t},expression:"passwordold"}})],1),r("v-flex",{attrs:{xs12:""}},[r("password",{attrs:{toggle:!0},on:{score:e.showScore,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),r("v-flex",{attrs:{xs12:""}},[r("password",{attrs:{toggle:!0},on:{score:e.showScore,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddBranch=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddPassword}},[e._v("Save")])],1),r("v-tab",{staticClass:"white--text"},[e._v(" Pin Change ")]),r("v-tab-item",[r("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Old Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pinold,callback:function(t){e.pinold=t},expression:"pinold"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pinconfirm,callback:function(t){e.pinconfirm=t},expression:"pinconfirm"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddBranch=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.updatePin}},[e._v("Save")])],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogNameScan,callback:function(t){e.dialogNameScan=t},expression:"dialogNameScan"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"red darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("NameScan Dialog")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-text-field",{attrs:{disabled:"",type:"text"},model:{value:e.scanFullName,callback:function(t){e.scanFullName=t},expression:"scanFullName"}})],1),r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-combobox",{attrs:{items:e.scanTypes,"item-text":"name","item-value":"id",label:"Select Scan Type"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.name)+"\n            ")]}}]),model:{value:e.scanData,callback:function(t){e.scanData=t},expression:"scanData"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogNameScan=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.scanRequest}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogNameScanSend,callback:function(t){e.dialogNameScanSend=t},expression:"dialogNameScanSend"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"red darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("NameScan Dialog")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-combobox",{attrs:{items:e.scanFullNameSend,label:"Select Client"},model:{value:e.scanFullName,callback:function(t){e.scanFullName=t},expression:"scanFullName"}})],1),r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-combobox",{attrs:{items:e.scanTypes,"item-text":"name","item-value":"id",label:"Select Scan Type"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.name)+"\n            ")]}}]),model:{value:e.scanData,callback:function(t){e.scanData=t},expression:"scanData"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogNameScanSend=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.scanRequest}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#ECB530",dark:""}},[r("v-card-text",[e._v("\n        Please stand by\n        "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},y=[],x=(a("7f7f"),a("c5f6"),a("a481"),a("96cf"),a("3b8d")),w=a("7618"),C=a("bd86"),k=a("e511"),T=(a("0da4"),a("2317")),A=a.n(T),D=a("f20a"),S=a.n(D),B={components:{Password:S.a},data:function(){var e;return e={isShopOpen:0,searched:0,switch1:!0,full_send_amount:0,commissions:0,sendTypeData:"",genderData:[{value:"M",name:"Male"},{value:"F",name:"Female"}],newScanData:null,clientIDWorldRemit:"",scanFullName:"",scanFullNameSend:[],contiBooking:{sender:{firstName:"Gregory",middleName:"-",lastName:"Shoniwa",nationalId:"631198624K40",idTypeCode:"NationalID",mobilePhone:"263772996330",email:"gshoniwa1@gmail.com",countryName:"ZIMBABWE"},recipient:{firstName:"Blessing",middleName:"--",lastName:"Shoniwa",nationalId:"45282299182K34",idTypeCode:"NationalID",mobilePhone:"263772996330",email:"bshoniwa@gmail.com",countryName:"ZIMBABWE"},transaction:{senderAmount:125,senderFees:"6.25",senderCurrency:"USD",senderSymbol:"USD$",senderRate:"1",beneficiaryRate:"1",beneficiaryAmount:118.75,beneficiaryCharges:"0",beneficiaryCurrency:"USD",beneficiarySymbol:"USD$",bookingID:"02918028"}},scanTypes:[{id:1,name:"Individual Scan"},{id:2,name:"Organisation Scan"}],clientDistrict:"",scanData:"",clientAddress:"",user_type:0,transactionPurpose:"GFT",sourceFunds:"GFT",clientGender:"MALE"},Object(C["a"])(e,"clientDistrict","Harare"),Object(C["a"])(e,"nodeApi","http://localhost:8081"),Object(C["a"])(e,"phpService","/service.php?endPoint=request/loyalty"),Object(C["a"])(e,"image","/img/"),Object(C["a"])(e,"time",0),Object(C["a"])(e,"e1",0),Object(C["a"])(e,"disableButton",!1),Object(C["a"])(e,"dialogDeclineReference",!1),Object(C["a"])(e,"dialogDeclineReferenceCS",!1),Object(C["a"])(e,"dialogNameScan",!1),Object(C["a"])(e,"dialogNameScanSend",!1),Object(C["a"])(e,"declineMessage",""),Object(C["a"])(e,"dialogWorldRemit",!1),Object(C["a"])(e,"viewCheck",!1),Object(C["a"])(e,"sender",{firstName:"",lastName:"",nationalId:"",countryName:"",email:"",mobilePhone:""}),Object(C["a"])(e,"recipient",{firstName:"",lastName:"",nationalId:"",countryName:"",email:"",mobilePhone:""}),Object(C["a"])(e,"contisend",{clientID:null,sendTypeData:"",recipientFirstName:"",recipientLastName:"",recipientCell:"",transactionPin:"",recipientID:"",disburse_currency_id:null,disburse_amount:null,receive_currency_id:null,receive_amount:null,refNumber:"",sender_name:"",sender_cell:"",charge:"",city_name:""}),Object(C["a"])(e,"checkCommission",!0),Object(C["a"])(e,"worldremitRef",""),Object(C["a"])(e,"worldremitRefPin",""),Object(C["a"])(e,"transactionID",null),Object(C["a"])(e,"productSelected",null),Object(C["a"])(e,"showLoyaltyReg",!0),Object(C["a"])(e,"dialogloader",!1),Object(C["a"])(e,"clientDisabled",!1),Object(C["a"])(e,"showLoyaltyPoints",!1),Object(C["a"])(e,"loyalty_client_id",0),Object(C["a"])(e,"utilityAmount",null),Object(C["a"])(e,"meterNumber",null),Object(C["a"])(e,"product",null),Object(C["a"])(e,"dstvTotal",0),Object(C["a"])(e,"utilityCurrency",null),Object(C["a"])(e,"tranID",0),Object(C["a"])(e,"clientsPoint",null),Object(C["a"])(e,"drawer",!1),Object(C["a"])(e,"annonimous",!0),Object(C["a"])(e,"e11",0),Object(C["a"])(e,"branch",""),Object(C["a"])(e,"recipient_address",""),Object(C["a"])(e,"clientHistory",[]),Object(C["a"])(e,"Utilities",[]),Object(C["a"])(e,"dialogreceitp",!1),Object(C["a"])(e,"gotFloat",!1),Object(C["a"])(e,"pin",null),Object(C["a"])(e,"pinWorldRemit",null),Object(C["a"])(e,"dialogAddBranch",!1),Object(C["a"])(e,"dialogClientHistory",!1),Object(C["a"])(e,"clientDataHistory",[]),Object(C["a"])(e,"overridePinM",null),Object(C["a"])(e,"overridePinT",null),Object(C["a"])(e,"override",!1),Object(C["a"])(e,"utility",null),Object(C["a"])(e,"request_rate",""),Object(C["a"])(e,"managerList",[]),Object(C["a"])(e,"search2",""),Object(C["a"])(e,"managerData",""),Object(C["a"])(e,"overrideConfirm",!1),Object(C["a"])(e,"dialogcheckPin",!1),Object(C["a"])(e,"dialogcheckPinSend",!1),Object(C["a"])(e,"zeroFloat",0),Object(C["a"])(e,"dialogloader",!1),Object(C["a"])(e,"dialogUser",!1),Object(C["a"])(e,"dialogUserCS",!1),Object(C["a"])(e,"userlevelData",[{status:"Individual",id:1},{status:"Company",id:0}]),Object(C["a"])(e,"UsersData",[]),Object(C["a"])(e,"statusData",[{status:"Active",id:2},{status:"Disabled",id:3}]),Object(C["a"])(e,"headersClients",[{text:"Branch",value:"branch"},{text:"Full Name",align:"left",value:"first_name"},{text:"Tran Type",value:"tran_type"},{text:"Amount",value:"client_amount"},{text:"Rate",value:"rate"},{text:"Date",value:"date_time"}]),Object(C["a"])(e,"clientData",[]),Object(C["a"])(e,"transaction_type",""),Object(C["a"])(e,"transactionType",""),Object(C["a"])(e,"clientName",""),Object(C["a"])(e,"disableCheck",!0),Object(C["a"])(e,"first_name",""),Object(C["a"])(e,"last_name",""),Object(C["a"])(e,"id_number",""),Object(C["a"])(e,"cell",""),Object(C["a"])(e,"receive_symbol",null),Object(C["a"])(e,"disburse_symbol",null),Object(C["a"])(e,"clientID",null),Object(C["a"])(e,"editCheck",0),Object(C["a"])(e,"isActive",!0),Object(C["a"])(e,"isValidPhone",!1),Object(C["a"])(e,"dialogTransactionSend",!1),Object(C["a"])(e,"dialogTransaction",!1),Object(C["a"])(e,"dialogTransactionUtility",!1),Object(C["a"])(e,"dialogTransactionWorldRemit",!1),Object(C["a"])(e,"userFloatUSD",null),Object(C["a"])(e,"userFloatZWD",null),Object(C["a"])(e,"teller_first_name",""),Object(C["a"])(e,"teller_last_name",""),Object(C["a"])(e,"teller_branch",""),Object(C["a"])(e,"userFloat",[]),Object(C["a"])(e,"currencyData",[]),Object(C["a"])(e,"dstvDataDown",[]),Object(C["a"])(e,"dstvDataCheck",[]),Object(C["a"])(e,"transactionData",{client_id:0,transaction_type_id:0,receive_amount:null,disburse_amount:null,rate:0,branch_id:0,disburse_currency_id:"",receive_currency_id:"",created_by:0,status:4}),Object(C["a"])(e,"transactionDataClear",{client_id:null,transaction_type_id:null,receive_amount:null,disburse_amount:null,rate:0,branch_id:0,disburse_currency_id:null,receive_currency_id:null,created_by:0,status:4}),Object(C["a"])(e,"editedClient",{id:0,first_name:"",last_name:"",email:"",id_number:"",gender:"",date_of_birth:null,address:"",company_id:1,branch_id:0,user_type:0,countrycode:"",nationality:"",status:2,cell:"",created_by:0}),Object(C["a"])(e,"overridePin",null),Object(C["a"])(e,"ClearUser",{id:0,first_name:"",last_name:"",email:"",id_number:"",date_of_birth:null,address:"",company_id:1,branch_id:0,user_type:0,nationality:"",status:2,cell:"",created_by:0}),Object(C["a"])(e,"group",null),Object(C["a"])(e,"items",[]),Object(C["a"])(e,"pin",""),Object(C["a"])(e,"pinold",""),Object(C["a"])(e,"passwordold",""),Object(C["a"])(e,"pinconfirm",""),Object(C["a"])(e,"permanent",!0),Object(C["a"])(e,"newPassword",""),Object(C["a"])(e,"confirm",""),Object(C["a"])(e,"score",0),Object(C["a"])(e,"transaction",{senderAmount:"0",senderFees:"0",senderCurrency:null,senderSymbol:null,beneficiaryAmount:"",beneficiaryCharges:"",beneficiaryCurrency:"",beneficiarySymbol:"$",settlementAmount:"",settlementCommission:null,wrtId:"2003230701140001",wrtDateCreated:"2020-03-23T07:10:54.1862336Z"}),Object(C["a"])(e,"contiPayout",{}),Object(C["a"])(e,"transactionIndex",0),Object(C["a"])(e,"worldremitCurrency",0),Object(C["a"])(e,"worldremitCurrencyFloat",0),Object(C["a"])(e,"worldremitCurrencyError",null),Object(C["a"])(e,"transactionIDWorldRemit",null),Object(C["a"])(e,"transactionIDContiSend",null),Object(C["a"])(e,"needApproval",0),e},watch:{clientID:function(e){"object"===Object(w["a"])(e)&&(this.id_number=this.clientID.nationalId,this.first_name=this.clientID.firstName,this.last_name=this.clientID.lastName)},dialogNameScanSend:function(e){e&&(this.scanData="",this.scanFullName="")},productSelected:function(e){this.getProduct(e)},loyalty_client_id:function(e){},override:function(e){},transactionID:function(e){var t=this;null!=e&&(this.tranID=e,setTimeout((function(){t.printPDF("Sale")}),2e3),this.transactionID=null)},transactionIDWorldRemit:function(e){var t=this;null!=e&&(this.tranID=e,setTimeout((function(){t.printPDFWorldRemit("WorldRemit")}),2e3),this.transactionIDWorldRemit=null)},transactionIDContiSend:function(e){var t=this;null!=e&&(this.tranID=e,setTimeout((function(){t.printPDFContiSend("ContiSend")}),2e3),this.transactionIDContiSend=null)},group:function(){this.drawer=!1},transactionData:{handler:function(e){e.receive_amount,e.receive_amount,"Buy"==this.transaction_type&&(this.switch1?NaN==e.rate?this.transactionData.disburse_amount=0:this.transactionData.disburse_amount=e.receive_amount*e.rate:NaN==e.rate?this.transactionData.receive_amount=0:this.transactionData.receive_amount=e.disburse_amount/e.rate),"Sell"==this.transaction_type&&(this.switch1?NaN==e.rate?this.transactionData.disburse_amount=0:this.transactionData.disburse_amount=e.receive_amount/e.rate:NaN==e.rate?this.transactionData.receive_amount=0:this.transactionData.receive_amount=e.disburse_amount*e.rate)},deep:!0},userFloat:{handler:function(e){0==e.length||(this.zeroFloat=e[0].amount)},deep:!0},dialogTransactionWorldRemit:function(e){e?(this.checkShopOpenLoader("dialogTransactionWorldRemit"),0==this.isShopOpen?(this.$swal.fire({type:"error",title:"Shop Open Failed",text:"Sorry but the shop has not been opened by managment, please contact them for assistance."}),this.dialogTransactionWorldRemit=!1):this.getManager()):(this.Utilities=[],this.editedClient.first_name="",this.editedClient.last_name="",this.editedClient.email="",this.editedClient.id_number="",this.editedClient.date_of_birth=null,this.editedClient.address="",this.editedClient.cell="",this.annonimous=!0,this.clientDisabled=!1,this.transactionData.receive_currency_id="",this.transactionData.disburse_currency_id="",this.utilityCurrency=null,this.utilityAmount=null,this.utility=null,this.meterNumber=null,this.product=null,this.userFloat=[],this.currencyData=[],this.clientID=null,this.clientData=[],this.e1=1,this.clientHistory=[],this.viewCheck=!1,this.searched=0,this.worldremitRef="",this.pinWorldRemit=null,this.disableButton=!1,this.clientIDWorldRemit="",this.clientDistrict="",this.clientAddress="",this.transactionPurpose="GFT",this.sourceFunds="GFT",this.clientGender="MALE",this.clientDistrict="Harare")},dialogTransactionUtility:function(e){e?(this.checkShopOpenLoader("dialogTransactionUtility"),0==this.isShopOpen?(this.$swal.fire({type:"error",title:"Shop Open Failed",text:"Sorry but the shop has not been opened by managment, please contact them for assistance."}),this.dialogTransactionUtility=!1):(this.getUtilities(),this.getManager())):(this.Utilities=[],this.editedClient.first_name="",this.editedClient.last_name="",this.editedClient.email="",this.editedClient.id_number="",this.editedClient.date_of_birth=null,this.editedClient.address="",this.editedClient.cell="",this.annonimous=!0,this.clientDisabled=!1,this.transactionData.receive_currency_id="",this.transactionData.disburse_currency_id="",this.utilityCurrency=null,this.utilityAmount=null,this.utility=null,this.meterNumber=null,this.product=null,this.dstvTotal=0,this.userFloat=[],this.currencyData=[],this.clientID=null,this.clientData=[],this.e1=1,this.clientHistory=[])},dialogTransaction:function(e){e?(this.first_name="",this.last_name="",this.id_number="",this.cell="",this.checkShopOpenLoader("dialogTransaction"),0==this.isShopOpen?(this.$swal.fire({type:"error",title:"Shop Open Failed",text:"Sorry but the shop has not been opened by managment, please contact them for assistance."}),this.dialogTransaction=!1):(this.getUtilities(),this.getManager())):(this.editedClient.first_name="",this.editedClient.last_name="",this.editedClient.email="",this.editedClient.id_number="",this.editedClient.date_of_birth=null,this.editedClient.address="",this.editedClient.cell="",this.annonimous=!0,this.clientDisabled=!1,this.transactionData.receive_currency_id="",this.transactionData.disburse_currency_id="",this.userFloat=[],this.currencyData=[],this.clientID=null,this.clientData=[],this.e1=1,this.clientHistory=[])},dialogTransactionSend:function(e){e?(this.checkShopOpenLoader("dialogTransactionSend"),0==this.isShopOpen?(this.$swal.fire({type:"error",title:"Shop Open Failed",text:"Sorry but the shop has not been opened by managment, please contact them for assistance."}),this.dialogTransactionSend=!1):(this.showLoyaltyReg=!0,this.showLoyaltyPoints=!1,this.first_name="",this.last_name="",this.id_number="",this.contisend.clientID="",this.contisend.sendTypeData="",this.contisend.recipientFirstName="",this.contisend.recipientLastName="",this.contisend.recipientCell="",this.contisend.recipientID="",this.contisend.disburse_currency_id="",this.contisend.disburse_amount="",this.contisend.receive_currency_id="",this.contisend.receive_amount="",this.contisend.refNumber="",this.contisend.sender_name="",this.contisend.sender_cell="",this.contisend.charge="",this.contisend.city_name="",this.contisend.transactionPin="",this.pin="",this.transactionData={client_id:0,transaction_type_id:0,receive_amount:null,disburse_amount:null,rate:0,branch_id:0,disburse_currency_id:"",receive_currency_id:"",created_by:0,status:4},this.full_send_amount=0,this.commissions=0,this.getManager())):(this.editedClient.first_name="",this.editedClient.last_name="",this.editedClient.email="",this.editedClient.id_number="",this.editedClient.date_of_birth=null,this.editedClient.address="",this.editedClient.cell="",this.annonimous=!0,this.clientDisabled=!1,this.transactionData.receive_currency_id="",this.transactionData.disburse_currency_id="",this.userFloat=[],this.currencyData=[],this.clientID=null,this.clientData=[],this.e1=1,this.clientHistory=[])},dialogUser:function(e){e||(this.editedClient=this.ClearUser)}},mounted:function(){var e=this;this.checkShopOpen(),this.teller_first_name=this.$session.get("user").userdetails.first_name,this.teller_last_name=this.$session.get("user").userdetails.last_name,this.teller_branch=this.$session.get("user").userdetails.branch_name,this.intervalid1=setInterval((function(){e.time=Date.now()}),1e3),this.user_type=this.$session.get("user").userdetails.user_type,1==this.$session.get("user").userdetails.user_type&&(this.items=[{title:"market-page",name:"Dashboard",icon:"dashboard"},{title:"overall-page",name:"Transactions",icon:"equalizer"},{title:"exchange-page",name:"Clients",icon:"supervised_user_circle"},{title:"profile-page",name:"Users",icon:"account_circle"},{title:"rates-page",name:"Rates",icon:"monetization_on"},{title:"reports-page",name:"Branches",icon:"account_balance"},{title:"floatmove-page",name:"Float Report",icon:"swap_vertical_circle"},{title:"support-page",name:"Float Admin",icon:"compare_arrows"},{title:"Password",name:"Password Change",icon:"https"},{title:"Exit",name:"Logout",icon:"exit_to_app"}]),2==this.$session.get("user").userdetails.user_type&&(this.items=[{title:"market-page",name:"Dashboard",icon:"dashboard"},{title:"exchange-page",name:"Clients",icon:"supervised_user_circle"},{title:"support-page",name:"Float Admin",icon:"compare_arrows"},{title:"Password",name:"Password Change",icon:"https"},{title:"Exit",name:"Logout",icon:"exit_to_app"}]),3==this.$session.get("user").userdetails.user_type&&(this.items=[{title:"market-page",name:"Dashboard",icon:"dashboard"},{title:"dashboard-page",name:"Transactions",icon:"equalizer"},{title:"exchange-page",name:"Clients",icon:"supervised_user_circle"},{title:"support-page",name:"Float Admin",icon:"compare_arrows"},{title:"Password",name:"Password Change",icon:"https"},{title:"Exit",name:"Logout",icon:"exit_to_app"}]),this.$session.get("user").userdetails.user_type>=4&&this.$session.get("user").userdetails.user_type<=6&&(this.items=[{title:"market-page",name:"Dashboard",icon:"dashboard"},{title:"overall-page",name:"Transactions",icon:"equalizer"},{title:"exchange-page",name:"Clients",icon:"supervised_user_circle"},{title:"profile-page",name:"Users",icon:"account_circle"},{title:"rates-page",name:"Rates",icon:"monetization_on"},{title:"reports-page",name:"Branches",icon:"account_balance"},{title:"floatmove-page",name:"Float Report",icon:"swap_vertical_circle"},{title:"support-page",name:"Float Admin",icon:"compare_arrows"},{title:"Password",name:"Password Change",icon:"https"},{title:"Exit",name:"Logout",icon:"exit_to_app"}]),7==this.$session.get("user").userdetails.user_type&&(this.items=[{title:"contisend-page",icon:"sync_alt",name:"ConitSend"},{title:"Password",name:"Password Change",icon:"https"},{title:"Exit",name:"Logout",icon:"exit_to_app"}])},computed:{},methods:{sendType:function(e){this.contisend.sendTypeData=e,console.log(this.contisend.sendTypeData),this.e1=2},checkRateSend:function(){var e=this;if(""==this.transactionData.receive_currency_id)this.$swal.fire({type:"error",title:"Check Commission Failed",text:"Please select a valid currency to send."});else if(null==this.transactionData.receive_amount)this.$swal.fire({type:"error",title:"Check Commission Failed",text:"Please enter a valid amount to send."});else if(this.transactionData.receive_amount<=0)this.$swal.fire({type:"error",title:"Check Commission Failed",text:"Please enter a valid amount to send greater than 0.00."});else{var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={amount:this.transactionData.receive_amount,currencyCode:this.transactionData.receive_currency_id.symbol};"Bond"==this.transactionData.receive_currency_id.symbol&&(a.currencyCode="ZWL"),A.a.post(this.nodeApi+"/contiSendRate",a,{headers:t}).subscribe((function(t){1==t.data.code?(e.checkCommission=!1,e.commissions=t.data.rates.sender.totalFees,e.full_send_amount=t.data.rates.sender.totalAmount):e.$swal.fire({type:"error",title:"Check Commission Failed",text:t.data.message})}),(function(e){return console.log(e)}))}},scanRequest:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},1!=this.scanData.id){e.next=8;break}return a={name:"".concat(this.scanFullName)},e.next=6,A.a.post(this.nodeApi+"/personalScan",a,{headers:t}).subscribe((function(e){s.newScanData=e.data,0==s.newScanData.numberOfMatches?(s.dialogloader=!1,console.log(s.newScanData),s.dialogNameScan=!1,s.dialogNameScanSend=!1,s.$swal.fire({type:"success",title:"NameScan Done",text:"Your client has been successfully scanned by NameScan and No record has been found that stops your financial dealing with them."})):(s.dialogloader=!1,console.log(s.newScanData),s.dialogNameScan=!1,s.dialogNameScanSend=!1,s.$swal.fire({type:"error",title:"NameScan Done",text:"Sorry but your client has been flag ".concat(s.newScanData.numberOfMatches," times by NameScan, It is not legal to financially deal with them.")}))}),(function(e){return console.log(e)}));case 6:e.next=16;break;case 8:if(2!=this.scanData.id){e.next=14;break}return r={name:"".concat(this.scanFullName)},e.next=12,A.a.post(this.nodeApi+"/businessScan",r,{headers:t}).subscribe((function(e){0==s.newScanData.numberOfMatches?(s.dialogloader=!1,console.log(s.newScanData),s.dialogNameScan=!1,s.$swal.fire({type:"success",title:"NameScan Done",text:"Your business client has been successfully scanned by NameScan and No record has been found that stops your financial dealing with them."})):(s.dialogloader=!1,console.log(s.newScanData),s.dialogNameScan=!1,s.$swal.fire({type:"error",title:"NameScan Done",text:"Sorry but your business client has been flag ".concat(s.newScanData.numberOfMatches," times by NameScan, It is not legal to financially deal with them.")}))}),(function(e){return console.log(e)}));case 12:e.next=16;break;case 14:this.dialogloader=!1,this.$swal.fire({type:"error",title:"NameScan Failed",text:"Please select a valid scan type."});case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),nameScan:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.scanFullName="".concat(this.clientID.first_name.replace(/\s/g,"")," ").concat(this.clientID.last_name.replace(/\s/g,"")),this.dialogNameScan=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),nameScanSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.scanFullNameSend=[],this.scanFullNameSend.push("".concat(this.contisend.sender_name)),this.scanFullNameSend.push("".concat(this.contisend.recipientFirstName," ").concat(this.contisend.recipientLastName)),this.dialogNameScanSend=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUtilities:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={branch_id:this.$session.get("user").userdetails.branch_id,user_id:this.$session.get("user").userdetails.id},A.a.post(this.nodeApi+"/getAllUtils",a,{headers:t}).subscribe((function(e){r.Utilities=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),utilityTransaction:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogloader=!0,!(this.clientID&&this.utility&&this.meterNumber&&this.utilityCurrency&&this.utilityAmount)){e.next=12;break}return t=null,a=null,this.utilityCurrency.currency?(t=this.utilityCurrency.currency,a=this.utilityCurrency.product):t=this.utilityCurrency.id,r={client_id:this.clientID.id,transaction_type_id:5,utility_id:this.utility,meter_number:this.meterNumber,product:a,receive_currency_id:t,receive_amount:this.utilityAmount,branch_id:this.$session.get("user").userdetails.branch_id,created_by:this.$session.get("user").userdetails.id,status:4},s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},n={transaction:r,floatincrease:{col:"amount",value:r.receive_amount,wcol:"user_id",wvalue:r.created_by,wcol2:"currency_id",wvalue2:r.utility_id}},e.next=10,A.a.post(this.nodeApi+"/addTransactionUtilitySell",n,{headers:s}).subscribe((function(e){e.data.data.one?(i.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),i.dialogTransactionUtility=!1,i.dialogloader=!1):(i.dialogloader=!1,i.$swal.fire({type:"error",title:"Transaction Adding Failed",text:e.data.message.message}))}),(function(e){return console.log(e)}));case 10:e.next=14;break;case 12:this.dialogloader=!1,this.$swal.fire({type:"error",title:"Utility Adding Failed",text:"Please fill in all empty fields."});case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),utilitySelected:function(e){this.utility=e,this.e1=2},AddPassword:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.score<3)){e.next=4;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Please enter a stronger password"}),e.next=16;break;case 4:if(this.newPassword==this.confirm){e.next=8;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Your two passwords do not match"}),e.next=16;break;case 8:if(this.passwordold){e.next=12;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Please enter old password"}),e.next=16;break;case 12:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={email:this.$session.get("user").userdetails.email,password:this.passwordold},e.next=16,A.a.post(this.nodeApi+"/checkloginUser",a).subscribe((function(e){"Success"==e.data.message?A.a.post(r.nodeApi+"/updateUserPassword",{email:r.$session.get("user").userdetails.email,password:r.newPassword},{headers:t}).subscribe((function(e){e.data.message.one?(r.dialogAddBranch=!1,r.newPassword="",r.confirm="",r.passwordold="",r.$swal.fire({type:"success",title:"Password Update",text:"User Password was updated successfully"})):r.$swal.fire({type:"error",title:"Password Update Failed",text:e.data.message})}),(function(e){r.$swal.fire("Password Update Failed",e,"error")})):r.$swal.fire({type:"error",title:"Password Update Failed",text:e.data.message})}),(function(e){r.$swal.fire({type:"Old Password Check",title:"Old password check try again",text:e})}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updatePin:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.pin==this.pinconfirm){e.next=4;break}this.$swal.fire({type:"error",title:"Pin Update Failed",text:"Your two passwords do not match"}),e.next=12;break;case 4:if(this.pinold){e.next=8;break}this.$swal.fire({type:"error",title:"Pin Update Failed",text:"Please enter old pin"}),e.next=12;break;case 8:return t={id:this.$session.get("user").userdetails.id,pin:this.pinold},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length?(r.dialogcheckPin=!1,A.a.put(r.nodeApi+"/updateUsersByCol",{col:"pin",value:r.pin,wcol:"email",wvalue:r.$session.get("user").userdetails.email},{headers:a}).subscribe((function(e){e.data.data.one?(r.dialogAddBranch=!1,r.pin="",r.pinconfirm="",r.pinold="",r.$swal.fire({type:"success",title:"Pin Update",text:"User pin was updated successfully"})):r.$swal.fire({type:"error",title:"Pin Update Failed",text:e.data.message})}),(function(e){r.$swal.fire("Pin Update Failed",e,"error")}))):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Pin Update Failed",text:"Wrong old pin please try again"}))}),(function(e){return console.log(e)}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),shopAdmin:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=this.$session.get("user").userdetails.user_type){e.next=7;break}return a={open:t},r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=5,A.a.post(this.nodeApi+"/adminShopOpen",a,{headers:r}).subscribe((function(e){e.data.data.one&&(i.$swal.fire("Shop Admin Error","You have successfully change the shop status.","success"),i.isShopOpen=t)}),(function(e){return console.log(e)}));case 5:e.next=15;break;case 7:if(4!=this.$session.get("user").userdetails.user_type){e.next=14;break}return s={open:t},n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/adminShopOpen",s,{headers:n}).subscribe((function(e){e.data.data.one&&(i.isShopOpen=t,i.$swal.fire("Shop Admin Error","You have successfully change the shop status.","success"))}),(function(e){return console.log(e)}));case 12:e.next=15;break;case 14:this.$swal.fire("Shop Admin Error","Sorry your account is not allowed to perform this action, contact managment for assistance.","error");case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),checkShopOpen:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/checkShopOpen",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length&&(r.isShopOpen=e.data.data.one.recordset[0].open)}),(function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkShopOpenLoader:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/checkShopOpen",a,{headers:r}).subscribe((function(e){0!=e.data.data.one.recordset.length&&(s.isShopOpen=e.data.data.one.recordset[0].open,0==s.isShopOpen&&("dialogTransactionUtility"==t&&(s.dialogTransactionUtility=!1),"dialogTransactionWorldRemit"==t&&(s.dialogTransactionWorldRemit=!1),"dialogTransaction"==t&&(s.dialogTransaction=!1),"dialogTransactionSend"==t&&(s.dialogTransactionSend=!1)))}),(function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showScore:function(e){this.score=e},getMobileMenu:function(e){"Password"!=e&&"Exit"!=e?"market-page"==e?(1==this.$session.get("user").userdetails.user_type&&this.$emit("SelectedMenuItem","dash-manager"),2==this.$session.get("user").userdetails.user_type&&this.$emit("SelectedMenuItem","dash-teller"),3==this.$session.get("user").userdetails.user_type&&this.$emit("SelectedMenuItem","dash-super"),this.$session.get("user").userdetails.user_type>=4&&this.$session.get("user").userdetails.user_type<=6&&this.$emit("SelectedMenuItem","dash-manager"),7==this.$session.get("user").userdetails.user_type&&this.$emit("SelectedMenuItem","dash-manager")):this.$emit("SelectedMenuItem",e):("Exit"==e&&this.logout(),"Password"==e&&(this.dialogAddBranch=!0))},logout:function(){this.$session.destroy(),this.$router.push("/")},openClientHistory:function(e,t){var a=this;if("Buy"===t.replace(/\s/g,"")){var r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},s={client_id:e,tran_type:1};A.a.post(this.nodeApi+"/getFullClientsTransactionsByID",s,{headers:r}).subscribe((function(e){a.clientDataHistory=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}if("Sell"==t.replace(/\s/g,"")){var n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};s={client_id:e,tran_type:2};A.a.post(this.nodeApi+"/getFullClientsTransactionsByID",s,{headers:n}).subscribe((function(e){a.clientDataHistory=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}},linkClient:function(){this.e1=2},drawerchange:function(){0==this.drawer&&(this.drawer=!0,this.$emit("openmenu",this.drawer)),1==this.drawer&&(this.drawer=!1,this.$emit("openmenu",this.drawer))},getManager:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getManager",{headers:t}).subscribe((function(e){a.managerList=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmOverride:function(){this.overridePinM==this.overridePinT?(this.transactionData.rate=this.request_rate,this.overrideConfirm=!1):this.$swal.fire("Over-Ride Error","Sorry the pin entered is wrong please try again or contact General Manager.","error")},sendRequest:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.getManager(),this.override=!1,this.overrideConfirm=!0,t=encodeURI(this.managerData.cell.replace(/\s/g,"")),this.overridePinM=Math.floor(1e3+9e3*Math.random()),a={email:this.managerData.email.replace(/\s/g,""),username:this.$session.get("user").userdetails.username,branch:this.$session.get("user").userdetails.branch_name,rate:this.request_rate,pin:this.overridePinM,currency:this.disburse_symbol},r="Good day, the over-ride pin for ".concat(this.$session.get("user").userdetails.branch_name," Branch, Teller : ").concat(this.$session.get("user").userdetails.username," is : ").concat(this.overridePinM," for ").concat(this.request_rate," ").concat(this.disburse_symbol," rate"),s=encodeURI(r),e.next=10,fetch("https://sms.contitouch.co.zw/api.json?cmd=sendwapp&username=contipay&password=password01&gsm="+t+"&msg="+s,{method:"GET",mode:"no-cors"}).then((function(e){200===e.status?e.json().then((function(e){})):console.log("Looks like there was a problem. Status Code: "+e.status+" error: "+e.text)})).catch((function(e){}));case 10:return e.next=12,fetch("https://sms.contitouch.co.zw/api.json?cmd=sendwapp&username=contipay&password=password01&gsm="+t+"&msg="+s,{method:"GET",mode:"no-cors"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status+" error: "+e.text)})).catch((function(e){console.log("Fetch Error :-S",e)}));case 12:return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=15,A.a.post(this.nodeApi+"/overridePinEmail",a,{headers:n}).subscribe((function(e){}),(function(e){return console.log(e)}));case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getClientByName:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getClientByName",{name:this.clientID},{headers:t}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.getClientHistory()}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getClientByNameSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.contisend.clientID=this.clientID,"object"===Object(w["a"])(this.clientID)){e.next=5;break}return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=5,A.a.post(this.nodeApi+"/contiSendSearch",{name:this.clientID},{headers:t}).subscribe((function(e){a.clientData=e.data.clientsFound}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getClientByName2:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getClientByLastName",{name:this.clientID},{headers:t}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.getClientHistory()}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getClientByName3:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getClientByCell",{name:this.clientID},{headers:t}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.getClientHistory()}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getClientHistory:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.clientID.id){e.next=6;break}return this.clientHistory=[],this.clientID.loyalty_id>0?(this.showLoyaltyReg=!0,this.showLoyaltyPoints=!0,this.loyalty_client_id=this.clientID.loyalty_id):(this.loyalty_client_id=0,this.showLoyaltyReg=!1,this.showLoyaltyPoints=!1),t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.post(this.nodeApi+"/getClientsTransactionsByID",{id:this.clientID.id},{headers:t}).subscribe((function(e){a.clientHistory=e.data.data.one.recordset,a.first_name=a.clientID.first_name,a.last_name=a.clientID.last_name,a.id_number=a.clientID.id_number,a.cell=a.clientID.cell,a.clientDisabled=!0}),(function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),registerClientLoyalty:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,new Date,t={email:this.clientID.email.replace(/\s/g,""),firstName:this.clientID.first_name.replace(/\s/g,""),lastName:this.clientID.last_name.replace(/\s/g,""),countryCode:"ZW",cell:this.clientID.cell.replace(/\s/g,""),nationalId:this.clientID.id_number.replace(/\s/g,""),vasCentreId:"5",linkCard:!0},e.prev=3,e.next=6,fetch(this.phpService+"/clientRegistration",{mode:"cors",method:"POST",body:JSON.stringify({data:t})});case 6:return a=e.sent,e.next=9,a.json();case 9:if(r=e.sent,"Error"==r.status&&(this.dialogloader=!1,this.$swal.fire("Loyalty Adding",r.message,"error")),"Success"!=r.status||1!=r.code){e.next=15;break}return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=15,A.a.put(this.nodeApi+"/updateClientLoyaltyId/"+this.clientID.id,{loyalty_id:r.clientId},{headers:s}).subscribe((function(e){e.data.data.one.rowsAffected.length>0?(n.loyalty_client_id=r.clientId,n.showLoyaltyReg=!0,n.showLoyaltyPoints=!0,n.dialogloader=!1,n.$swal.fire("Loyalty Adding","Client has been successfully added to your loyalty program.","success")):(n.dialogloader=!1,n.$swal.fire("Loyalty Adding","Failed to add client to your loyalty program.","error"))}),(function(e){n.dialogloader=!1,console.log(e)}));case 15:e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](3),console.error("Error:",e.t0),this.dialogloader=!1;case 21:case"end":return e.stop()}}),e,this,[[3,17]])})));function t(){return e.apply(this,arguments)}return t}(),checkTransaction:function(){this.transactionData.disburse_amount<.1?this.$swal.fire("Transaction Error","Sorry your transaction is not yet complete, Only amount greater than 0.00 are allowed","error"):this.transactionData.disburse_amount>this.zeroFloat?this.$swal.fire("Transaction Error","Sorry you dont have float for this transaction .","error"):Number(this.transactionData.receive_amount)>300&&this.annonimous&&2==this.transactionData.receive_currency_id.id?(this.$swal.fire("Transaction Error","Sorry transaction above the USD $300 amount allowed for annonimous clients.","error"),this.e1=1):Number(this.transactionData.receive_amount)>4200&&this.annonimous&&70==this.transactionData.receive_currency_id.id?(this.$swal.fire("Transaction Error","Sorry transaction above the RANDS $4500 amount allowed for annonimous clients.","error"),this.e1=1):this.e1=4},checkTransactionSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Send"!=this.contisend.sendTypeData){e.next=4;break}Number(this.transactionData.receive_amount)<.1?this.$swal.fire("Transaction Error","Sorry your transaction is not yet complete, Only amount greater than 0.00 are allowed","error"):(this.contisend.receive_amount=this.transactionData.receive_amount,this.e1=4),e.next=12;break;case 4:if(!(this.recipient_address.length<5)){e.next=8;break}this.$swal.fire("Transaction Error","Please enter recipient physical address to proceed","error"),e.next=12;break;case 8:return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/contiSendLock",{transactionIndex:this.contiPayout.transactionIndex,oid:this.$session.get("user").userdetails.id,reference:this.contiPayout.refNumber},{headers:t}).subscribe((function(e){"Success"==e.data.status?(a.dialogloader=!1,a.e1=4):(a.dialogloader=!1,a.$swal.fire("Transaction Error",e.data.message,"error"))}),(function(e){return console.log(e)}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getRate2:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Sell"!=this.transaction_type){e.next=4;break}return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/getRatesByCol",{col:"local_currency_id",value:this.transactionData.receive_currency_id.id,col2:"currency_id",value2:this.transactionData.disburse_currency_id.id},{headers:t}).subscribe((function(e){e.data.data.one.recordset.length<1?a.$swal.fire("Rate Check Error","Sorry we do no have rate for this select selection.","error"):(a.transactionData.rate=e.data.data.one.recordset[0].sell_rate,a.disableCheck=!1)}),(function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getRate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.transactionData.receive_currency_id.symbol&&(this.receive_symbol=this.transactionData.receive_currency_id.symbol),this.transactionData.disburse_currency_id.symbol&&(this.disburse_symbol=this.transactionData.disburse_currency_id.symbol),"Sell"!=this.transaction_type){e.next=8;break}return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"user_id",value:this.$session.get("user").userdetails.id,col2:"currency_id",value2:this.transactionData.disburse_currency_id.id},{headers:t}).subscribe((function(e){r.userFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 6:return e.next=8,A.a.post(this.nodeApi+"/getRatesByCol",{col:"local_currency_id",value:this.transactionData.receive_currency_id.id,col2:"currency_id",value2:this.transactionData.disburse_currency_id.id},{headers:t}).subscribe((function(e){e.data.data.one.recordset.length<1?r.$swal.fire("Rate Check Error","Sorry we do no have rate for this select selection.","error"):(r.transactionData.rate=e.data.data.one.recordset[0].sell_rate,r.disableCheck=!1)}),(function(e){return console.log(e)}));case 8:if("Buy"!=this.transaction_type){e.next=14;break}return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"user_id",value:this.$session.get("user").userdetails.id,col2:"currency_id",value2:this.transactionData.disburse_currency_id.id},{headers:a}).subscribe((function(e){r.userFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 12:return e.next=14,A.a.post(this.nodeApi+"/getRatesByCol",{col:"currency_id",value:this.transactionData.receive_currency_id.id,col2:"local_currency_id",value2:this.transactionData.disburse_currency_id.id},{headers:a}).subscribe((function(e){e.data.data.one.recordset.length<1?r.$swal.fire("Rate Check Error","Sorry we do no have rate for this select selection.","error"):(r.transactionData.rate=e.data.data.one.recordset[0].buy_rate,r.disableCheck=!1)}),(function(e){return console.log(e)}));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getRateSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.transactionData.receive_currency_id.symbol&&(this.receive_symbol=this.transactionData.receive_currency_id.symbol,this.contisend.receive_currency_id=this.transactionData.receive_currency_id.id,this.contisend.receive_currency=this.receive_symbol),this.transactionData.disburse_currency_id.symbol&&(this.disburse_symbol=this.transactionData.disburse_currency_id.symbol,this.contisend.disburse_currency_id=this.transactionData.disburse_currency_id.id),"Send"!=this.contisend.sendTypeData){e.next=6;break}return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"user_id",value:this.$session.get("user").userdetails.id,col2:"currency_id",value2:this.transactionData.receive_currency_id.id},{headers:t}).subscribe((function(e){r.userFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 6:if("Payout"!=this.contisend.sendTypeData){e.next=10;break}return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=10,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"user_id",value:this.$session.get("user").userdetails.id,col2:"currency_id",value2:this.transactionData.disburse_currency_id.id},{headers:a}).subscribe((function(e){r.userFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getProduct:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null==t?0!=this.dstvTotal&&(this.dstvTotal-=11):(this.dstvTotal,1==t.type?this.dstvTotal+=t.price:0==t.type&&(this.dstvTotal=t.price)),this.utilityAmount=this.dstvTotal;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllCurrenciesActive:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActiveNoUtils",{headers:t}).subscribe((function(t){e.currencyData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getDSTvSelect:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getProductsDropDown",{headers:t}).subscribe((function(t){e.dstvDataDown=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getDSTvCheck:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getProductsCheckBox",{headers:t}).subscribe((function(t){e.dstvDataCheck=t.data.data.one.recordset}),(function(e){return console.log(e)}))},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},getTelePhone:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.editedClient.nationality=t.country.name,this.editedClient.countrycode=t.country.iso2),t.isValid||(this.isActive=!0)},printPDF:function(e){var t=document.getElementById(e).innerHTML,a=window.open("","Print","height=600,width=800");return a.document.write("<html><head><title>Print</title>"),a.document.write("</head><body >"),a.document.write(t),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout((function(){a.print(),a.close()}),1e3),this.transactionData.receive_amount=null,this.transactionData.disburse_amount=0,!0},printPDFLoyal:function(e){var t=document.getElementById(e).innerHTML,a=window.open("","Print","height=600,width=800");return a.document.write("<html><head><title>Print</title>"),a.document.write("</head><body >"),a.document.write(t),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout((function(){a.print(),a.close()}),1e3),!0},printPDFWorldRemit:function(e){var t=document.getElementById(e).innerHTML,a=window.open("","Print","height=600,width=800");return a.document.write("<html><head><title>Print</title>"),a.document.write("</head><body >"),a.document.write(t),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout((function(){a.print(),a.close()}),1e3),!0},printPDFContiSend:function(e){var t=document.getElementById(e).innerHTML,a=window.open("","Print","height=600,width=800");return a.document.write("<html><head><title>Print</title>"),a.document.write("</head><body >"),a.document.write(t),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout((function(){a.print(),a.close()}),1e3),!0},openAddNewClient:function(){this.dialogTransaction=!1,this.dialogUser=!0},openAddNewClientCS:function(){this.dialogTransactionSend=!1,this.dialogUserCS=!0},settleTransaction:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.transactionData.disburse_amount?this.transactionData.disburse_amount>this.userFloat[0].amount?this.$swal.fire("Settlement Error","Sorry your float is not enough to settle this transaction.","error"):this.dialogcheckPin=!0:this.$swal.fire("Settlement Error","Please enter complete settlement form.","error");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),settleTransactionSendUnlock:function(){this.dialogDeclineReferenceCS=!0},settleTransactionSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=this.$session.get("user").userdetails.branch_id){e.next=4;break}this.$swal.fire("Settlement Error","Your account is not a teller account and you will not be able to complete this process.","error"),e.next=31;break;case 4:if("Payout"==this.contisend.sendTypeData){e.next=11;break}this.contisend.refNumber2=Date.now(),this.contisend.created_by=this.$session.get("user").userdetails.id,this.contisend.branch_id=this.$session.get("user").userdetails.branch_id,this.contisend.receive_amount||"Booking"==this.contisend.sendTypeData?this.dialogcheckPinSend=!0:this.$swal.fire("Settlement Error","Please enter complete settlement form.","error"),e.next=31;break;case 11:if(this.contisend.created_by=this.$session.get("user").userdetails.id,this.contisend.branch_id=this.$session.get("user").userdetails.branch_id,this.contisend.receive_amount=this.contiPayout.receive_amount,this.contisend.receive_currency_id=this.contiPayout.receive_currency_id,this.contisend.recipientCell=this.contiPayout.recipientCell,this.contisend.recipientFirstName=this.contiPayout.recipientFirstName,this.contisend.recipientLastName=this.contiPayout.recipientLastName,this.contisend.sender_name="".concat(this.contiPayout.first_name," ").concat(this.contiPayout.last_name),this.contisend.sender_cell=this.contiPayout.cell,this.contisend.receive_amount){e.next=24;break}this.$swal.fire("Settlement Error","Please enter complete settlement form.","error"),e.next=31;break;case 24:return this.userFloat=[],t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a="symbol","number"==typeof this.contiPayout.receive_currency_id&&(a="currency_id"),"ZWL"==this.contiPayout.receive_currency_id&&(this.contiPayout.receive_currency_id="Bond"),e.next=31,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"user_id",value:this.$session.get("user").userdetails.id,col2:a,value2:this.contiPayout.receive_currency_id},{headers:t}).subscribe((function(e){r.userFloat=e.data.data.one.recordset,r.contiPayout.receive_amount>r.userFloat[0].amount?r.$swal.fire("Settlement Error","Your current float is less than the amount you want to payout. Please contact mamagment.","error"):r.dialogcheckPinSend=!0}),(function(e){return console.log(e)}));case 31:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkPin:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={id:this.$session.get("user").userdetails.id,pin:this.pin},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=5,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length?(r.dialogcheckPin=!1,r.pin="",r.addsettlement()):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Transaction Adding Failed",text:"Wrong pin please try again"}))}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkPinSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={id:this.$session.get("user").userdetails.id,pin:this.pin},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=5,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length?(r.dialogcheckPinSend=!1,r.pin="","Payout"!=r.contisend.sendTypeData?r.addsettlementSend():r.addsettlementPayout()):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Transaction Adding Failed",text:"Wrong pin please try again"}))}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addsettlementPayout:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},"Bond"==this.contiPayout.symbol&&(this.contiPayout.symbol="ZWL"),"Rand"==this.contiPayout.symbol&&(this.contiPayout.symbol="ZAR"),a={reference:this.contiPayout.refNumber,validationCode:this.contisend.transactionPin,nationalId:this.contiPayout.recipientID,idTypeCode:"NationalID",paidAmount:this.contiPayout.receive_amount,paidCurrency:this.contiPayout.symbol,transactionIndex:this.contiPayout.transactionIndex,oid:this.$session.get("user").userdetails.id},e.next=6,A.a.post(this.nodeApi+"/contiSendComplete",a,{headers:t}).subscribe((function(e){console.log(e.data),"Paid"==e.data.status?r.finalContiSend(r.contisend):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Transaction Adding Failed",text:e.data.message}))}),(function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addsettlementSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Number(this.contisend.receive_amount)+.05*Number(this.contisend.receive_amount),this.contisend.deposit=parseFloat(this.full_send_amount).toFixed(2),this.contisend.charge=parseFloat(this.commissions).toFixed(2),t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a="contiSendWR",r={},"Booking"==this.contisend.sendTypeData&&(a="contiSendWRBooking",this.contisend.receive_amount=this.contiBooking.transaction.beneficiaryAmount,this.contisend.first_name=this.contiBooking.sender.firstName,this.contisend.last_name=this.contiBooking.sender.lastName,this.contisend.sender_name="".concat(this.contiBooking.sender.firstName," ").concat(this.contiBooking.sender.lastName),this.contisend.sender_cell=this.contiBooking.sender.mobilePhone,this.contisend.receive_currency=this.contiBooking.transaction.senderCurrency,this.id_number=this.contiBooking.sender.nationalId,this.contisend.deposit=this.contiBooking.transaction.senderAmount,this.contisend.charge=this.contiBooking.transaction.senderFees,this.contisend.clientID=this.contiBooking.sender.nationalId,this.receive_symbol=this.contiBooking.transaction.senderCurrency,"USD"==this.contiBooking.transaction.senderCurrency&&(this.contisend.receive_currency_id=2),"ZAR"==this.contiBooking.transaction.senderCurrency&&(this.contisend.receive_currency_id=70),"Bond"==this.contiBooking.transaction.senderCurrency&&(this.contisend.receive_currency_id=270),"ZWL"==this.contiBooking.transaction.senderCurrency&&(this.contisend.receive_currency_id=270),this.contisend.recipientFirstName=this.contiBooking.recipient.firstName,this.contisend.recipientLastName=this.contiBooking.recipient.lastName,this.contisend.recipientCell=this.contiBooking.recipient.mobilePhone,this.contisend.recipientID=this.contiBooking.recipient.nationalId,r={transaction:{CSID:this.contisend.refNumber},merchant:{id:1,oid:this.$session.get("user").userdetails.id}}),"Booking"!=this.contisend.sendTypeData&&("Bond"==this.contisend.receive_currency&&(this.contisend.receive_currency="ZWL"),r={data:{transaction:{amount:this.full_send_amount,message:"",channelCode:"CS",reference:this.contisend.refNumber2},merchant:{id:1,oid:this.$session.get("user").userdetails.id},sender:{firstName:this.contisend.first_name.replace(/\s/g,""),middleName:"",lastName:this.contisend.last_name.replace(/\s/g,""),mobilePhone:this.contisend.sender_cell.replace(/[^A-Z0-9]+/gi,""),email:"",gender:"",currencyCode:this.contisend.receive_currency,countryCode:"Zw",idNumber:this.id_number.replace(/[^A-Z0-9]+/gi,""),address:{addressLine1:"",addressLine2:"",addressLine3:"",suburb:"",region:"",postalCode:"",city:"",state:""}},receiver:{firstName:this.contisend.recipientFirstName,middleName:"",lastName:this.contisend.recipientLastName,mobilePhone:this.contisend.recipientCell.replace(/[^A-Z0-9]+/gi,""),email:"",gender:"",currencyCode:this.contisend.receive_currency,countryCode:"Zw",idNumber:this.contisend.recipientID.replace(/[^A-Z0-9]+/gi,""),address:{addressLine1:"",addressLine2:"",addressLine3:"",suburb:"",region:"",postalCode:"",city:"",state:""}}}}),e.next=10,A.a.post(this.nodeApi+"/"+a,r,{headers:t}).subscribe((function(e){"Success"==e.data.status?(s.contisend.mainTransaction=e.data.transaction,s.contisend.refNumber=e.data.transaction.transaction.wrtId,s.contisend.transactionIndex=e.data.transaction.transactionIndex,s.contisend.recipientCell=s.contisend.recipientCell.replace(/[^A-Z0-9]+/gi,""),s.contisend.recipientID=s.contisend.recipientID.replace(/[^A-Z0-9]+/gi,""),s.contisend.sender_cell=s.contisend.sender_cell.replace(/[^A-Z0-9]+/gi,""),s.contisend.first_name=s.contisend.first_name.replace(/[^A-Z0-9]+/gi,""),s.contisend.last_name=s.contisend.last_name.replace(/[^A-Z0-9]+/gi,""),s.finalContiSend(s.contisend)):(s.dialogloader=!1,s.$swal.fire({type:"error",title:"Transaction Adding Failed",text:e.data.message}))}),(function(e){return console.log(e)}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),finalContiSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.contiPayout.ex&&(t.sendTypeData="Payout2",t.charge=this.contiPayout.charge,t.clientID=this.contiPayout.id_number,t.recipientID=this.contiPayout.recipientID,t.first_name=this.contiPayout.first_name,t.last_name=this.contiPayout.last_name,t.transactionIndex=this.contiPayout.transactionIndex),t.recipient_address=this.recipient_address,e.next=5,A.a.post(this.nodeApi+"/contiSendAPI",t,{headers:a}).subscribe((function(e){e.data.message.one.recordset?(r.dialogloader=!1,r.contiPayout.ex=null,"Payout"!=r.contisend.sendTypeData?r.sendSMS(r.contisend):r.sendSMSPayout(r.contisend),r.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"})):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Transaction Adding Failed",text:e.data.message.message}))}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),sendSMSCreate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$swal.fire({type:"success",title:"Client Added",text:"Client was added successfully"});case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),sendSMS:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dialogTransactionSend=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),sendSMSPayout:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dialogTransactionSend=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addsettlement:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.annonimous?this.transactionData.client_id=70:this.transactionData.client_id=this.clientID.id,this.transactionData.branch_id=this.$session.get("user").userdetails.branch_id,this.transactionData.created_by=this.$session.get("user").userdetails.id,"Buy"==this.transaction_type?this.transactionData.transaction_type_id=1:"Sell"==this.transaction_type&&(this.transactionData.transaction_type_id=2),t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.receive_symbol=this.transactionData.receive_currency_id.iso_code,this.disburse_symbol=this.transactionData.disburse_currency_id.iso_code,this.transactionData.receive_currency_id=this.transactionData.receive_currency_id.id,this.transactionData.disburse_currency_id=this.transactionData.disburse_currency_id.id,0,a={transaction:this.transactionData,floatincrease:{col:"amount",value:this.transactionData.receive_amount,wcol:"user_id",wvalue:this.transactionData.created_by,wcol2:"currency_id",wvalue2:this.transactionData.receive_currency_id},floatdecrease:{col:"amount",value:this.transactionData.disburse_amount,wcol:"user_id",wvalue:this.transactionData.created_by,wcol2:"currency_id",wvalue2:this.transactionData.disburse_currency_id}},e.next=13,A.a.post(this.nodeApi+"/addTransactionBuySell",a,{headers:t}).subscribe((function(e){e.data.data.one.recordset?(r.dialogloader=!1,r.loyalty_client_id>0?(r.transactionID=e.data.data.three.recordset.insertId,r.finishTransactions(e.data.data.three.recordset.insertId)):r.finishTransactions(e.data.data.three.recordset.insertId)):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Transaction Adding Failed",text:e.data.message.message}))}),(function(e){return console.log(e)}));case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getLoyaltyBal:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,new Date,this,t={currency:"USD",vasCentreId:"5",clientId:this.loyalty_client_id},e.prev=4,e.next=7,fetch(this.phpService+"/adminBalance",{mode:"cors",method:"POST",body:JSON.stringify({data:t})});case 7:return a=e.sent,e.next=10,a.json();case 10:r=e.sent,"Error"==r.status&&(this.dialogloader=!1,this.$swal.fire({type:"error",title:"Transaction Adding Failed",text:r.message})),"Success"==r.status&&1==r.code&&(this.dialogloader=!1,this.$swal.fire({type:"success",title:"Client Balance Enquiry",text:"The Currenct Balance is : "+r.points+" Points"})),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](4),this.dialogloader=!1,console.error("Error:",e.t0);case 19:case"end":return e.stop()}}),e,this,[[4,15]])})));function t(){return e.apply(this,arguments)}return t}(),finishTransactions:function(e){this.dialogloader=!1,this.request_rate="",this.managerList=[],this.transactionID=e,this.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),this.dialogTransaction=!1,this.$emit("settlement","complete")},finishTransactionsSend:function(e){this.dialogloader=!1,this.request_rate="",this.managerList=[],this.transactionIDContiSend=e,this.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),this.dialogTransactionSend=!1,this.$emit("settlementSend","complete")},loyaltyTransaction:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r,s,n){var i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return new Date,this,i={amount:t,currency:a,clientId:this.loyalty_client_id,rate:this.transactionData.rate,description:"Currency exchange of  "+a+" "+parseFloat(t).toFixed(2)+" for "+r+" "+parseFloat(n).toFixed(2),vasCentreId:"5"},e.prev=3,e.next=6,fetch(this.phpService+"/adminTransact",{mode:"cors",method:"POST",body:JSON.stringify({data:i})});case 6:return o=e.sent,e.next=9,o.json();case 9:l=e.sent,"Error"==l.status&&(this.dialogTransaction=!1,this.dialogloader=!1,this.$swal.fire({type:"error",title:"Transaction Adding Failed",text:l.message})),"Success"==l.status&&1==l.code&&(this.dialogloader=!1,this.request_rate="",this.managerList=[],this.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),this.dialogTransaction=!1,this.$emit("settlement","complete")),e.next=21;break;case 14:e.prev=14,e.t0=e["catch"](3),console.error("Error:",e.t0),this.$swal.fire({type:"success",title:"Transaction Added - With Loyalty Error",text:"Transaction was added successfully but error : "+e.t0}),this.$emit("settlement","complete"),this.dialogloader=!1,this.dialogTransaction=!1;case 21:case"end":return e.stop()}}),e,this,[[3,14]])})));function t(t,a,r,s,n){return e.apply(this,arguments)}return t}(),saveNewClient:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.editedClient.id_number){e.next=4;break}this.$swal.fire("Client ID Error","Please enter client ID.","error"),e.next=25;break;case 4:if(!(this.editedClient.id_number.length<7)){e.next=8;break}this.$swal.fire("Client ID Error","Please enter client ID.","error"),e.next=25;break;case 8:if(this.isValidPhone){e.next=12;break}this.$swal.fire("Phone Error","Please enter a valid phone number.","error"),e.next=25;break;case 12:if(this.editedClient.first_name&&this.editedClient.last_name){e.next=16;break}this.$swal.fire("Name Error","Please enter First Name and Last Name.","error"),e.next=25;break;case 16:if(this.editedClient.date_of_birth){e.next=20;break}this.$swal.fire("Email Error","Please enter Date of birth.","error"),e.next=25;break;case 20:return this.dialogUser=!1,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.editedClient.created_by=this.$session.get("user").userdetails.id,e.next=25,A.a.post(this.nodeApi+"/addClients",this.editedClient,{headers:t,timeout:5e3}).subscribe((function(e){try{e.data.data.one&&(a.e11=1,a.editedClient=a.ClearUser,a.createTransaction2(),a.dialogUser=!1,a.$swal.fire({type:"success",title:"Client Added",text:"Client was added successfully"}))}catch(t){a.$swal.fire({type:"error",title:"Client Adding Failed",text:e.data.message.sqlMessage})}}),(function(e){a.editedClient=a.ClearUser,a.dialogloader=!1,a.$swal.fire("Client Adding","Failed to add client account, probably because another client has the same email or phone number.","error")}));case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveNewClientCS:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.editedClient.id_number){e.next=4;break}this.$swal.fire("Client ID Error","Please enter client ID.","error"),e.next=26;break;case 4:if(!(this.editedClient.id_number.length<7)){e.next=8;break}this.$swal.fire("Client ID Error","Please enter client ID.","error"),e.next=26;break;case 8:if(this.isValidPhone){e.next=12;break}this.$swal.fire("Phone Error","Please enter a valid phone number.","error"),e.next=26;break;case 12:if(this.editedClient.first_name&&this.editedClient.last_name){e.next=16;break}this.$swal.fire("Name Error","Please enter First Name and Last Name.","error"),e.next=26;break;case 16:if(this.editedClient.gender){e.next=20;break}this.$swal.fire("Email Error","Please enter Date of birth.","error"),e.next=26;break;case 20:return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.editedClient.created_by=this.$session.get("user").userdetails.id,a={firstName:this.editedClient.first_name,middleName:"-",lastName:this.editedClient.last_name,mobilePhone:this.editedClient.cell.replace(/\s/g,""),email:this.editedClient.email,gender:this.editedClient.gender,countryCode:this.editedClient.countrycode,password:Date.now(),idNumber:this.editedClient.id_number,address:{addressLine1:this.editedClient.address,addressLine2:"",addressLine3:"",suburb:"",region:"",postalCode:"",city:"",state:""}},e.next=26,A.a.post(this.nodeApi+"/addClientsCS",a,{headers:t,timeout:5e3}).subscribe((function(e){"Success"==e.data.status?(r.editedClient=r.ClearUser,r.dialogTransactionSend=!0,r.dialogUserCS=!1,r.dialogloader=!1,r.sendSMSCreate(e.data)):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Client Adding",text:e.data.message}))}),(function(e){r.dialogloader=!1,r.$swal.fire("Client Adding","Failed to add client account, probably because another client has the same email or phone number.","error")}));case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),gotToTransactionStepSend:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Send"!=this.contisend.sendTypeData){e.next=4;break}this.contisend.clientID?this.contisend.city_name?this.contisend.recipientFirstName?this.contisend.recipientLastName?this.contisend.recipientCell?this.contisend.recipientID?(this.contisend.sender_name=this.contisend.clientID.firstName+" "+this.contisend.clientID.lastName,this.contisend.first_name=this.contisend.clientID.firstName,this.contisend.last_name=this.contisend.clientID.lastName,this.contisend.sender_cell=this.contisend.clientID.cell,this.contisend.clientID=this.contisend.clientID.nationalId,this.e1=3,console.log(this.contisend)):this.$swal.fire("Client Error","Please enter a valid recipiant national id number.","error"):this.$swal.fire("Client Error","Please enter a valid recipiant phone number.","error"):this.$swal.fire("Client Error","Please enter a valid recipiant last name.","error"):this.$swal.fire("Client Error","Please enter a valid recipiant first name.","error"):this.$swal.fire("Client Error","Please select the city where the money is being sent.","error"):this.$swal.fire("Client Error","Please select a client or add new client.","error"),e.next=16;break;case 4:if("Booking"!=this.contisend.sendTypeData){e.next=15;break}if(!this.contisend.city_name){e.next=12;break}return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=10,A.a.post(this.nodeApi+"/contiSendAPICheckBooking",{refNumber:this.contisend.refNumber},{headers:t}).subscribe((function(e){a.dialogloader=!1,"Success"==e.data.status?(a.contiBooking=e.data.booking,a.e1=4,a.contisend.sender_name="".concat(a.contiBooking.sender.firstName," ").concat(a.contiBooking.sender.lastName),a.contisend.sender_id=a.contiBooking.sender.nationalId,a.contisend.recipientFirstName=a.contiBooking.recipient.firstName,a.contisend.recipientLastName=a.contiBooking.recipient.lastName):(a.dialogloader=!1,a.$swal.fire("Reference Error",e.data.message,"error"))}),(function(e){a.dialogloader=!1,a.$swal.fire("Reference Error",e,"error")}));case 10:e.next=13;break;case 12:this.$swal.fire("Reference Error","Please select the city where the money is being sent.","error");case 13:e.next=16;break;case 15:this.contisend.refNumber?this.checkContiSendRefWR(this.contisend.refNumber):this.$swal.fire("Client Error","Please enter a valid reference number.","error");case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkContiSendRef:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/contiSendAPICheckRef",{reference:t},{headers:r}).subscribe((function(e){s.dialogloader=!1,e.data.data.one.recordset[0]?(s.contiPayout=e.data.data.one.recordset[0],s.contiPayout.first_name=a.transaction.sender.firstName,s.contiPayout.last_name=a.transaction.sender.lastName,s.contiPayout.id_number=a.transaction.sender.nationalId,s.contiPayout.cell=a.transaction.sender.mobilePhone,s.contiPayout.receive_amount=a.transaction.transaction.beneficiaryAmount,s.e1=3,s.contisend.sender_name="".concat(a.transaction.sender.firstName," ").concat(a.transaction.sender.lastName),s.contisend.recipientFirstName=e.data.data.one.recordset[0].recipientFirstName,s.contisend.recipientLastName=e.data.data.one.recordset[0].recipientLastName):(s.dialogloader=!1,s.contiPayout.recipientFirstName=a.transaction.recipient.firstName,s.contiPayout.recipientLastName=a.transaction.recipient.lastName,s.contiPayout.recipientCell=a.transaction.recipient.mobilePhone,s.contiPayout.recipientID=a.transaction.recipient.nationalId,s.contiPayout.clientID=a.transaction.recipient.nationalId,s.contiPayout.refNumber=a.transaction.transaction.wrtId,s.contiPayout.transactionIndex=a.transaction.transactionIndex,s.contiPayout.charge=a.transaction.transaction.senderFees,s.contiPayout.receive_currency_id=a.transaction.transaction.beneficiaryCurrency,s.contiPayout.symbol=a.transaction.transaction.beneficiaryCurrency,s.contiPayout.ex="out",s.contiPayout.first_name=a.transaction.sender.firstName,s.contiPayout.last_name=a.transaction.sender.lastName,s.contiPayout.id_number=a.transaction.sender.nationalId,s.contiPayout.cell=a.transaction.sender.mobilePhone,s.contiPayout.receive_amount=a.transaction.transaction.beneficiaryAmount,s.e1=3)}),(function(e){s.dialogloader=!1,s.$swal.fire("Check Error",e,"error")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),checkContiSendRefWR:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/contiSendAPICheckRefWR",{refNumber:t},{headers:a}).subscribe((function(e){"Success"==e.data.status?r.checkContiSendRef(t,e.data):(r.dialogloader=!1,r.$swal.fire("Reference Error",e.data.message,"error"))}),(function(e){r.dialogloader=!1,r.$swal.fire("Check Error",e,"error")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),gotToTransactionStep:function(){null==this.clientID?this.$swal.fire("Client Error","Please select a client or add new client.","error"):this.clientID?(this.annonimous=!1,this.e1=2):this.contisend.clientID.id&&this.contisend.clientID.id?(this.contisend.clientID=this.contisend.clientID.id,this.e1=3,console.log(this.contisend)):this.$swal.fire("Client Error","Please select a client or add new client.","error")},getAllClients:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.clientData=[],t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.get(this.nodeApi+"/getAllClients",{headers:t}).subscribe((function(e){a.clientData=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUserFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return[],t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"user_id",value:this.$session.get("user").userdetails.id,col2:"currency_id",value2:this.transactionData.disburse_currency_id},{headers:t}).subscribe((function(e){a.userFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),DeclineReference:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogloader=!0,!(this.declineMessage.length>5)){e.next=8;break}return t={"Content-Type":"application/json"},a={reference:this.worldremitRef,oid:Number(this.$session.get("user").userdetails.id),message:"Declined By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name,", Reason : ").concat(this.declineMessage),transactionIndex:this.transactionIndex},e.next=6,A.a.post(this.nodeApi+"/unlockReference",{data:a},{headers:t}).subscribe((function(e){var t=JSON.parse(e.data.message);"Success"==t.status?(r.viewCheck=!1,r.dialogloader=!1,r.dialogDeclineReference=!1,r.dialogTransactionWorldRemit=!1,r.$swal.fire({type:"success",title:"PayOut Unlocked Successful",text:"Your World-Remit PayOut Unlock Was successfully"})):(r.dialogloader=!1,r.$swal.fire("PayOut Unlock Error",t.message,"error"))}),(function(e){r.dialogloader=!1,r.$swal.fire("PayOut Unlock Error",e,"error")}));case 6:e.next=10;break;case 8:this.dialogloader=!1,this.$swal.fire("PayOut Unlock Error","Please put a valid reason for declining this reference.","error");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),DeclineReferenceCS:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogloader=!0,!(this.declineMessage.length>5)){e.next=8;break}return t={"Content-Type":"application/json"},a={reference:this.contiPayout.refNumber,oid:Number(this.$session.get("user").userdetails.id),message:"Declined By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name,", Reason : ").concat(this.declineMessage),transactionIndex:this.contiPayout.transactionIndex},e.next=6,A.a.post(this.nodeApi+"/contiSendUnLock",{data:a},{headers:t}).subscribe((function(e){"Success"==e.data.status?(r.dialogloader=!1,r.dialogDeclineReferenceCS=!1,r.dialogTransactionSend=!1,r.$swal.fire({type:"success",title:"PayOut Unlocked Successful",text:"Your ContiSend PayOut Unlock Was successfully"})):(r.dialogloader=!1,r.$swal.fire("PayOut Unlock Error",e.data.message,"error"))}),(function(e){r.dialogloader=!1,r.$swal.fire("PayOut Unlock Error",e,"error")}));case 6:e.next=10;break;case 8:this.dialogloader=!1,this.$swal.fire("PayOut Unlock Error","Please put a valid reason for unlocking this reference.","error");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),CheckReference:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={"Content-Type":"application/json"},e.next=4,A.a.post(this.nodeApi+"/checkReference",{reference:this.worldremitRef,oid:Number(this.$session.get("user").userdetails.id),description:"Checked By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch")},{headers:t}).subscribe((function(e){a.dialogloader=!1;var t=JSON.parse(e.data.message);"Success"==t.status?(a.viewCheck=!0,a.searched=1,a.sender=t.transaction.sender,a.recipient=t.transaction.recipient,a.transaction=t.transaction.transaction,a.transactionIndex=t.transaction.transactionIndex,a.transactionType=t.transaction.transactionType,a.checkoid=t.transaction.oid,a.getWorldRemit(a.transaction)):1==t.code?(a.viewCheck=!0,a.searched=2,a.sender=t.transaction.sender,a.recipient=t.transaction.recipient,a.transaction=t.transaction.transaction,a.transactionIndex=t.transaction.transactionIndex,a.transactionType=t.transaction.transactionType,a.getWorldRemit(a.transaction)):3==t.code?a.checkReferenceAP(a.worldremitRef):4==t.code?(a.sender=t.transaction.sender,a.recipient=t.transaction.recipient,a.transaction=t.transaction.transaction,a.transactionIndex=t.transaction.transactionIndex,a.transactionType=t.transaction.transactionType,a.checkoid=t.transaction.oid,a.checkoid==a.$session.get("user").userdetails.id?a.checkReferenceAP2(a.worldremitRef):a.$swal.fire("Check Error","Sorry only the user who initiated this transaction can complete it.","error")):(a.dialogloader=!1,a.postErrorWorldRemit(),a.$swal.fire("Check Error",t.message,"error"))}),(function(e){a.dialogloader=!1,a.$swal.fire("Check Error",e,"error")}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkReferenceAP:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/checkReferenceAP",{reference:t},{headers:a}).subscribe((function(e){e.data.data.one.recordset.length>0?r.$swal.fire("Check Error","Reference ".concat(t," is already paid and saved in the system."),"error"):r.$swal.fire({title:"Check Error",text:"World Remit has already recognized reference ".concat(t," as paid but not saved in the system. Do you want to proceed to add it."),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, send it!"}).then((function(e){e.value&&r.getWorldRemitError(r.worldremitRef)}))}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),checkReferenceAP2:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/checkReferenceAP",{reference:t},{headers:a}).subscribe((function(e){e.data.data.one.recordset.length>0?r.$swal.fire("Check Error","Reference ".concat(t," is already paid and saved in the system."),"error"):r.$swal.fire({title:"Check Error",text:"World Remit has already recognized reference ".concat(t," as paid but not saved in the system. Do you want to proceed to add it."),type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, send it!"}).then((function(e){e.value&&(r.viewCheck=!0,r.searched=2,r.needApproval=1,r.getWorldRemit(r.transaction))}))}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getWorldRemitError:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getErrorWorldRemit",{reference:t},{headers:a}).subscribe((function(e){e.data.data.one.recordset.length>1?(r.sender=JSON.parse(e.data.data.one.recordset[0].senderData),r.recipient=JSON.parse(e.data.data.one.recordset[0].recipiantData),r.transaction=JSON.parse(e.data.data.one.recordset[0].transactionData),r.transactionType="CASH PICKUP "+e.data.data.one.transactionType,r.viewCheck=!0,r.searched=2,r.needApproval=1):r.$swal.fire("Check Error","Transaction is already paid by another service provider.","error")}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),LockReference:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={"Content-Type":"application/json"},e.next=4,A.a.post(this.nodeApi+"/lockReference",{reference:this.worldremitRef,description:"Checked By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch"),transactionIndex:this.transactionIndex,oid:Number(this.$session.get("user").userdetails.id)},{headers:t}).subscribe((function(e){a.dialogloader=!1;var t=JSON.parse(e.data.message);"Success"==t.status?(a.viewCheck=!0,a.searched=2,a.sender=t.transaction.sender,a.recipient=t.transaction.recipient,a.transaction=t.transaction.transaction,a.transactionIndex=t.transaction.transactionIndex,a.transactionType=t.transaction.transactionType,a.getWorldRemit(a.transaction)):(console.log(t),1==t.code?(a.viewCheck=!0,a.searched=2,a.sender=t.transaction.sender,a.recipient=t.transaction.recipient,a.transaction=t.transaction.transaction,a.transactionIndex=t.transaction.transactionIndex,a.transactionType=t.transaction.transactionType,a.getWorldRemit(a.transaction)):3==t.code?a.checkoid==a.$session.get("user").userdetails.id?a.checkReferenceAP2(a.worldremitRef):a.$swal.fire("Check Error","Sorry only the user who initiated this transaction can complete it.","error"):(a.dialogloader=!1,a.postErrorWorldRemit(),a.$swal.fire("Check Error",t.message,"error")))}),(function(e){a.dialogloader=!1,a.$swal.fire("Check Error",e,"error")}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),postErrorWorldRemit:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/postErrorWorldRemit",{currency:1276,user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getWorldRemit:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getWorldRemitCurrency",{currency:t.beneficiaryCurrency,user_id:this.$session.get("user").userdetails.id},{headers:a}).subscribe((function(e){r.worldremitCurrency=e.data.data.one.recordset[0].id,r.worldremitCurrencyFloat=e.data.data.one.recordset[0].amount,r.worldremitCurrencyError=e.data.data.one.recordset[0].worldremit,r.worldremitCurrencyError>=100&&(r.dialogTransactionWorldRemit=!1,r.$swal.fire({type:"error",title:"WorldRemit PayOut Failed",text:"You have excided the number of error allowed today. Please contact your Manager for assistance."}))}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),ProcessReference:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.disableButton=!0,!(this.transaction.beneficiaryAmount>this.worldremitCurrencyFloat)){e.next=6;break}this.$swal.fire({type:"error",title:"WorldRemit PayOut Failed",text:"Insufficiant Float to finish this transaction. Please contact your Manager for assistance."}),this.disableButton=!1,e.next=16;break;case 6:if(""!=this.clientIDWorldRemit&&""!=this.clientDistrict&&""!=this.clientAddress&&""!=this.transactionPurpose&&""!=this.sourceFunds&&""!=this.clientGender&&""!=this.clientDistrict){e.next=11;break}this.$swal.fire({type:"error",title:"WorldRemit PayOut Failed",text:"Please fill all empty fields to proceed."}),this.disableButton=!1,e.next=16;break;case 11:return this.dialogloader=!0,t={id:this.$session.get("user").userdetails.id,pin:this.pinWorldRemit},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=16,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length?(r.pinWorldRemit="",r.ProcessReferenceFinal()):(r.dialogloader=!1,r.disableButton=!1,r.$swal.fire({type:"error",title:"WorldRemit PayOut Failed",text:"Wrong Teller Pin please try again"}))}),(function(e){return console.log(e)}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ProcessReferenceFinal:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json"},console.log(this.needApproval),a=this.needApproval>0?{reference:this.worldremitRef,validationCode:this.worldremitRefPin,nationalId:this.clientIDWorldRemit,idTypeCode:this.recipient.idTypeCode,paidAmount:this.transaction.beneficiaryAmount,paidCurrency:this.transaction.beneficiaryCurrency,transactionIndex:this.transactionIndex,needApproval:this.needApproval,oid:Number(this.$session.get("user").userdetails.id),description:"Paid By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch")}:{reference:this.worldremitRef,validationCode:this.worldremitRefPin,nationalId:this.clientIDWorldRemit,idTypeCode:this.recipient.idTypeCode,paidAmount:this.transaction.beneficiaryAmount,paidCurrency:this.transaction.beneficiaryCurrency,transactionIndex:this.transactionIndex,oid:Number(this.$session.get("user").userdetails.id),description:"Paid By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch")},e.next=5,A.a.post(this.nodeApi+"/ProcessReference",{data:a},{headers:t}).subscribe((function(e){r.dialogloader=!1,"Paid"==e.data.message.status?(r.viewCheck=!1,r.payWorldRemitTransaction(e.data)):r.needApproval>0?(r.viewCheck=!1,r.payWorldRemitTransactionApprove(e.data)):4==e.data.message.code?(r.viewCheck=!1,r.payWorldRemitTransaction(e.data)):(r.dialogloader=!1,r.disableButton=!1,r.$swal.fire("PayOut Error",e.data.message.message,"error"),r.payWorldRemitTransactionError(e.data))}),(function(e){r.dialogloader=!1,r.disableButton=!1,r.payWorldRemitTransactionError(e),r.$swal.fire("PayOut Error",e,"error")}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),payWorldRemitTransactionApprove:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.worldremitRef,r=Object(C["a"])({clientID:this.clientIDWorldRemit,clientDistrict:this.clientDistrict,clientAddress:this.clientAddress,transactionPurpose:this.transactionPurpose,sourceFunds:this.sourceFunds,clientGender:this.clientGender},"clientDistrict",this.clientDistrict),s={reference:this.worldremitRef,apiRespone:JSON.stringify(t),additionalInfo:JSON.stringify(r),transactionData:JSON.stringify(this.transaction),recipiantData:JSON.stringify(this.recipient).replace(/'/g,""),senderData:JSON.stringify(this.sender).replace(/'/g,""),payOut:this.transaction.beneficiaryAmount,payOutCurrency:this.worldremitCurrency,createdBy:this.$session.get("user").userdetails.id,branchID:this.$session.get("user").userdetails.branch_id,sentBy:JSON.stringify("".concat(this.sender.firstName," ").concat(this.sender.middleName," ").concat(this.sender.lastName)).replace(/'/g,""),sentDate:"".concat(this.transaction.wrtDateCreated),sentAmount:"".concat(this.transaction.senderAmount),sentCurrency:"".concat(this.transaction.senderCurrency),clientCurrency:"".concat(this.transaction.beneficiaryCurrency),clientName:JSON.stringify("".concat(this.recipient.firstName," ").concat(this.recipient.middleName," ").concat(this.recipient.lastName)).replace(/'/g,""),clientPhone:"".concat(this.recipient.mobilePhone," "),commission:this.transaction.settlementCommission,transactionType:this.transactionType,needApproval:this.needApproval,fxRate:0},e.next=6,A.a.post(this.nodeApi+"/completeWorldRemitApprove",{data:s},{headers:a}).subscribe((function(e){e.data.message?(n.$swal.fire("PayOut Error","Transaction ".concat(n.worldremitRef," already paid!"),"error"),n.dialogTransactionWorldRemit=!1):(n.$swal.fire({type:"success",title:"Approval Sent",text:"Your World-Remit was successfully send for approval."}),n.dialogTransactionWorldRemit=!1,n.needApproval=0)}),(function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),payWorldRemitTransaction:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n,i,o,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},r=this.worldremitRef,s=Object(C["a"])({clientID:this.clientIDWorldRemit,clientDistrict:this.clientDistrict,clientAddress:this.clientAddress,transactionPurpose:this.transactionPurpose,sourceFunds:this.sourceFunds,clientGender:this.clientGender},"clientDistrict",this.clientDistrict),n={reference:this.worldremitRef,apiRespone:JSON.stringify(t),additionalInfo:JSON.stringify(s),transactionData:JSON.stringify(this.transaction),recipiantData:JSON.stringify(this.recipient).replace(/'/g,""),senderData:JSON.stringify(this.sender).replace(/'/g,""),payOut:this.transaction.beneficiaryAmount,payOutCurrency:this.worldremitCurrency,createdBy:this.$session.get("user").userdetails.id,branchID:this.$session.get("user").userdetails.branch_id,sentBy:JSON.stringify("".concat(this.sender.firstName," ").concat(this.sender.middleName," ").concat(this.sender.lastName)).replace(/'/g,""),sentDate:"".concat(this.transaction.wrtDateCreated),sentAmount:"".concat(this.transaction.senderAmount),sentCurrency:"".concat(this.transaction.senderCurrency),clientCurrency:"".concat(this.transaction.beneficiaryCurrency),clientName:JSON.stringify("".concat(this.recipient.firstName," ").concat(this.recipient.middleName," ").concat(this.recipient.lastName)).replace(/'/g,""),clientPhone:"".concat(this.recipient.mobilePhone," "),commission:this.transaction.settlementCommission,transactionType:this.transactionType,needApproval:this.needApproval,fxRate:0},e.next=6,A.a.post(this.nodeApi+"/completeWorldRemit",{data:n},{headers:a}).subscribe((function(e){e.data.message?(l.$swal.fire("PayOut Error","Transaction ".concat(l.worldremitRef," already paid!"),"error"),l.dialogTransactionWorldRemit=!1):(l.transactionIDWorldRemit=l.worldremitRef,l.$swal.fire({type:"success",title:"PayOut Successful",text:"Your World-Remit PayOut Was successfully"}),l.dialogTransactionWorldRemit=!1,l.$emit("settlement","complete"),l.needApproval=0)}),(function(e){console.log(e)}));case 6:return i=new Date,o={bdxName:"Test Bureau",bdxBranch:"Newlands HQ",transactionDate:i.toISOString(),apiUsername:this.$session.get("user").userdetails.rbz_username,password:this.$session.get("user").userdetails.rbz_password,operatorName:"".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch"),senderName:"".concat(this.sender.firstName," ").concat(this.sender.middleName," ").concat(this.sender.lastName),clientName:"".concat(this.recipient.firstName," ").concat(this.recipient.middleName," ").concat(this.recipient.lastName),clientNationalId:this.clientIDWorldRemit,clientGender:this.clientGender,clientPhysicalAddress:{street:this.clientAddress},district:this.clientDistrict,currencyCode:"".concat(this.transaction.beneficiaryCurrency),sourceCountryCode:"",internationalPartnerCode:"WR",sourceCountryName:this.sender.countryName,internationalPartnerName:"World Remit",sourceOfFundsCode:this.sourceFunds,transactionPurposeCode:this.transactionPurpose,transferMode:"CASH",amount:this.transaction.beneficiaryAmount,originalReference:r},e.next=10,A.a.post(this.nodeApi+"/postRBZ",o,{headers:a}).subscribe((function(e){e.data.statusCode?l.rbzTransactionUpdate(1,r):l.rbzTransactionUpdate(2,r)}),(function(e){console.log(e)}));case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),rbzTransactionUpdate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/postRBZUpdater",{data:t,reference:a},{headers:r}).subscribe((function(e){console.log(e.data)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),payWorldRemitTransactionError:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},r=Object(C["a"])({clientID:this.clientIDWorldRemit,clientDistrict:this.clientDistrict,clientAddress:this.clientAddress,transactionPurpose:this.transactionPurpose,sourceFunds:this.sourceFunds,clientGender:this.clientGender},"clientDistrict",this.clientDistrict),s={reference:this.worldremitRef,apiRespone:JSON.stringify(t),transactionData:JSON.stringify(this.transaction),additionalInfo:JSON.stringify(r),recipiantData:JSON.stringify(this.recipient).replace(/\W/g,""),senderData:JSON.stringify(this.sender).replace(/\W/g,""),payOut:this.transaction.beneficiaryAmount,payOutCurrency:this.worldremitCurrency,createdBy:this.$session.get("user").userdetails.id,branchID:this.$session.get("user").userdetails.branch_id,sentBy:JSON.stringify("".concat(this.sender.firstName," ").concat(this.sender.middleName," ").concat(this.sender.lastName)).replace(/'/g,""),sentDate:"".concat(this.transaction.wrtDateCreated),sentAmount:"".concat(this.transaction.senderAmount),sentCurrency:"".concat(this.transaction.senderCurrency),clientCurrency:"".concat(this.transaction.beneficiaryCurrency),clientName:JSON.stringify("".concat(this.recipient.firstName," ").concat(this.recipient.middleName," ").concat(this.recipient.lastName)).replace(/'/g,""),clientPhone:"".concat(this.recipient.mobilePhone," "),commission:this.transaction.settlementCommission,transactionType:"Error",fxRate:0},e.next=5,A.a.post(this.nodeApi+"/completeWorldRemitError",{data:s},{headers:a}).subscribe((function(e){e.data.message?n.$swal.fire("PayOut Error",e.data.message,"error"):console.log(e.data)}),(function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createTransaction:function(e){"WorldRemit"==e?(this.dialogTransactionWorldRemit=!0,this.transaction_type=e,this.getAllCurrenciesActive()):"Utility"==e?(this.dialogTransactionUtility=!0,this.transaction_type=e,this.getAllCurrenciesActive(),this.getDSTvSelect(),this.getDSTvCheck()):"ContiSend"==e?(this.dialogTransactionSend=!0,this.transaction_type=e,this.getAllCurrenciesActive()):(this.dialogTransaction=!0,this.transaction_type=e,this.getAllCurrenciesActive())},createTransaction2:function(){this.dialogTransactionSend||(this.dialogTransaction=!0,this.getAllCurrenciesActive())},saveTransaction:function(){},CurrencyPair:function(e){this.$root.$emit("CurrencyPairSelected",e)}}},F=B,R=(a("0291"),a("0798")),$=a("8212"),U=a("8336"),j=a("b0af"),P=a("99d9"),O=a("12b2"),N=a("ac7c"),I=a("2b5d"),E=a("8fea"),V=a("169a"),z=a("ce7e"),M=a("0e8f"),L=a("132d"),W=a("a722"),G=a("8860"),Y=a("ba95"),H=a("40fe"),q=a("5d23"),Z=a("e449"),K=a("8e36"),J=a("b56d"),Q=a("9910"),X=a("7e85"),ee=a("e516"),te=a("9c54"),ae=a("56a4"),re=a("b73d"),se=a("71a3"),ne=a("c671"),ie=a("fe57"),oe=a("2677"),le=a("a844"),ce=a("71d9"),de=a("2a7f"),ue=a("3a2f"),he=Object(d["a"])(F,b,y,!1,null,"2c4273c9",null),pe=he.exports;h()(he,{VAlert:R["a"],VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardActions:P["a"],VCardText:P["b"],VCardTitle:O["a"],VCheckbox:N["a"],VCombobox:I["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VList:G["a"],VListTile:Y["a"],VListTileAction:H["a"],VListTileContent:q["a"],VListTileTitle:q["b"],VMenu:Z["a"],VProgressLinear:K["a"],VSelect:J["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VSwitch:re["a"],VTab:se["a"],VTabItem:ne["a"],VTabs:ie["a"],VTextField:oe["a"],VTextarea:le["a"],VToolbar:ce["a"],VToolbarTitle:de["b"],VTooltip:ue["a"]});var me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"justify-center pl-0",attrs:{color:"blue",inset:"",app:""}},[a("v-flex",{staticStyle:{"margin-left":"70px"},attrs:{md1:""}},[a("v-btn",{staticClass:"white--text text-none",attrs:{color:"green darken-1",small:""}},[a("v-icon",[e._v("attach_money")]),e._v("\n      Deposit\n    ")],1)],1),a("v-flex",[a("span",{staticClass:"white--text text-none",staticStyle:{"font-size":"16px"}},[e._v(e._s(e.currency)+" : ")]),a("span",{staticClass:"white--text text-none",staticStyle:{"font-size":"16px"}},[e._v(e._s(e.balance))])]),a("v-spacer"),a("div",{staticClass:"white--text"},[a("span",[e._v(e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a")))])])],1)},fe=[],ge={data:function(){return{intervalid1:null,time:0,currency:"AUD",balance:0}},watch:{currency:function(e){}},mounted:function(){var e=this;this.$root.$on("CurrencyPairSelected",(function(t){e.currency=t})),this.intervalid1=setInterval((function(){e.time=Date.now()}),1e3)}},ve=ge,_e=a("553a"),be=Object(d["a"])(ve,me,fe,!1,null,"5269a2f4",null),ye=be.exports;h()(be,{VBtn:U["a"],VFlex:M["a"],VFooter:_e["a"],VIcon:L["a"],VSpacer:Q["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{dark:"",color:"#2D2D2D"}},[a("v-spacer"),e._l(e.items,(function(t){return a("v-tooltip",{key:t.title,attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{staticClass:"white--text",attrs:{icon:""},on:{click:function(a){return e.SelectedMenu(t.title)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v(e._s(t.icon))])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.tooltip))])])}))],2),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddBranch,callback:function(t){e.dialogAddBranch=t},expression:"dialogAddBranch"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Security Change Form")]),a("v-spacer")],1),a("v-tabs",{attrs:{color:"yellow darken-4","slider-color":"white"}},[a("v-tab",{staticClass:"white--text"},[e._v(" Password Change ")]),a("v-tab-item",[a("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Enter Old Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.passwordold,callback:function(t){e.passwordold=t},expression:"passwordold"}})],1),a("v-flex",{attrs:{xs12:""}},[a("password",{attrs:{toggle:!0},on:{score:e.showScore,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),a("v-flex",{attrs:{xs12:""}},[a("password",{attrs:{toggle:!0},on:{score:e.showScore,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddBranch=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"#ECB530"},on:{click:e.AddPassword}},[e._v("Save")])],1),a("v-tab",{staticClass:"white--text"},[e._v(" Pin Change ")]),a("v-tab-item",[a("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Enter Old Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pinold,callback:function(t){e.pinold=t},expression:"pinold"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Enter Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:"Enter Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pinconfirm,callback:function(t){e.pinconfirm=t},expression:"pinconfirm"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddBranch=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"#ECB530"},on:{click:e.updatePin}},[e._v("Save")])],1)],1)],1)],1)],1)},we=[],Ce={components:{Password:S.a},data:function(){return{drawer:!0,dialogAddBranch:!1,nodeApi:"http://localhost:8081",fixed:!0,pin:"",pinold:"",passwordold:"",pinconfirm:"",approvalsCounter:0,approvallist:[],permanent:!0,newPassword:"",confirm:"",score:0,mini:!0,user_type:0,right:null,intervalid:""}},mounted:function(){this.user_type=this.$session.get("user").userdetails.user_type,this.SelectedMenu("market-page")},computed:{items:function(){if(1==this.user_type){var e=[{title:"market-page",icon:"dashboard",tooltip:"Dashboard"},{title:"overall-page",icon:"equalizer",tooltip:"Transactions"},{title:"exchange-page",icon:"supervised_user_circle",tooltip:"Clients"},{title:"profile-page",icon:"account_circle",tooltip:"Users"},{title:"rates-page",icon:"monetization_on",tooltip:"Rates"},{title:"reports-page",icon:"account_balance",tooltip:"Branches"},{title:"floatmove-page",icon:"swap_vertical_circle",tooltip:"Float Movement Report"},{title:"support-page",icon:"compare_arrows",tooltip:"Float Movement Admin"},{title:"Password",icon:"https",tooltip:"Password Change"},{title:"Exit",icon:"exit_to_app",tooltip:"Logout"}];return e}if(2==this.user_type){var t=[{title:"market-page",icon:"dashboard",tooltip:"Dashboard"},{title:"support-page",icon:"compare_arrows",tooltip:"Float Movement Admin"},{title:"Password",icon:"https",tooltip:"Password Change"},{title:"Exit",icon:"exit_to_app",tooltip:"Logout"}];return t}if(3==this.user_type){var a=[{title:"market-page",icon:"dashboard",tooltip:"Dashboard"},{title:"dashboard-page",icon:"equalizer",tooltip:"Transactions"},{title:"support-page",icon:"compare_arrows",tooltip:"Float Movement Admin"},{title:"Password",icon:"https",tooltip:"Password Change"},{title:"Exit",icon:"exit_to_app",tooltip:"Logout"}];return a}if(4==this.user_type){var r=[{title:"market-page",icon:"dashboard",tooltip:"Dashboard"},{title:"overall-page",icon:"equalizer",tooltip:"Transactions"},{title:"exchange-page",icon:"supervised_user_circle",tooltip:"Clients"},{title:"profile-page",icon:"account_circle",tooltip:"Users"},{title:"rates-page",icon:"monetization_on",tooltip:"Rates"},{title:"reports-page",icon:"account_balance",tooltip:"Branches"},{title:"floatmove-page",icon:"swap_vertical_circle",tooltip:"Float Movement Report"},{title:"support-page",icon:"compare_arrows",tooltip:"Float Movement Admin"},{title:"Password",icon:"https",tooltip:"Password Change"},{title:"Exit",icon:"exit_to_app",tooltip:"Logout"}];return r}if(5==this.user_type){var s=[{title:"market-page",icon:"dashboard",tooltip:"Dashboard"},{title:"overall-page",icon:"equalizer",tooltip:"Transactions"},{title:"exchange-page",icon:"supervised_user_circle",tooltip:"Clients"},{title:"profile-page",icon:"account_circle",tooltip:"Users"},{title:"rates-page",icon:"monetization_on",tooltip:"Rates"},{title:"reports-page",icon:"account_balance",tooltip:"Branches"},{title:"floatmove-page",icon:"swap_vertical_circle",tooltip:"Float Movement Report"},{title:"support-page",icon:"compare_arrows",tooltip:"Float Movement Admin"},{title:"Password",icon:"https",tooltip:"Password Change"},{title:"Exit",icon:"exit_to_app",tooltip:"Logout"}];return s}if(6==this.user_type){var n=[{title:"market-page",icon:"dashboard",tooltip:"Dashboard"},{title:"overall-page",icon:"equalizer",tooltip:"Transactions"},{title:"floatmove-page",icon:"swap_vertical_circle",tooltip:"Float Movement Report"},{title:"support-page",icon:"compare_arrows",tooltip:"Float Movement Admin"},{title:"Password",icon:"https",tooltip:"Password Change"},{title:"Exit",icon:"exit_to_app",tooltip:"Logout"}];return n}}},watch:{score:function(e){},pin:function(e){console.log(e)},dialogAddBranch:function(e){e||(this.pinold="",this.passwordold="",this.newPassword="",this.pin="")}},methods:{approvalData:function(e){},getApprovalsClose:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColUserApprovalsClose",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(t){"TokenExpiredError"==t.data.name?e.$router.push({name:"login"}):(e.approvalsCounter=t.data.data.one.recordset.length,e.approvallist=t.data.data.one.recordset,e.approvalData(e.approvallist))}),(function(e){return console.log(e)}))},getApprovalsSP:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColBranchApprovals",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(t){"TokenExpiredError"==t.data.name?e.$router.push({name:"login"}):(e.approvalsCounter=t.data.data.one.recordset.length,e.approvallist=t.data.data.one.recordset,e.approvalData(e.approvallist))}),(function(e){return console.log(e)}))},getApprovalsGM:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getTransactionsByColGMApprovals",{headers:t}).subscribe((function(t){"TokenExpiredError"==t.data.name?e.$router.push({name:"login"}):(e.approvalsCounter=t.data.data.one.recordset.length,e.approvallist=t.data.data.one.recordset,e.approvalData(e.approvallist))}),(function(e){return console.log(e)}))},getApprovalsTR:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getTransactionsByColTreasuryApprovals",{headers:t}).subscribe((function(t){"TokenExpiredError"==t.data.name?e.$router.push({name:"login"}):(e.approvalsCounter=t.data.data.one.recordset.length,e.approvallist=t.data.data.one.recordset,e.approvalData(e.approvallist))}),(function(e){return console.log(e)}))},updatePin:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.pin==this.pinconfirm){e.next=4;break}this.$swal.fire({type:"error",title:"Pin Update Failed",text:"Your two passwords do not match"}),e.next=12;break;case 4:if(this.pinold){e.next=8;break}this.$swal.fire({type:"error",title:"Pin Update Failed",text:"Please enter old pin"}),e.next=12;break;case 8:return t={id:this.$session.get("user").userdetails.id,pin:this.pinold},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length?(r.dialogcheckPin=!1,A.a.put(r.nodeApi+"/updateUsersByCol",{col:"pin",value:r.pin,wcol:"email",wvalue:r.$session.get("user").userdetails.email},{headers:a}).subscribe((function(e){e.data.data.one?(r.dialogAddBranch=!1,r.pin="",r.pinconfirm="",r.pinold="",r.$swal.fire({type:"success",title:"Pin Update",text:"User pin was updated successfully"})):r.$swal.fire({type:"error",title:"Pin Update Failed",text:e.data.message})}),(function(e){r.$swal.fire("Pin Update Failed",e,"error")}))):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Pin Update Failed",text:"Wrong old pin please try again"}))}),(function(e){return console.log(e)}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showScore:function(e){this.score=e},AddPassword:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.score<3)){e.next=4;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Please enter a stronger password"}),e.next=18;break;case 4:if(this.newPassword==this.confirm){e.next=8;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Your two passwords do not match"}),e.next=18;break;case 8:if(this.passwordold){e.next=12;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Please enter old password"}),e.next=18;break;case 12:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={email:this.$session.get("user").userdetails.email,password:this.passwordold},r=this.$jwt.sign(a,this.$session.get("user").token,{expiresIn:15}),s={payload:r},e.next=18,A.a.post(this.nodeApi+"/checkloginUser",s,{headers:t}).subscribe((function(e){var a=n.$jwt.decode(e.data.token,{complete:!0});if("Success"==a.payload.message){var r=n.$jwt.sign({email:n.$session.get("user").userdetails.email,password:n.newPassword},n.$session.get("user").token,{expiresIn:15}),s={payload:r};A.a.post(n.nodeApi+"/updateUserPassword",s,{headers:t}).subscribe((function(e){var t=n.$jwt.decode(e.data.token,{complete:!0});t.payload.results?(n.dialogAddBranch=!1,n.newPassword="",n.confirm="",n.passwordold="",n.$swal.fire({type:"success",title:"Password Update",text:"User Password was updated successfully"})):n.$swal.fire({type:"error",title:"Password Update Failed",text:t.payload.message})}),(function(e){n.$swal.fire("Password Update Failed",e,"error")}))}else n.$swal.fire({type:"error",title:"Password Update Failed",text:a.payload.message})}),(function(e){n.$swal.fire({type:"Old Password Check",title:"Old password check try again",text:e})}));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),logout:function(){this.$session.destroy(),this.$router.push("/")},SelectedMenu:function(e){"Password"!=e&&"Exit"!=e?"market-page"==e?(1==this.user_type&&this.$emit("SelectedMenuItem","dash-manager"),2==this.user_type&&this.$emit("SelectedMenuItem","dash-teller"),3==this.user_type&&this.$emit("SelectedMenuItem","dash-super"),this.user_type>=4&&this.$emit("SelectedMenuItem","dash-manager")):this.$emit("SelectedMenuItem",e):("Exit"==e&&this.logout(),"Password"==e&&(this.dialogAddBranch=!0))}}},ke=Ce,Te=Object(d["a"])(ke,xe,we,!1,null,"43722e9d",null),Ae=Te.exports;h()(Te,{VBtn:U["a"],VCard:j["a"],VCardTitle:O["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSpacer:Q["a"],VTab:se["a"],VTabItem:ne["a"],VTabs:ie["a"],VTextField:oe["a"],VToolbar:ce["a"],VTooltip:ue["a"]});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-flex",{attrs:{xs12:"","ma-2":""}},[a("v-card",{attrs:{color:"blue lighten-3"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("v-menu",{ref:"menu1",attrs:{color:"success","close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{label:"Expected Date",hint:"DD/MM/YYYY","persistent-hint":"","prepend-icon":"event"},on:{blur:function(t){e.date=e.parseDate(e.dateFormatted)}},model:{value:e.dateFormatted,callback:function(t){e.dateFormatted=t},expression:"dateFormatted"}},r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){e.menu1=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","ma-2":""}},[a("v-card",{attrs:{color:"blue lighten-3"}},[a("v-card-title",[a("v-text-field",{staticClass:"inputPrice",attrs:{label:"Amount",type:"number","prepend-icon":"attach_money",min:"0"},model:{value:e.fValue,callback:function(t){e.fValue=t},expression:"fValue"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"","ma-2":""}},[a("v-card",{attrs:{color:"blue lighten-3"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-combobox",{attrs:{items:e.branches,label:"Preferred Branch"},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","ma-2":""}},[a("v-card",{staticClass:"white--text text-md-center",attrs:{color:"green",hover:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-icon",{attrs:{dark:""}},[e._v("gavel")])],1),a("v-flex",[e._v("                  \n                Book to Sell\n              ")])],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"","ma-2":""}},[a("v-card",{staticClass:"white--text text-md-center",attrs:{color:"red",hover:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("v-layout",{attrs:{column:""}},[a("v-flex",[a("v-icon",{attrs:{dark:""}},[e._v("gavel")])],1),a("v-flex",[e._v("                  \n                Book to buy\n              ")])],1)],1)],1)],1)],1)},Se=[],Be=(a("f5766"),a("28a5"),a("768b")),Fe={data:function(e){return{date:(new Date).toISOString().substr(0,10),dateFormatted:e.formatDate((new Date).toISOString().substr(0,10)),menu1:!1,menu2:!1,select:"Beverly Court",branches:["Beverly Court","Rezende"],value:""}},computed:{computedDateFormatted:function(){return this.formatDate(this.date)},fValue:{get:function(){return this.value},set:function(e){e.length>2?(e=e.replace(".",""),this.value=e.substr(0,e.length-2)+"."+e.substr(e.length-2)):this.value=e}}},watch:{date:function(e){this.dateFormatted=this.formatDate(this.date)}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(Be["a"])(t,3),r=a[0],s=a[1],n=a[2];return"".concat(n,"/").concat(s,"/").concat(r)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=Object(Be["a"])(t,3),r=a[0],s=a[1],n=a[2];return"".concat(n,"-").concat(r.padStart(2,"0"),"-").concat(s.padStart(2,"0"))}}},Re=Fe,$e=a("2e4b"),Ue=Object(d["a"])(Re,De,Se,!1,null,"d485f594",null),je=Ue.exports;h()(Ue,{VCard:j["a"],VCardTitle:O["a"],VCombobox:I["a"],VDatePicker:$e["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VMenu:Z["a"],VTextField:oe["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},Oe=[],Ne=(a("ac6a"),a("9ca8")),Ie={components:{"v-chart":Ne["a"]},props:{ToggleCurrency:""},data:function(){return{polar:{},graphAPi:"http://dev.contipay.co.zw:82/https://api-dev.contipay.co.zw/graphsApi?authorization=",nodeApi:"http://localhost:8081",currencyData:[],currencyDataActive:[],branchData:[],graphData:[],rawData:[]}},mounted:function(){this.loadGraphData("USD")},watch:{ToggleCurrency:function(e){this.loadGraphData(e)}},methods:{loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getBranchFloatGraph3",{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=[],c=0,d=0,u=0,h=0,p=0;e.forEach((function(e){-1==r.indexOf(e.branch.replace(/\s/g,""))&&r.push(e.branch.replace(/\s/g,""))})),e.forEach((function(e){-1==a.indexOf(e.symbol.replace(/\s/g,""))&&a.push(e.symbol.replace(/\s/g,""))})),e.forEach((function(e,a){"Coin"==e.symbol.replace(/\s/g,"")&&(s.push(parseFloat(e.amount).toFixed(2)),c+=e.amount),"Bond"==e.symbol.replace(/\s/g,"")&&(o.push(parseFloat(e.amount).toFixed(2)),h+=e.amount),"RTGS"==e.symbol.replace(/\s/g,"")&&(n.push(parseFloat(e.amount).toFixed(2)),d+=e.amount),"Ecocash"==e.symbol.replace(/\s/g,"")&&(i.push(parseFloat(e.amount).toFixed(2)),u+=e.amount),e.symbol.replace(/\s/g,"")==t&&(l.push(parseFloat(e.amount).toFixed(2)),p+=e.amount)})),this.polar={title:{subtext:"Total Float : ".concat(t," ").concat(parseFloat(p).toFixed(2)," | Ecocash $").concat(parseFloat(u).toFixed(2)," | RTGS $").concat(parseFloat(d).toFixed(2)," | Bond $").concat(parseFloat(h).toFixed(2)," | Coin $").concat(parseFloat(c).toFixed(2)),subtextStyle:{color:"#3949AB"},left:10},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"bottom",data:a},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:"Coin",type:"bar",stack:"",data:s},{name:"RTGS",type:"bar",stack:"",data:n},{name:"Ecocash",type:"bar",stack:"",data:i},{name:"Bond",type:"bar",stack:"",data:o},{name:t,type:"bar",data:l}]}}}},Ee=Ie,Ve=(a("4783"),Object(d["a"])(Ee,Pe,Oe,!1,null,"6e2b0364",null)),ze=Ve.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticStyle:{color:"green"}},[e._v("Full Branch Transaction Report")]),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search by anything","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}}),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}}),a("v-flex",{attrs:{xs12:"",sm6:"",md2:"","ma-0":""}}),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"must-sort":"","item-key":"tran_id",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[e._v(e._s(t.item.id))]),a("td",[e._v(e._s(t.item.created_at))]),a("td",["Sell"==t.item.transaction_type.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"Buy"==t.item.transaction_type.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"FloatIn"==t.item.transaction_type.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"FloatOut"==t.item.transaction_type.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e()],1),a("td",[e._v(e._s(parseFloat(t.item.rate).toFixed(1)))]),a("td",[e._v(e._s(t.item.receive_currency+" "+parseFloat(t.item.receive_amount).toFixed(2)))]),a("td",[e._v(e._s(t.item.disburse_currency+" "+parseFloat(t.item.disburse_amount).toFixed(2)))]),a("td",[e._v(e._s(t.item.first_name)+" "+e._s(t.item.last_name))]),a("td",[e._v(e._s(t.item.created_by))]),a("td",{attrs:{id:"chip-usage-example"}},["canceled"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"pending"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"gray"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"declined"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                           declined\n                          ")]):e._e(),"complete"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"confirmed"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{pill:"",color:"gray"}},[a("v-icon",{attrs:{left:"",color:"blue"}},[e._v("person_pin")]),e._v("\n                            \n                           Teller\n                          ")],1):e._e(),"GM"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{pill:"",color:"gray"}},[a("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                            \n                             \n                           Manager\n                          ")],1):e._e(),"SP"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{color:"gray"}},[a("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                           Supervisor\n                          ")],1):e._e(),"TR"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{pill:"",color:"gray"}},[a("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                            Treasury\n                          ")],1):e._e()],1)])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1)],1)},Le=[],We=(a("6762"),a("2fdb"),{data:function(){return{allRates:[],totalFloat:[],expand:!1,show_start_date:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],paymentHeaders:[{text:"Tran Ref",value:"id"},{text:"Tran Date",value:"created_at"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received Amount $",value:"receive_amount"},{text:"Disbursed Amount $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"account"},{text:"Status",value:"status"}],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"date",rowsPerPage:15},selected:[],filteredRow:[],symbol:"",json_fields:{tran_id:"ID",created_by:"Date",tran_amount_total:"Total Amount",tran_amount:"Net Amount",tran_charge:"Tran Cost",tran_merchant:"Merchant",tran_account:"Account No",tran_provider:"Provider",transaction_type:"Method",status:"Status"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[]}},watch:{rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.getAllTransactions()},methods:{getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColBranch",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},refresh:function(){this.getAllTransactions()},exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}}),Ge=We,Ye=(a("cfa3"),a("cc20")),He=Object(d["a"])(Ge,Me,Le,!1,null,"917273d0",null),qe=He.exports;h()(He,{VCard:j["a"],VCardText:P["b"],VChip:Ye["a"],VDataTable:E["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VTextField:oe["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticStyle:{color:"grey"}},[e._v("Branch Administration")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogAddBranch,callback:function(t){e.dialogAddBranch=t},expression:"dialogAddBranch"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Branch Creation Form")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Branch Name",required:""},model:{value:e.companyFormData.branchname,callback:function(t){e.$set(e.companyFormData,"branchname",t)},expression:"companyFormData.branchname"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Address",type:"text",required:""},model:{value:e.companyFormData.address,callback:function(t){e.$set(e.companyFormData,"address",t)},expression:"companyFormData.address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.companyFormData.phone_number,callback:function(t){e.$set(e.companyFormData,"phone_number",t)},expression:"companyFormData.phone_number"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddBranch=!1}}},[e._v("Close")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.editCheck,expression:"!editCheck"}],staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddBranch}},[e._v("Save")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],staticClass:"white--text",attrs:{color:"green"},on:{click:e.EditBranch}},[e._v("Update")])],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddUserList,callback:function(t){e.dialogAddUserList=t},expression:"dialogAddUserList"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Click user to link")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.AddUser}},[e._v("Create New User")])],1),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}})],1)],1),a("v-data-table",{key:e.UserLinkDataNull.username,staticClass:"elevation-1",attrs:{headers:e.headersUsersSelecter,items:e.UserLinkDataNull,"must-sort":"",search:e.search2,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch(t.item.id)}}},[e._v("\n              "+e._s(t.item.username)+"\n            ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch(t.item.id)}}},[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch(t.item.id)}}},[e._v("\n              "+e._s(t.item.user_type)+"\n            ")])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n              Your search for "'+e._s(e.search)+'" found no results.\n            ')])]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogAddUser,callback:function(t){e.dialogAddUser=t},expression:"dialogAddUser"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Create New User Form")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:e.UserCreateData.first_name,callback:function(t){e.$set(e.UserCreateData,"first_name",t)},expression:"UserCreateData.first_name"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Last Name",type:"text",required:""},model:{value:e.UserCreateData.last_name,callback:function(t){e.$set(e.UserCreateData,"last_name",t)},expression:"UserCreateData.last_name"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Username",required:""},model:{value:e.UserCreateData.username,callback:function(t){e.$set(e.UserCreateData,"username",t)},expression:"UserCreateData.username"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Email",type:"text",required:""},model:{value:e.UserCreateData.email,callback:function(t){e.$set(e.UserCreateData,"email",t)},expression:"UserCreateData.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:e.userlevelData,label:"User Type","item-text":"user_type","item-value":"user_type_id"},model:{value:e.UserCreateData.user_type,callback:function(t){e.$set(e.UserCreateData,"user_type",t)},expression:"UserCreateData.user_type"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhoneUser},model:{value:e.UserCreateData.cell,callback:function(t){e.$set(e.UserCreateData,"cell",t)},expression:"UserCreateData.cell"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddUser=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddUserData}},[e._v("Save")])],1)],1),a("v-flex",{attrs:{xs12:"",md5:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card1",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Branch List")])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:function(t){e.dialogAddBranch=!0}}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Create Branch")])])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersCompany,items:e.companyData,search:e.search,"must-sort":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{on:{click:function(a){return e.getBranchByCompanyID(t.item)}}},[e._v("\n                "+e._s(t.item.branchname)+"\n              ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.getBranchByCompanyID(t.item)}}},[e._v("\n                "+e._s(t.item.address)+"\n              ")]),a("td",[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItemUser(t.item)}}},[e._v("\n                  edit\n                ")])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card3",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Users linked to branch : "+e._s(e.UserLinkFormData.branch_name))])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search1,callback:function(t){e.search1=t},expression:"search1"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Link User")])])],1),a("v-data-table",{key:e.UserLinkData.username,staticClass:"elevation-1",attrs:{headers:e.headersUsers,items:e.UserLinkData,search:e.search1,"must-sort":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.username))]),a("td",{staticClass:"text-xs-left"},[e._v("\n                "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n              ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.user_type))]),a("td",[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItemUser(t.item)}}},[e._v(" delete ")])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1)],1)],1)},Ke=[],Je={data:function(){var e;return e={nodeApi:"http://localhost:8081",userlevelData:[],phone:"",phoneData:"",counter:0,isActive:!0,isValidPhone:!1,dialogAddUser:!1,dialogUserEdit:!1,dialogAddCompany:!1,dialogAddUserList:!1,dialogAddBranch:!1,dialogLinkUser:!1},Object(C["a"])(e,"userlevelData",[]),Object(C["a"])(e,"UsersData",[]),Object(C["a"])(e,"statusData",[{status:"Active",id:1},{status:"Disabled",id:0}]),Object(C["a"])(e,"headersCompany",[{text:"Branch Name",align:"left",value:"branchname"},{text:"Address",align:"left",value:"address"},{text:"Actions",value:"action"}]),Object(C["a"])(e,"headersUsers",[{text:"ID",value:"id"},{text:"User Name",align:"left",value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"},{text:"Actions",value:"action"}]),Object(C["a"])(e,"headersUsersSelecter",[{text:"User Name",align:"left",value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"}]),Object(C["a"])(e,"search",""),Object(C["a"])(e,"search1",""),Object(C["a"])(e,"search2",""),Object(C["a"])(e,"editCheck",!1),Object(C["a"])(e,"editedIndexUser",-1),Object(C["a"])(e,"companyData",[]),Object(C["a"])(e,"companybranchData",[]),Object(C["a"])(e,"UserLinkData",[]),Object(C["a"])(e,"companyFormData",{id:0,branchname:"",address:"",phone_number:"",status:2,country:"",country_code:"",created_by:"",created_at:""}),Object(C["a"])(e,"ClearCompanyFormData",{id:0,branchname:"",address:"",phone_number:"",status:2,country:"",country_code:"",created_by:"",created_at:""}),Object(C["a"])(e,"UserLinkFormData",{id:0,user_id:0,status:2,branch_id:0,branch_name:"",created_by:""}),Object(C["a"])(e,"UserCreateData",{first_name:"",last_name:"",email:"",branch_id:2037,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"ClearUserCreateData",{first_name:"",last_name:"",email:"",branch_id:2037,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"UserLinkDataNull",[]),Object(C["a"])(e,"ClearBranchFormData",{id:0,name:"",status:2,company_id:0,created_by:"",created_at:""}),Object(C["a"])(e,"headers",{}),e},created:function(){},mounted:function(){this.initializeCompany(),this.counter+=1},watch:{phone:function(e){},counter:function(e){},dialogAddBranch:function(e){e||(this.companyFormData=this.ClearCompanyFormData,this.editCheck=!1)}},methods:{LinkUserToBranch:function(e){var t=this;this.dialogAddUserList=!1;var a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.put(this.nodeApi+"/updateUsersByCol2",{col:"branch_id",value:this.UserLinkFormData.branch_id,wcol:"id",wvalue:e},{headers:a}).subscribe((function(e){e.data.message.one?(t.getAllUsersByBranch(t.UserLinkFormData.branch_id),t.$swal.fire({type:"success",title:"User Link",text:"User Link was added successfully"})):t.$swal.fire({type:"error",title:"User Linking Failed",text:e.data.message})}),(function(e){t.$swal.fire("User Link Error",e,"error")}))},AddUser:function(){this.dialogAddUser=!0,this.getAllUserTypes()},AddUserData:function(){var e=this;if(this.UserCreateData.first_name)if(this.UserCreateData.last_name)if(this.UserCreateData.email)if(this.UserCreateData.cell)if(this.isValidPhone)if(this.validateEmail(this.UserCreateData.email))if(this.UserCreateData.user_type<1)this.$swal.fire("User Type Error","Please enter a user type.","error");else{var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.UserCreateData.created_by=this.$session.get("user").userdetails.id,A.a.post(this.nodeApi+"/createUser",this.UserCreateData,{headers:t}).subscribe((function(t){t.data.message.one?(e.UserCreateData=e.ClearUserCreateData,e.getAllNullUsersByBranch(),e.addUserFloat(t.data.message.one.recordset.insertId),e.dialogAddUser=!1,e.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})):e.$swal.fire({type:"error",title:"User Adding Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Phone Error","Please enter a telephone.","error");else this.$swal.fire("Add User Error","Please enter email","error");else this.$swal.fire("Add User Error","Please enter last name","error");else this.$swal.fire("Add User Error","Please enter first name","error")},addUserFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={branch_id:2037,user_id:t,amount:0,currency_id:2,handover_type:1,status:2,created_by:this.$session.get("user").userdetails.id},r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/addUserFloat2",a,{headers:r,timeout:5e3}).subscribe((function(e){e.data.data.one?(s.dialogloader=!1,s.$swal.fire({type:"success",title:"User Account Adding",text:"User account was added successfully"})):s.$swal.fire({type:"error",title:"User Account Adding",text:e.data.message})}),(function(e){s.dialogloader=!1,s.$swal.fire("User Account Adding Error","Failed to add user account, probably because the user already has this type of account","error")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),AddUsertoBranch:function(){},getBranchByCompanyID:function(e){this.UserLinkFormData.branch_id=e.id,this.UserLinkFormData.branch_name=e.branchname,this.getAllUsersByBranch(e.id)},AddBranch:function(){var e=this;if(this.companyFormData.branchname)if(this.companyFormData.address)if(this.companyFormData.phone_number)if(this.isValidPhone){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.companyFormData.created_by=this.$session.get("user").userdetails.id,A.a.post(this.nodeApi+"/addBranches",this.companyFormData,{headers:t}).subscribe((function(t){(t.data.data.one="Success")?(e.closeUser(),e.companyFormData=e.ClearCompanyFormData,e.initializeCompany(),e.dialogAddBranch=!1,e.$swal.fire({type:"success",title:"Branch Added",text:"Branch was added successfully"})):e.$swal.fire({type:"error",title:"Branch Adding Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Phone Error","Please enter a telephone.","error");else this.$swal.fire("Compnay address Error","Please enter a company address.","error");else this.$swal.fire("Compnay Name Error","Please enter a company name","error")},getTelePhone:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.companyFormData.country=t.country.name,this.companyFormData.country_code=t.country.iso2),t.isValid||(this.isActive=!0)},getTelePhoneUser:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid),t.isValid||(this.isActive=!0)},getAllCompanies:function(){var e=this;A.a.get(this.nodeApi+"/getAllCompanies").subscribe((function(t){e.companyData=t.data.recordset}),(function(e){return console.log(e)}))},getAllUsersByBranch:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUsersByCol",{col:"branch_id",value:e},{headers:a}).subscribe((function(e){t.UserLinkData=e.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllNullUsersByBranch:function(){var e=this;if(""!=this.UserLinkFormData.branch_name){this.dialogAddUserList=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUsersByCol",{col:"branch_id",value:0},{headers:t}).subscribe((function(t){e.UserLinkDataNull=t.data.data.one.recordset}),(function(e){return console.log(e)}))}else this.$swal.fire("User Link Error","Please select a branch to add a user.","error")},getBranchPerCompany:function(e){},getUsersPerBranch:function(e){},openEditUser:function(){this.dialogUserEdit=!0},getUserStatus:function(e){return 0==e?"Disabled":1==e?"Active":void 0},openAddNewUser:function(){this.dialogUser=!0,this.getAllUserTypes()},getAllUserTypes:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllUserTypes",{headers:t}).subscribe((function(t){e.userlevelData=t.data.data.one.recordset,console.log(t.data.recordset)}),(function(e){return console.log(e)}))},getUserType:function(e){return 1==e?"Branch Clerk":2==e?"Branch Supervisor":3==e?"Treasury Officer":4==e?"Transporter":5==e?"Treasury Manager":6==e?"System Admin":void 0},saveNewUser:function(){var e=this;if(this.editedUser.pass!=this.editedUser.confirm_pass)this.$swal.fire("Password Error","Password is different from the confirm password.","error");else if(this.editedUser.user_type)if(this.editedUser.username)if(this.editedUser.first_name&&this.editedUser.last_name)if(this.editedUser.email)if(this.editedUser.cell)if(this.validateEmail(this.editedUser.email))if(this.isValidPhone){var t=new Date;this.editedUser.created_by=this.$session.get("user").id,this.editedUser.created_at=t.toISOString(),A.a.post(this.nodeApi+"/addUser",this.editedUser).subscribe((function(t){t.data.rowsAffected&&(e.closeUser(),e.editedUser=e.ClearUser,e.initializeCompany(),e.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})),t.data.rowsAffected||e.$swal.fire({type:"error",title:"User Adding Failed",text:t.data.originalError.info.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Phone Error","Please enter a cell.","error");else this.$swal.fire("Email Error","Please enter an email.","error");else this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error");else this.$swal.fire("User Name Error","Please enter a User Name.","error");else this.$swal.fire("User type Error","Please select a user type.","error")},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},editItemUser:function(e){this.companyFormData=Object.assign({},e),this.editCheck=!0,this.dialogAddBranch=!0},deleteItemUser:function(e){var t=this;this.UsersData.indexOf(e);this.$swal.fire({title:"Remove User?",text:"Are you sure you want to remove user from branch this !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove!"}).then((function(a){if(a.value){var r={"Content-Type":"application/json",Authorization:"Bearer "+t.$session.get("user").token};A.a.put(t.nodeApi+"/updateUsersByCol",{col:"branch_id",value:0,wcol:"id",wvalue:e.id},{headers:r}).subscribe((function(e){e.data.data.one?(t.getAllUsersByBranch(t.UserLinkFormData.branch_id),t.$swal.fire({type:"success",title:"User Removal",text:"User removal was added successfully"})):t.$swal.fire({type:"error",title:"User Removal Failed",text:e.data.message})}),(function(e){t.$swal.fire("User Removal Error",e,"error")}))}}))},EditBranch:function(){var e=this;if(this.companyFormData.branchname)if(this.companyFormData.address)if(this.companyFormData.phone_number)if(this.isValidPhone){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.put(this.nodeApi+"/updateBranches/"+this.companyFormData.id,this.companyFormData,{headers:t}).subscribe((function(t){t.data.data.one&&(e.closeUser(),e.companyFormData=e.ClearCompanyFormData,e.initializeCompany(),e.$swal.fire({type:"success",title:"User Update",text:"User was updated successfully"})),t.data.data.one||e.$swal.fire({type:"error",title:"User Update Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Phone Error","Please enter a telephone.","error");else this.$swal.fire("Compnay address Error","Please enter a company address.","error");else this.$swal.fire("Compnay Name Error","Please enter a company name","error")},initializeCompany:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(t){e.companyData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},closeUser:function(){var e=this;this.editCheck=!1,this.dialogUser=!1,this.dialogAddBranch=!1,setTimeout((function(){e.editedUser=Object.assign({},e.defaultUser),e.editedIndexUser=-1}),300)}}},Qe=Je,Xe=(a("8b1d"),Object(d["a"])(Qe,Ze,Ke,!1,null,"cc837b84",null)),et=Xe.exports;h()(Xe,{VAlert:R["a"],VBtn:U["a"],VCard:j["a"],VCardTitle:O["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[3!=e.user_type&&4!=e.user_type&&5!=e.user_type&&6!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("tellertoteller-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("8775")}})])],1)],1)],1):e._e(),2!=e.user_type&&4!=e.user_type&&5!=e.user_type&&6!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("branchtobranch-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("d4e2")}})])],1)],1)],1):e._e(),2!=e.user_type&&4!=e.user_type&&5!=e.user_type&&6!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("branchtoteller-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("a5f4")}})])],1)],1)],1):e._e(),2!=e.user_type&&4!=e.user_type&&5!=e.user_type&&6!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("branchtotreasury-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("1d35")}})])],1)],1)],1):e._e(),2!=e.user_type&&3!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("refloat-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("4a8f")}})])],1)],1)],1):e._e(),2!=e.user_type&&3!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("branchtotellersuper-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("a5f4")}})])],1)],1)],1):e._e(),2!=e.user_type&&3!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("treasurytobranch-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("06d5")}})])],1)],1)],1):e._e(),2!=e.user_type&&3!=e.user_type?r("v-flex",{attrs:{xs6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("movementreport-page")}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("36f9")}})])],1)],1)],1):e._e()],1),r(e.page,{tag:"component"})],1)},at=[],rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Teller to Teller Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text hidden-sm-and-down",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.tellertotellerData.from_user_name)+"'s float is :\n      "+e._s(e.tellertotellerData.symbol)+"\n      "+e._s(parseFloat(e.tellertotellerData.from_amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),4!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),4==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n          "+e._s(t.item.iso_code)+"\n        ")]}}],null,!1,2108700240),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{items:e.userdata,"item-text":"first_name","item-value":"id",label:"Select To Teller"},on:{input:e.touserSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n          "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n        ")]}}],null,!1,3094756228),model:{value:e.selectedtouser,callback:function(t){e.selectedtouser=t},expression:"selectedtouser"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.tellertotellerData.amount,callback:function(t){e.$set(e.tellertotellerData,"amount",t)},expression:"tellertotellerData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Selecting Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("Selecting To Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("Inputting Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"4"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}})],1)],1),4==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n          "+e._s(e.tellertotellerData.from_user_name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n          "+e._s(e.selectedtouser.first_name)+" "+e._s(e.selectedtouser.last_name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n          "+e._s(parseFloat(e.tellertotellerData.amount).toFixed(2))+"\n        ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n        Please stand by\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},st=[],nt={data:function(){return{e1:0,dialogloader:!1,nodeApi:"http://localhost:8081",image:"/img/",selected:"",selectedcurrency:"",selectedfromuser:"",selectedtouser:"",usercheck:!0,userdata:[],userdata1:[],tellertotellerDataClear:{amount:0,to_user_id:null,from_user_name:null,symbol:null,from_amount:0,from_user_id:null,currency_id:null,handover_type:5,created_by:0},tellertotellerData:{amount:0,to_user_id:null,from_amount:0,from_user_name:null,symbol:null,from_user_id:null,currency_id:null,handover_type:5,created_by:0},currencies:[]}},watch:{e1:function(e){},selectedcurrency:function(e){},selectedfromuser:function(e){}},mounted:function(){this.e1=0,this.tellertotellerData.from_user_id=this.$session.get("user").userdetails.id,this.tellertotellerData.from_user_name=this.$session.get("user").userdetails.first_name,this.getActiveCurrencies()},methods:{currencySelected:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.userdata=[],this.selectedtouser="",this.tellertotellerData.currency_id=this.selectedcurrency.id,this.tellertotellerData.created_by=this.$session.get("user").userdetails.id,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=7,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"currency_id",value:this.selectedcurrency.id,col2:"user_id",value2:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){a.userdata1=e.data.data.one.recordset,a.tellertotellerData.symbol=a.userdata1[0].symbol,a.tellertotellerData.from_amount=a.userdata1[0].amount}),(function(e){return console.log(e)}));case 7:this.getUserFloatbyCurrency();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fromuserSelected:function(){},touserSelected:function(){this.tellertotellerData.to_user_id=this.selectedtouser.user_id},getUserFloatbyCurrency:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getUserFloatByCol3",{col:"branch_id",value:this.$session.get("user").userdetails.branch_id,col2:"currency_id",value2:this.tellertotellerData.currency_id,col3:"user_id",value3:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){a.userdata=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),transferFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tellertotellerData.currency_id){e.next=4;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"}),e.next=32;break;case 4:if(this.tellertotellerData.from_user_id){e.next=8;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfering user float amount"}),e.next=32;break;case 8:if(this.tellertotellerData.to_user_id){e.next=12;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"}),e.next=32;break;case 12:if(this.tellertotellerData.amount){e.next=16;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"}),e.next=32;break;case 16:if(!(this.tellertotellerData.amount<=0)){e.next=20;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"}),e.next=32;break;case 20:if(this.tellertotellerData.to_user_id!=this.tellertotellerData.from_user_id){e.next=24;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"You can not transfer float to the same person"}),e.next=32;break;case 24:if(!(this.tellertotellerData.from_amount>this.selectedfromuser.amount)){e.next=28;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"}),e.next=32;break;case 28:return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=32,A.a.post(this.nodeApi+"/updateTellerToTellerFloat",this.tellertotellerData,{headers:t}).subscribe((function(e){e.data.data.one.recordset?(a.dialogloader=!1,a.tellertotellerData=a.tellertotellerDataClear,a.e1=1,a.selectedcurrency="",a.selectedfromuser="",a.selectedtouser="",a.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):a.$swal.fire({type:"error",title:"Transfer Failed",text:e.data.message})}),(function(e){return console.log(e)}));case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),nextstep:function(){this.e1<5&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},it=nt,ot=Object(d["a"])(it,rt,st,!1,null,"14f67247",null),lt=ot.exports;h()(ot,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"blue darken-4"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Teller to Teller Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text hidden-sm-and-down",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.selectedfromuser.first_name)+"'s float is : "+e._s(e.selectedfromuser.symbol)+" "+e._s(parseFloat(e.selectedfromuser.amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),5!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),5==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n          "+e._s(t.item.iso_code)+"\n          ")]}}],null,!1,2292584752),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{disabled:e.usercheck,items:e.userdata1,"item-text":"first_name","item-value":"id",label:"Select From Teller"},on:{input:e.fromuserSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n            \n         "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n          \n          ")]}}],null,!1,717207172),model:{value:e.selectedfromuser,callback:function(t){e.selectedfromuser=t},expression:"selectedfromuser"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-combobox",{attrs:{items:e.userdata,"item-text":"first_name","item-value":"id",label:"Select To Teller"},on:{input:e.touserSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n            \n          "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n          \n          ")]}}],null,!1,277594308),model:{value:e.selectedtouser,callback:function(t){e.selectedtouser=t},expression:"selectedtouser"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[4==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.tellertotellerData.amount,callback:function(t){e.$set(e.tellertotellerData,"amount",t)},expression:"tellertotellerData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("From Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("To Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>4,step:"4"}},[e._v("Input Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"5"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}}),a("v-stepper-content",{attrs:{step:"5"}})],1)],1),5==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n                        "+e._s(e.selectedfromuser.first_name)+"  "+e._s(e.selectedfromuser.last_name)+"\n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n                       "+e._s(e.selectedtouser.first_name)+"  "+e._s(e.selectedtouser.last_name)+"\n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n                        "+e._s(parseFloat(e.tellertotellerData.amount).toFixed(2))+"  \n                      ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n                            Please stand by\n                            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},dt=[],ut={data:function(){return{e1:0,dialogloader:!1,nodeApi:"http://localhost:8081",image:"/img/",selected:"",selectedcurrency:"",selectedfromuser:"",selectedtouser:"",usercheck:!0,userdata:[],userdata1:[],tellertotellerDataClear:{amount:0,to_user_id:null,from_user_id:null,currency_id:null,handover_type:5,created_by:0},tellertotellerData:{amount:0,to_user_id:null,from_user_id:null,currency_id:null,handover_type:5,created_by:0},currencies:[]}},watch:{e1:function(e){},selectedcurrency:function(e){},selectedfromuser:function(e){}},mounted:function(){this.e1=0,2==this.$session.get("user").userdetails.user_type?this.usercheck=!0:this.usercheck=!1,this.getActiveCurrencies()},methods:{currencySelected:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tellertotellerData.currency_id=this.selectedcurrency.id,this.tellertotellerData.created_by=this.$session.get("user").userdetails.id,t=this.tellertotellerData.created_by,this.tellertotellerData.currency_id,2!=this.$session.get("user").userdetails.user_type){e.next=12;break}return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=8,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"currency_id",value:this.tellertotellerData.currency_id,col2:"user_id",value2:t},{headers:a}).subscribe((function(e){r.userdata1=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 8:this.e1=3,console.log(this.userdata1),e.next=13;break;case 12:this.getUserFloatbyCurrency1();case 13:this.getUserFloatbyCurrency();case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fromuserSelected:function(){this.tellertotellerData.from_user_id=this.selectedfromuser.user_id},touserSelected:function(){this.tellertotellerData.to_user_id=this.selectedtouser.user_id},getUserFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUserFloatByCol2",{col:"currency_id",value:this.tellertotellerData.currency_id},{headers:t}).subscribe((function(t){e.userdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getUserFloatbyCurrency1:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUserFloatByCol2",{col:"currency_id",value:this.tellertotellerData.currency_id},{headers:t}).subscribe((function(t){e.userdata1=t.data.data.one.recordset}),(function(e){return console.log(e)}))},transferFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tellertotellerData.currency_id){e.next=4;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"}),e.next=32;break;case 4:if(this.tellertotellerData.from_user_id){e.next=8;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfering user float amount"}),e.next=32;break;case 8:if(this.tellertotellerData.to_user_id){e.next=12;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"}),e.next=32;break;case 12:if(this.tellertotellerData.amount){e.next=16;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"}),e.next=32;break;case 16:if(!(this.tellertotellerData.amount<=0)){e.next=20;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"}),e.next=32;break;case 20:if(this.tellertotellerData.to_user_id!=this.tellertotellerData.from_user_id){e.next=24;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"You can not transfer float to the same person"}),e.next=32;break;case 24:if(!(this.tellertotellerData.amount>this.selectedfromuser.amount)){e.next=28;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"}),e.next=32;break;case 28:return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=32,A.a.post(this.nodeApi+"/updateTellerToTellerFloat",this.tellertotellerData,{headers:t}).subscribe((function(e){e.data.data.one.recordset?(a.dialogloader=!1,a.tellertotellerData=a.tellertotellerDataClear,a.e1=1,a.selectedcurrency="",a.selectedfromuser="",a.selectedtouser="",a.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):a.$swal.fire({type:"error",title:"Transfer Failed",text:e.data.message})}),(function(e){return console.log(e)}));case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),nextstep:function(){this.e1<5&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},ht=ut,pt=Object(d["a"])(ht,ct,dt,!1,null,"0655efa8",null),mt=pt.exports;h()(pt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Branch to Teller Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.branchtotellerData.branch_name)+" branch float is :\n      "+e._s(e.branchtotellerData.iso_code)+"\n      "+e._s(parseFloat(e.branchtotellerData.branch_float).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),4!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),4==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n          "+e._s(t.item.iso_code)+"\n        ")]}}],null,!1,2108700240),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{items:e.userdata,"item-text":"first_name","item-value":"id",label:"Select To Teller"},on:{input:e.touserSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n          "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n        ")]}}],null,!1,3094756228),model:{value:e.selectedtouser,callback:function(t){e.selectedtouser=t},expression:"selectedtouser"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.branchtotellerData.amount,callback:function(t){e.$set(e.branchtotellerData,"amount",t)},expression:"branchtotellerData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Selecting Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("Selecting To Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("Inputting Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"4"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}})],1)],1),4==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n          "+e._s(e.branchtotellerData.branch_name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n          "+e._s(e.selectedtouser.first_name)+" "+e._s(e.selectedtouser.last_name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n          "+e._s(parseFloat(e.branchtotellerData.amount).toFixed(2))+"\n        ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n        Please stand by\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},gt=[],vt={data:function(){return{e1:0,nodeApi:"http://localhost:8081",image:"/img/",selected:"",dialogloader:!1,selectedcurrency:"",selectedfrombranch:"",selectedtouser:"",userdata:[],branchdata:[],branchtotellerDataClear:{amount:0,branch_id:null,branch_name:null,branch_float:0,user_id:null,currency_id:null,handover_type:3,created_by:0},branchtotellerData:{amount:0,branch_id:null,branch_name:null,branch_float:0,user_id:null,currency_id:null,handover_type:3,created_by:0},currencies:[]}},watch:{e1:function(e){}},mounted:function(){this.e1=0,this.getActiveCurrencies()},methods:{currencySelected:function(){this.branchtotellerData.currency_id=this.selectedcurrency.id,this.branchtotellerData.created_by=this.$session.get("user").userdetails.id,this.branchtotellerData.branch_id=this.$session.get("user").userdetails.branch_id,this.getBranchFloatbyCurrency(),this.getUserFloatbyCurrency()},frombranchSelected:function(){this.branchtotellerData.branch_id=this.selectedfrombranch.branch_id,this.getUserFloatbyCurrency()},touserSelected:function(){this.branchtotellerData.user_id=this.selectedtouser.user_id},getUserFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUserFloatByCol4",{col:"currency_id",value:this.branchtotellerData.currency_id,col2:"branch_id",value2:this.branchtotellerData.branch_id},{headers:t}).subscribe((function(t){e.userdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getBranchFloatbyCurrency:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchFloatByCol2",{value:this.$session.get("user").userdetails.branch_id,value1:this.branchtotellerData.currency_id},{headers:t}).subscribe((function(e){a.branchdata=e.data.data.one.recordset,a.branchtotellerData.branch_name=a.branchdata[0].name,a.branchtotellerData.branch_float=a.branchdata[0].amount}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),transferFloat:function(){var e=this;if(this.branchtotellerData.currency_id)if(this.branchtotellerData.user_id)if(this.branchtotellerData.branch_id)if(this.branchtotellerData.amount)if(this.branchtotellerData.amount<=0)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"});else if(this.branchtotellerData.amount>this.branchtotellerData.branch_float)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"});else{this.dialogloader=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/updateBranchToTellerFloat",this.branchtotellerData,{headers:t}).subscribe((function(t){t.data.data.one.recordset?(e.selectedcurrency="",e.selectedfrombranch="",e.selectedtouser="",e.dialogloader=!1,e.branchtotellerData=e.branchtotellerDataClear,e.e1=1,e.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):e.$swal.fire({type:"error",title:"Transfer Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfering user float amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"})},nextstep:function(){this.e1<5&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},_t=vt,bt=Object(d["a"])(_t,ft,gt,!1,null,"360521f0",null),yt=bt.exports;h()(bt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Branch to Teller Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.selectedfrombranch.name)+" branch float is : "+e._s(e.selectedfrombranch.iso_code)+" "+e._s(parseFloat(e.selectedfrombranch.amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),4!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),4==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n          "+e._s(t.item.iso_code)+"\n          ")]}}],null,!1,2292584752),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{items:e.branchdata,"item-text":"name","item-value":"id",label:"Select From Branch"},on:{input:e.frombranchSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n            \n         "+e._s(t.item.name)+" "+e._s(t.item.address)+"\n          \n          ")]}}],null,!1,1171593285),model:{value:e.selectedfrombranch,callback:function(t){e.selectedfrombranch=t},expression:"selectedfrombranch"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-combobox",{attrs:{items:e.userdata,"item-text":"first_name","item-value":"id",label:"Select To Teller"},on:{input:e.touserSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n            \n          "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n          \n          ")]}}],null,!1,277594308),model:{value:e.selectedtouser,callback:function(t){e.selectedtouser=t},expression:"selectedtouser"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[4==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.branchtotellerData.amount,callback:function(t){e.$set(e.branchtotellerData,"amount",t)},expression:"branchtotellerData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Selecting Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("Selecting From Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("Selecting To Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>4,step:"4"}},[e._v("Inputting Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"5"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}})],1)],1),4==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n                       "+e._s(e.selectedfrombranch.name)+" \n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n                         "+e._s(e.selectedtouser.first_name)+"  "+e._s(e.selectedtouser.last_name)+"\n                       \n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n                        "+e._s(parseFloat(e.branchtotellerData.amount).toFixed(2))+"  \n                      ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n                            Please stand by\n                            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},wt=[],Ct={data:function(){return{e1:0,nodeApi:"http://localhost:8081",image:"/img/",selected:"",dialogloader:!1,selectedcurrency:"",selectedfrombranch:"",selectedtouser:"",userdata:[],branchdata:[],branchtotellerDataClear:{amount:0,branch_id:null,user_id:null,currency_id:null,handover_type:5,created_by:0},branchtotellerData:{amount:0,branch_id:null,user_id:null,currency_id:null,handover_type:3,created_by:0},currencies:[]}},watch:{e1:function(e){}},mounted:function(){this.e1=0,this.getActiveCurrencies()},methods:{currencySelected:function(){this.branchtotellerData.currency_id=this.selectedcurrency.id,this.branchtotellerData.created_by=this.$session.get("user").userdetails.id,this.getBranchFloatbyCurrency()},frombranchSelected:function(){this.branchtotellerData.branch_id=this.selectedfrombranch.branch_id,this.getUserFloatbyCurrency()},touserSelected:function(){this.branchtotellerData.user_id=this.selectedtouser.user_id},getUserFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUserFloatByCol4",{col:"currency_id",value:this.branchtotellerData.currency_id,col2:"branch_id",value2:this.branchtotellerData.branch_id},{headers:t}).subscribe((function(t){e.userdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getBranchFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"currency_id",value:this.branchtotellerData.currency_id},{headers:t}).subscribe((function(t){e.branchdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},transferFloat:function(){var e=this;if(this.branchtotellerData.currency_id)if(this.branchtotellerData.user_id)if(this.branchtotellerData.branch_id)if(this.branchtotellerData.amount)if(this.branchtotellerData.amount<=0)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"});else if(this.branchtotellerData.amount>this.selectedfrombranch.amount)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"});else{var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/updateTreasuryToTellerFloat",this.branchtotellerData,{headers:t}).subscribe((function(t){t.data.data.one.recordset?(e.selectedcurrency="",e.selectedfrombranch="",e.selectedtouser="",e.dialogloader=!1,e.branchtotellerData=e.branchtotellerDataClear,e.e1=1,e.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):e.$swal.fire({type:"error",title:"Transfer Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfering user float amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"})},nextstep:function(){this.e1<5&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},kt=Ct,Tt=Object(d["a"])(kt,xt,wt,!1,null,"61f0fc59",null),At=Tt.exports;h()(Tt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"blue darken-4"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Teller to Branch Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text hidden-sm-and-down",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.tellertotellerData.from_user_name)+"'s float is : "+e._s(e.tellertotellerData.symbol)+" "+e._s(parseFloat(e.tellertotellerData.from_amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),3!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),3==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n          "+e._s(t.item.iso_code)+"\n          ")]}}],null,!1,2292584752),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.tellertotellerData.amount,callback:function(t){e.$set(e.tellertotellerData,"amount",t)},expression:"tellertotellerData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Selecting Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("Inputting Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"3"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}})],1)],1),3==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n                        "+e._s(e.tellertotellerData.from_user_name)+"  \n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n                       "+e._s(e.branchname)+"  \n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n                        "+e._s(parseFloat(e.tellertotellerData.amount).toFixed(2))+"  \n                      ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n                            Please stand by\n                            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},St=[],Bt={data:function(){return{e1:0,dialogloader:!1,nodeApi:"http://localhost:8081",image:"/img/",selected:"",selectedcurrency:"",selectedfromuser:"",selectedtouser:"",usercheck:!0,branchname:"",userdata:[],userdata1:[],tellertotellerDataClear:{amount:0,to_user_id:null,branch_id:null,from_amount:0,to_branch:null,from_user_name:null,symbol:null,user_id:null,from_user_id:null,currency_id:null,handover_type:4,created_by:0},tellertotellerData:{amount:0,to_user_id:null,branch_id:null,from_amount:0,to_branch:null,from_user_name:null,symbol:null,user_id:null,from_user_id:null,currency_id:null,handover_type:4,created_by:0},currencies:[]}},watch:{e1:function(e){},selectedcurrency:function(e){},selectedfromuser:function(e){}},mounted:function(){this.e1=0,this.branchname=this.$session.get("user").userdetails.branch_name,this.tellertotellerData.from_user_id=this.$session.get("user").userdetails.id,this.tellertotellerData.user_id=this.$session.get("user").userdetails.id,this.tellertotellerData.from_user_name=this.$session.get("user").userdetails.first_name,this.getActiveCurrencies()},methods:{currencySelected:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.userdata=[],this.selectedtouser="",this.tellertotellerData.currency_id=this.selectedcurrency.id,this.tellertotellerData.created_by=this.$session.get("user").userdetails.id,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=7,A.a.post(this.nodeApi+"/getUserFloatByCol",{col:"currency_id",value:this.selectedcurrency.id,col2:"user_id",value2:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){a.userdata1=e.data.data.one.recordset,a.tellertotellerData.symbol=a.userdata1[0].symbol,a.tellertotellerData.from_amount=a.userdata1[0].amount,a.tellertotellerData.to_branch=a.userdata1[0].branch_name,a.tellertotellerData.branch_id=a.$session.get("user").userdetails.branch_id}),(function(e){return console.log(e)}));case 7:this.getUserFloatbyCurrency();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fromuserSelected:function(){},touserSelected:function(){this.tellertotellerData.to_user_id=this.selectedtouser.user_id},getUserFloatbyCurrency:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getUserFloatByCol3",{col:"branch_id",value:this.$session.get("user").userdetails.branch_id,col2:"currency_id",value2:this.tellertotellerData.currency_id,col3:"user_id",value3:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){a.userdata=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),transferFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tellertotellerData.to_branch=this.tellertotellerData.branch_id,this.tellertotellerData.currency_id){e.next=5;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"}),e.next=33;break;case 5:if(this.tellertotellerData.from_user_id){e.next=9;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfering user float amount"}),e.next=33;break;case 9:if(this.tellertotellerData.branch_id){e.next=13;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"}),e.next=33;break;case 13:if(this.tellertotellerData.amount){e.next=17;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"}),e.next=33;break;case 17:if(!(this.tellertotellerData.amount<=0)){e.next=21;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"}),e.next=33;break;case 21:if(this.tellertotellerData.to_user_id!=this.tellertotellerData.from_user_id){e.next=25;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"You can not transfer float to the same person"}),e.next=33;break;case 25:if(!(this.tellertotellerData.amount>this.tellertotellerData.from_amount)){e.next=29;break}this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"}),e.next=33;break;case 29:return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=33,A.a.post(this.nodeApi+"/updateTellerToBranchFloat",this.tellertotellerData,{headers:t}).subscribe((function(e){e.data.data.one.recordset?(a.dialogloader=!1,a.tellertotellerData=a.tellertotellerDataClear,a.e1=1,a.selectedcurrency="",a.selectedfromuser="",a.selectedtouser="",a.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):a.$swal.fire({type:"error",title:"Transfer Failed",text:e.data.message})}),(function(e){return console.log(e)}));case 33:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),nextstep:function(){this.e1<5&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},Ft=Bt,Rt=Object(d["a"])(Ft,Dt,St,!1,null,"30b0a419",null),$t=Rt.exports;h()(Rt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var Ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Branch to Treasury Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.selectedfrombranch.name)+" branch float is : "+e._s(e.selectedfrombranch.symbol)+" "+e._s(parseFloat(e.selectedfrombranch.amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),4!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),4==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n          "+e._s(t.item.iso_code)+"\n          ")]}}],null,!1,2292584752),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{items:e.branchdata,"item-text":"name","item-value":"id",label:"Select From Branch"},on:{input:e.frombranchSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n            \n         "+e._s(t.item.name)+" \n          \n          ")]}}],null,!1,3555251931),model:{value:e.selectedfrombranch,callback:function(t){e.selectedfrombranch=t},expression:"selectedfrombranch"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.branchtotreasuryData.amount,callback:function(t){e.$set(e.branchtotreasuryData,"amount",t)},expression:"branchtotreasuryData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Selecting Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("Selecting To Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("Inputting Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"4"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}})],1)],1),4==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n                       "+e._s(e.selectedfrombranch.name)+" \n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n                         Treasury Department\n                       \n                      ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n                        "+e._s(parseFloat(e.branchtotreasuryData.amount).toFixed(2))+"  \n                      ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n                            Please stand by\n                            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},jt=[],Pt={data:function(){return{e1:0,dialogloader:!1,nodeApi:"http://localhost:8081",image:"/img/",selected:"",selectedcurrency:"",selectedfrombranch:"",selectedtotreasury:"",userdata:[],branchdata:[],branchtotreasuryDataClear:{amount:0,branch_id:null,user_id:null,currency_id:null,handover_type:2,created_by:0},branchtotreasuryData:{amount:0,branch_id:null,user_id:null,currency_id:null,handover_type:2,created_by:0},currencies:[]}},watch:{e1:function(e){}},mounted:function(){this.e1=0,this.getActiveCurrencies()},methods:{currencySelected:function(){this.branchtotreasuryData.currency_id=this.selectedcurrency.id,this.branchtotreasuryData.created_by=this.$session.get("user").userdetails.id,this.getBranchFloatbyCurrency()},frombranchSelected:function(){this.branchtotreasuryData.branch_id=this.selectedfrombranch.branch_id},getBranchFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"currency_id",value:this.branchtotreasuryData.currency_id},{headers:t}).subscribe((function(t){e.branchdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},transferFloat:function(){var e=this;if(this.branchtotreasuryData.currency_id)if(this.branchtotreasuryData.branch_id)if(this.branchtotreasuryData.amount)if(this.branchtotreasuryData.amount<=0)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"});else if(this.branchtotreasuryData.amount>this.selectedfrombranch.amount)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"});else{this.dialogloader=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/updateBranchToTreasuryFloat",this.branchtotreasuryData,{headers:t}).subscribe((function(t){t.data.data.one.recordset?(e.selectedcurrency="",e.selectedfrombranch="",e.selectedtotreasury="",e.dialogloader=!1,e.branchtotreasuryData=e.branchtotreasuryDataClear,e.e1=1,e.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):e.$swal.fire({type:"error",title:"Transfer Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"})},nextstep:function(){this.e1<4&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},Ot=Pt,Nt=Object(d["a"])(Ot,Ut,jt,!1,null,"3544dd15",null),It=Nt.exports;h()(Nt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Branch to Branch Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.selectedfrombranch.name)+" branch float is :\n      "+e._s(e.selectedfrombranch.iso_code)+"\n      "+e._s(parseFloat(e.selectedfrombranch.amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),5!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),5==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n          "+e._s(t.item.iso_code)+"\n        ")]}}],null,!1,2108700240),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{items:e.branchdata,"item-text":"name","item-value":"id",label:"Select From Branch"},on:{input:e.frombranchSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n          "+e._s(t.item.name)+" "+e._s(t.item.address)+"\n        ")]}}],null,!1,1773783973),model:{value:e.selectedfrombranch,callback:function(t){e.selectedfrombranch=t},expression:"selectedfrombranch"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-combobox",{attrs:{items:e.branchdata,"item-text":"name","item-value":"id",label:"Select To Branch"},on:{input:e.tobranchSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n          "+e._s(t.item.name)+"\n        ")]}}],null,!1,1206902715),model:{value:e.selectedtobranch,callback:function(t){e.selectedtobranch=t},expression:"selectedtobranch"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[4==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.branchtobranchData.amount,callback:function(t){e.$set(e.branchtobranchData,"amount",t)},expression:"branchtobranchData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("From Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("To Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>4,step:"4"}},[e._v("Input Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"5"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}}),a("v-stepper-content",{attrs:{step:"5"}})],1)],1),5==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n          "+e._s(e.selectedfrombranch.name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n          "+e._s(e.selectedtobranch.name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n          "+e._s(parseFloat(e.branchtobranchData.amount).toFixed(2))+"\n        ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n        Please stand by\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},Vt=[],zt={data:function(){return{e1:0,dialogloader:!1,nodeApi:"http://localhost:8081",image:"/img/",selected:"",selectedcurrency:"",selectedfrombranch:"",selectedtobranch:"",branchdata:[],branchtobranchDataClear:{amount:0,to_branch_id:null,from_branch_id:null,currency_id:null,handover_type:6,created_by:0},branchtobranchData:{amount:0,to_branch_id:null,from_branch_id:null,currency_id:null,handover_type:6,created_by:0},currencies:[]}},watch:{e1:function(e){}},mounted:function(){this.e1=0,this.getActiveCurrencies()},methods:{currencySelected:function(){this.branchtobranchData.currency_id=this.selectedcurrency.id,this.branchtobranchData.created_by=this.$session.get("user").userdetails.id,this.getBranchFloatbyCurrency()},frombranchSelected:function(){this.branchtobranchData.from_branch_id=this.selectedfrombranch.branch_id},tobranchSelected:function(){this.branchtobranchData.to_branch_id=this.selectedtobranch.branch_id},getBranchFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"currency_id",value:this.branchtobranchData.currency_id},{headers:t}).subscribe((function(t){e.branchdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},transferFloat:function(){var e=this;if(this.branchtobranchData.currency_id)if(this.branchtobranchData.from_branch_id)if(this.branchtobranchData.to_branch_id)if(this.branchtobranchData.amount)if(this.branchtobranchData.amount<=0)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"});else if(this.branchtobranchData.amount>this.selectedfrombranch.amount)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"});else if(this.branchtobranchData.to_branch_id==this.branchtobranchData.from_branch_id)this.$swal.fire({type:"error",title:"Transfer Failed",text:"You can not transfer float to the same branch"});else{this.dialogloader=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/updateBranchToBranchFloat",this.branchtobranchData,{headers:t}).subscribe((function(t){t.data.data.one.recordset?(e.dialogloader=!1,e.selectedcurrency="",e.selectedfrombranch="",e.selectedtobranch="",e.branchtobranchData=e.branchtobranchDataClear,e.e1=1,e.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):e.$swal.fire({type:"error",title:"Transfer Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfering user float amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"})},nextstep:function(){this.e1<5&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},Mt=zt,Lt=Object(d["a"])(Mt,Et,Vt,!1,null,"4f8dcdd0",null),Wt=Lt.exports;h()(Lt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Treasury To Branch Float Movement")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("span",{staticClass:"white--text",staticStyle:{"font-size":"20px"}},[e._v("Treasury float is : "+e._s(e.symbol)+" "+e._s(parseFloat(e.amount).toFixed(2)))]),a("v-spacer"),a("v-btn",{attrs:{color:"error"},on:{click:e.backstep}},[e._v("Back")]),4!=e.e1?a("v-btn",{attrs:{color:"primary"},on:{click:e.nextstep}},[e._v("Next")]):e._e(),4==e.e1?a("v-btn",{attrs:{color:"success"},on:{click:e.transferFloat}},[e._v("Transfer")]):e._e()],1),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{md3:""}},[1==e.e1?a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},on:{input:e.currencySelected},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n          "+e._s(t.item.iso_code)+"\n        ")]}}],null,!1,2108700240),model:{value:e.selectedcurrency,callback:function(t){e.selectedcurrency=t},expression:"selectedcurrency"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[2==e.e1?a("v-combobox",{attrs:{items:e.branchdata,"item-text":"name","item-value":"id",label:"Select To Branch"},on:{input:e.frombranchSelected},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n          "+e._s(t.item.name)+"\n        ")]}}],null,!1,1206902715),model:{value:e.selectedtobranch,callback:function(t){e.selectedtobranch=t},expression:"selectedtobranch"}}):e._e()],1),a("v-flex",{attrs:{md3:""}},[3==e.e1?a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"prepend-icon":"monetization_on",label:"Transfer Amount","single-line":"","hide-details":"",type:"number"},model:{value:e.treasurytobranchData.amount,callback:function(t){e.$set(e.treasurytobranchData,"amount",t)},expression:"treasurytobranchData.amount"}}):e._e()],1)],1),a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Selecting Movement Currency")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>2,step:"2"}},[e._v("Selecting From Float Data")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",complete:e.e1>3,step:"3"}},[e._v("Inputting Transfer Amount")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"4"}},[e._v("Confirming Transfer")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}}),a("v-stepper-content",{attrs:{step:"2"}}),a("v-stepper-content",{attrs:{step:"3"}}),a("v-stepper-content",{attrs:{step:"4"}})],1)],1),4==e.e1?a("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"60px",padding:"5px"},attrs:{src:e.image+e.selectedcurrency.image}})])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving From")]),e._v("\n          Treasury Department\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text"},[a("div",{staticClass:"headline mb-2"},[e._v("Moving To")]),e._v("\n\n          "+e._s(e.selectedtobranch.name)+"\n        ")])],1)],1),a("v-flex",{attrs:{md3:"","pa-5":""}},[a("v-card",{attrs:{color:"#385F73",dark:"",hover:"",height:"140px"}},[a("v-card-text",{staticClass:"white--text justify-center"},[a("div",{staticClass:"headline mb-2"},[e._v("Float Amount")]),e._v("\n          "+e._s(parseFloat(e.treasurytobranchData.amount).toFixed(2))+"\n        ")])],1)],1)],1):e._e(),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n        Please stand by\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},Yt=[],Ht={data:function(){return{e1:0,nodeApi:"http://localhost:8081",image:"/img/",selected:"",symbol:"",amount:null,selectedcurrency:"",dialogloader:!1,selectedtobranch:"",treasurydata:[],selectedtotreasury:"",userdata:[],branchdata:[],treasurytobranchDataClear:{amount:0,branch_id:null,user_id:null,currency_id:null,handover_type:1,created_by:0},treasurytobranchData:{amount:0,branch_id:null,user_id:null,currency_id:null,handover_type:1,created_by:0},currencies:[]}},watch:{e1:function(e){}},mounted:function(){this.e1=0,this.getActiveCurrencies()},methods:{currencySelected:function(){this.treasurytobranchData.currency_id=this.selectedcurrency.id,this.treasurytobranchData.created_by=this.$session.get("user").userdetails.id,this.getTreasuryFloatbyCurrency(),this.getBranchFloatbyCurrency()},frombranchSelected:function(){this.treasurytobranchData.branch_id=this.selectedtobranch.branch_id},getBranchFloatbyCurrency:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"currency_id",value:this.treasurytobranchData.currency_id},{headers:t}).subscribe((function(t){e.branchdata=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getTreasuryFloatbyCurrency:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTreasuryFloatByCol",{col:"currency_id",value:this.treasurytobranchData.currency_id},{headers:t}).subscribe((function(e){a.treasurydata=e.data.data.one.recordset,a.amount=a.treasurydata[0].amount,a.symbol=a.treasurydata[0].symbol}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),transferFloat:function(){var e=this;if(this.treasurytobranchData.currency_id)if(this.treasurytobranchData.branch_id)if(this.treasurytobranchData.amount)if(this.treasurytobranchData.amount<=0)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount greater than 0"});else if(this.treasurytobranchData.amount>this.amount)this.$swal.fire({type:"error",title:"Transfer Failed",text:"Amount more than disbursement account"});else{this.dialogloader=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/updateTreasuryToBranchFloat",this.treasurytobranchData,{headers:t}).subscribe((function(t){t.data.data.one.recordset?(e.dialogloader=!1,e.treasurytobranchData=e.treasurytobranchDataClear,e.selectedcurrency="",e.symbol="",e.amount=null,e.selectedtobranch="",e.selectedtotreasury="",e.e1=1,e.$swal.fire({type:"success",title:"Transfer Successful",text:"Your transfer was updated successfully"})):e.$swal.fire({type:"error",title:"Transfer Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a transfer amount"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a receiving user float account"});else this.$swal.fire({type:"error",title:"Transfer Failed",text:"Please enter a currency"})},nextstep:function(){this.e1<4&&(this.e1=parseInt(this.e1)+1)},backstep:function(){this.e1>1&&(this.e1-=1)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))}}},qt=Ht,Zt=Object(d["a"])(qt,Gt,Yt,!1,null,"c02b3504",null),Kt=Zt.exports;h()(Zt,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCombobox:I["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var Jt,Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("h2",{staticStyle:{"margin-top":"10px"}},[e._v("Float Account Administration ")])]),a("v-tabs",{attrs:{color:"blue lighten-4","slider-color":"red"}},[a("v-tab",[e._v("\n        User Floats\n      ")]),a("v-tab-item",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md5:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card1",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Users List")])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.openAddNewUser}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Create Users")])])],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Personal Information")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"2"}},[e._v("System User Configuration")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedUser.first_name,callback:function(t){e.$set(e.editedUser,"first_name",t)},expression:"editedUser.first_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"Email Address"},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}})],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v("\n                          Continue\n                        ")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"User Name"},model:{value:e.editedUser.username,callback:function(t){e.$set(e.editedUser,"username",t)},expression:"editedUser.username"}})],1),a("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[a("v-select",{attrs:{label:"User Type","item-text":"name","item-value":"id",items:e.userlevelData},model:{value:e.editedUser.user_type,callback:function(t){e.$set(e.editedUser,"user_type",t)},expression:"editedUser.user_type"}})],1),a("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],attrs:{label:"User Status","item-text":"status","item-value":"id",items:e.statusData},model:{value:e.editedUser.status,callback:function(t){e.$set(e.editedUser,"status",t)},expression:"editedUser.status"}})],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:e.saveNewUser}},[e._v("\n                          Save\n                        ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=1}}},[e._v("back")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersCompany1,items:e.companyData1,search:e.search,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{on:{click:function(a){return e.getBranchByCompanyID1(t.item)}}},[e._v(e._s(t.item.username))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.getBranchByCompanyID1(t.item)}}},[e._v(e._s(t.item.first_name)+" "+e._s(t.item.last_name))])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card3",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Float Accounts for : "+e._s(e.UserLinkFormData1.branch_name))])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search1,callback:function(t){e.search1=t},expression:"search1"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch1}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Create Account")])])],1),a("v-data-table",{key:e.UserLinkData1.branch_id,staticClass:"elevation-1",attrs:{headers:e.headersUsers1,items:e.UserLinkData1,search:e.search1,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.symbol))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.amount).toFixed(2)))]),a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-icon",e._g({staticClass:"mr-2",on:{click:function(a){return e.restCap(t.item)}}},s),[e._v("\n                          cached\n                        ")])]}}],null,!0)},[a("span",[e._v("Rest WorldRemit Error Cap")])])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1)],1)],1),a("v-tab",[e._v("\n        Branch Floats\n      ")]),a("v-tab-item",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md5:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card1",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Branch List")])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:function(t){e.dialogAddBranch=!0}}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Create Branch")])])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersCompany,items:e.companyData,search:e.search,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{on:{click:function(a){return e.getBranchByCompanyID(t.item)}}},[e._v(e._s(t.item.branchname))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.getBranchByCompanyID(t.item)}}},[e._v(e._s(t.item.address))])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1),a("v-flex",{attrs:{xs12:"",md6:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card3",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Float Accounts for : "+e._s(e.UserLinkFormData.branch_name))])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search1,callback:function(t){e.search1=t},expression:"search1"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Create Account")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"green lighten-2"},on:{click:e.getAllNullUsersByBranch5}},[a("v-icon",e._g({},r),[e._v("build")])],1)]}}])},[a("span",[e._v("Float Limits Config")])])],1),a("v-data-table",{key:e.UserLinkData.branch_id,staticClass:"elevation-1",attrs:{headers:e.headersUsers,items:e.UserLinkData,search:e.search1,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.branch_id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.iso_code))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.amount).toFixed(2)))])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1)],1)],1),a("v-tab",[e._v("\n        Treasury Floats\n      ")]),a("v-tab-item",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md12:"","ma-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card1",attrs:{"mt-1":""}},[a("v-flex",{attrs:{"ma-1":""}},[a("h4",[e._v("Treasury Accounts")])]),a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch2}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Create Account")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch3}},[a("v-icon",e._g({},r),[e._v("monetization_on")])],1)]}}])},[a("span",[e._v("Upload Money")])])],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersCompany2,items:e.companyData2,search:e.search,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{on:{click:function(a){return e.getBranchByCompanyID2(t.item)}}},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.getBranchByCompanyID2(t.item)}}},[e._v(e._s(t.item.symbol))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.getBranchByCompanyID2(t.item)}}},[e._v(e._s(parseFloat(t.item.amount).toFixed(2)))])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                Your search for "'+e._s(e.search)+'" found no results.\n              ')])]},proxy:!0}])})],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogAddBranch,callback:function(t){e.dialogAddBranch=t},expression:"dialogAddBranch"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Branch Creation Form")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Branch Name",required:""},model:{value:e.companyFormData.name,callback:function(t){e.$set(e.companyFormData,"name",t)},expression:"companyFormData.name"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Address",type:"text",required:""},model:{value:e.companyFormData.address,callback:function(t){e.$set(e.companyFormData,"address",t)},expression:"companyFormData.address"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.companyFormData.phone_number,callback:function(t){e.$set(e.companyFormData,"phone_number",t)},expression:"companyFormData.phone_number"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddBranch=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddBranch}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddUserList,callback:function(t){e.dialogAddUserList=t},expression:"dialogAddUserList"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Create Branch Float Account")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",[a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n                              "+e._s(t.item.iso_code)+"\n                              ")]}}]),model:{value:e.selectedcurrencybranch,callback:function(t){e.selectedcurrencybranch=t},expression:"selectedcurrencybranch"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddUserList=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddBranchFloat}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddUserList1,callback:function(t){e.dialogAddUserList1=t},expression:"dialogAddUserList1"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Create User Float Account")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",[a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n                              "+e._s(t.item.iso_code)+"\n                              ")]}}]),model:{value:e.selectedcurrencyuser,callback:function(t){e.selectedcurrencyuser=t},expression:"selectedcurrencyuser"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddUserList1=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddUserFloat}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddUserList2Inject,callback:function(t){e.dialogAddUserList2Inject=t},expression:"dialogAddUserList2Inject"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Inject Float Into Account")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n                              "+e._s(t.item.iso_code)+"\n                              ")]}}]),model:{value:e.selectedcurrencytreasuryInject,callback:function(t){e.selectedcurrencytreasuryInject=t},expression:"selectedcurrencytreasuryInject"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-combobox",{attrs:{items:e.companies,"item-text":"name","item-value":"id",label:"Select Product"},model:{value:e.selectedcompany,callback:function(t){e.selectedcompany=t},expression:"selectedcompany"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Amount to inject",required:""},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddUserList2Inject=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddTreasuryFloatInject}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogAddUserList3Inject,callback:function(t){e.dialogAddUserList3Inject=t},expression:"dialogAddUserList3Inject"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Configure Float Limits : "+e._s(e.UserLinkFormData.branch_name))])]),a("v-data-table",{attrs:{headers:e.headersConfig,items:e.FloatLimits},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.iso_code))]),a("td",{staticClass:"text-xs-right"},[a("v-edit-dialog",{attrs:{"return-value":t.item.top_limit,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"top_limit",a)},"update:return-value":function(a){return e.$set(t.item,"top_limit",a)},save:function(a){return e.save(t.item)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number",autofocus:""},model:{value:t.item.top_limit,callback:function(a){e.$set(t.item,"top_limit",a)},expression:"props.item.top_limit"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.top_limit))])])],1),a("td",{staticClass:"text-xs-right"},[a("v-edit-dialog",{attrs:{"return-value":t.item.bottom_limit,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"bottom_limit",a)},"update:return-value":function(a){return e.$set(t.item,"bottom_limit",a)},save:function(a){return e.save(t.item)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number",autofocus:""},model:{value:t.item.bottom_limit,callback:function(a){e.$set(t.item,"bottom_limit",a)},expression:"props.item.bottom_limit"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.item.bottom_limit))])])],1)]}}])}),a("v-snackbar",{attrs:{timeout:3e3,color:e.snackColor},model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n                      "+e._s(e.snackText)+"\n                      "),a("v-btn",{attrs:{flat:""},on:{click:function(t){e.snack=!1}}},[e._v("Close")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogAddUserList2Create,callback:function(t){e.dialogAddUserList2Create=t},expression:"dialogAddUserList2Create"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Create Treasury Float Account")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-combobox",{attrs:{items:e.currencies,"item-text":"iso_code","item-value":"id",label:"Select Currency"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("  \n                              "+e._s(t.item.iso_code)+"\n                              ")]}}]),model:{value:e.selectedcurrencytreasuryCreate,callback:function(t){e.selectedcurrencytreasuryCreate=t},expression:"selectedcurrencytreasuryCreate"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddUserList2Create=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddTreasuryFloatCreate}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogAddUser,callback:function(t){e.dialogAddUser=t},expression:"dialogAddUser"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Create New User Form")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"First Name",required:""},model:{value:e.UserCreateData.first_name,callback:function(t){e.$set(e.UserCreateData,"first_name",t)},expression:"UserCreateData.first_name"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Last Name",type:"text",required:""},model:{value:e.UserCreateData.last_name,callback:function(t){e.$set(e.UserCreateData,"last_name",t)},expression:"UserCreateData.last_name"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Username",required:""},model:{value:e.UserCreateData.username,callback:function(t){e.$set(e.UserCreateData,"username",t)},expression:"UserCreateData.username"}})],1),a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Email",type:"text",required:""},model:{value:e.UserCreateData.email,callback:function(t){e.$set(e.UserCreateData,"email",t)},expression:"UserCreateData.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{items:e.userlevelData,label:"User Type","item-text":"name","item-value":"id"},model:{value:e.UserCreateData.user_type,callback:function(t){e.$set(e.UserCreateData,"user_type",t)},expression:"UserCreateData.user_type"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhoneUser},model:{value:e.UserCreateData.cell,callback:function(t){e.$set(e.UserCreateData,"cell",t)},expression:"UserCreateData.cell"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAddUser=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddUserData}},[e._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n                    Please stand by\n                    "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},Xt=[],ea={data:function(){var e;return e={e1:0,nodeApi:"http://localhost:8081",image:"/img/",userlevelData:[],dialogloader:!1,phone:"",selectedcurrency:"",selectedcurrencytreasury:"",selectedcurrencytreasuryInject:"",selectedcurrencytreasuryCreate:"",selectedcurrencyuser:"",selectedcompany:"",selectedcurrencybranch:"",phoneData:"",counter:0,amount:null,isActive:!0,isValidPhone:!1,dialogAddUser:!1,dialogUser:!1,dialogUserEdit:!1,dialogAddCompany:!1,dialogAddUserList:!1,dialogAddUserList1:!1,dialogAddUserList2Create:!1,dialogAddUserList2Inject:!1,dialogAddUserList3Inject:!1,dialogAddBranch:!1,dialogLinkUser:!1},Object(C["a"])(e,"userlevelData",[]),Object(C["a"])(e,"UsersData",[]),Object(C["a"])(e,"snack",!1),Object(C["a"])(e,"snackColor",""),Object(C["a"])(e,"snackText",""),Object(C["a"])(e,"max25chars",(function(e){return e.length<=25||"Input too long!"})),Object(C["a"])(e,"pagination",{}),Object(C["a"])(e,"headersConfig",[{text:"Currency",align:"left",sortable:!1,value:"iso_code"},{text:"Float Top Limit",value:"calories"},{text:"Float Bottom Limit",value:"calories"}]),Object(C["a"])(e,"editedUser",{id:0,first_name:"",last_name:"",email:"",branch_id:2037,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"ClearUser",{first_name:"",last_name:"",email:"",branch_id:2037,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"statusData",[{status:"Active",id:1},{status:"Disabled",id:0}]),Object(C["a"])(e,"headersCompany1",[{text:"User Name",align:"left",sortable:!1,value:"username"},{text:"Full Name",align:"left",sortable:!1,value:"first_name"}]),Object(C["a"])(e,"headersUsers1",[{text:"Account ID",value:"id"},{text:"Currency",align:"left",sortable:!1,value:"symbol"},{text:"Float Amount",value:"amount",sortable:!1},{text:"Action",value:"amount",sortable:!1}]),Object(C["a"])(e,"headersUsersSelecter1",[{text:"Currency",align:"left",sortable:!1,value:"local_currency_id"},{text:"Status",value:"status",sortable:!1}]),Object(C["a"])(e,"headersCompany2",[{text:"Account ID",align:"left",sortable:!1,value:"id"},{text:"Currency",align:"left",sortable:!1,value:"currency_id"},{text:"Amount",align:"left",sortable:!1,value:"amount"}]),Object(C["a"])(e,"headersUsers2",[{text:"Account ID",value:"id"},{text:"Currency",align:"left",sortable:!1,value:"iso_code"},{text:"Float Amount",value:"amount",sortable:!1}]),Object(C["a"])(e,"headersUsersSelecter2",[{text:"Currency",align:"left",sortable:!1,value:"local_currency_id"},{text:"Status",value:"status",sortable:!1}]),Object(C["a"])(e,"headersCompany",[{text:"Branch Name",align:"left",sortable:!1,value:"branchname"},{text:"Address",align:"left",sortable:!1,value:"address"}]),Object(C["a"])(e,"headersUsers",[{text:"Branch ID",value:"id"},{text:"Currency",align:"left",sortable:!1,value:"iso_code"},{text:"Float Amount",value:"amount",sortable:!1}]),Object(C["a"])(e,"headersUsersSelecter",[{text:"Currency",align:"left",sortable:!1,value:"local_currency_id"},{text:"Status",value:"status",sortable:!1}]),Object(C["a"])(e,"search",""),Object(C["a"])(e,"search1",""),Object(C["a"])(e,"search2",""),Object(C["a"])(e,"editCheck",!1),Object(C["a"])(e,"currencies",[]),Object(C["a"])(e,"companies",[]),Object(C["a"])(e,"editedIndexUser",-1),Object(C["a"])(e,"companyData",[]),Object(C["a"])(e,"companybranchData",[]),Object(C["a"])(e,"companyData1",[]),Object(C["a"])(e,"companybranchData1",[]),Object(C["a"])(e,"companyData2",[]),Object(C["a"])(e,"companybranchData2",[]),Object(C["a"])(e,"UserLinkData1",[]),Object(C["a"])(e,"UserLinkData2",[]),Object(C["a"])(e,"UserLinkData",[]),Object(C["a"])(e,"companyFormData",{id:0,name:"",address:"",phone_number:"",status:1,country:"",country_code:"",created_by:"",created_at:""}),Object(C["a"])(e,"ClearCompanyFormData",{id:0,name:"",address:"",phone_number:"",status:2,country:"",country_code:"",created_by:"",created_at:""}),Object(C["a"])(e,"UserLinkFormData",{id:0,user_id:0,status:2,branch_id:null,branch_name:"",created_by:""}),Object(C["a"])(e,"UserCreateData",{first_name:"",last_name:"",email:"",branch_id:0,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"UserLinkFormData1",{id:0,user_id:0,status:2,branch_id:0,branch_name:"",created_by:""}),Object(C["a"])(e,"UserCreateData1",{first_name:"",last_name:"",email:"",branch_id:0,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"UserLinkFormData2",{id:0,user_id:0,status:2,branch_id:null,branch_name:"",created_by:""}),Object(C["a"])(e,"UserCreateData2",{first_name:"",last_name:"",email:"",branch_id:0,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"ClearUserCreateData",{first_name:"",last_name:"",email:"",branch_id:0,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"UserLinkDataNull",[]),Object(C["a"])(e,"ClearBranchFormData",{id:0,name:"",status:1,company_id:0,created_by:"",created_at:""}),Object(C["a"])(e,"ClearUserCreateData2",{first_name:"",last_name:"",email:"",branch_id:0,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"UserLinkDataNull2",[]),Object(C["a"])(e,"ClearBranchFormData2",{id:0,name:"",status:1,company_id:0,created_by:"",created_at:""}),Object(C["a"])(e,"ClearUserCreateData1",{first_name:"",last_name:"",email:"",branch_id:0,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"UserLinkDataNull1",[]),Object(C["a"])(e,"ClearBranchFormData1",{id:0,name:"",status:1,company_id:0,created_by:"",created_at:""}),Object(C["a"])(e,"headers",{}),Object(C["a"])(e,"FloatLimits",[]),Object(C["a"])(e,"desserts",[{name:"Frozen Yogurt",calories:159,iron:"16%"},{name:"Ice cream sandwich",calories:237,iron:"5%"},{name:"Eclair",calories:262,iron:"25%"}]),e},created:function(){},mounted:function(){this.getActiveCurrencies(),this.getAllCompanies(),this.initializeCompany1(),this.initializeCompany2(),this.initializeCompany(),this.counter+=1},watch:{phone:function(e){},counter:function(e){}},methods:(Jt={restCap:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.$swal.fire({title:"World Remit Cap Rest?",text:"Are you sure you want to rest World Remit Cap for this float account?",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Rest Account!"}).then((function(e){e.value&&A.a.post(r.nodeApi+"/restErrorWorldRemit",{id:t.id},{headers:a}).subscribe((function(e){e.data.data.one.rowsAffected.length>0?r.$swal.fire({type:"success",title:"WorldRemit Cap Rest",text:"WorldRemit Cap Rest rest successfully"}):r.$swal.fire("WorldRemit Cap Rest","There was an error in processing you request. Please try again.","error")}),(function(e){return console.log(e)}))}));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.put(this.nodeApi+"/updateFloatLimits/"+t.id,{top:t.top_limit,bottom:t.bottom_limit},{headers:a}).subscribe((function(e){r.$swal.fire("Float Configs Edit !!","Configs where edited successfully.re-open to see changes","success")}),(function(e){r.snack=!0,r.snackColor="error",r.snackText=e}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},AddTreasuryFloatCreate:function(){var e={currency_id:this.selectedcurrencytreasuryCreate.id};console.log(e)},getActiveCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencies=t.data.data.one.recordset}),(function(e){return console.log(e)}))},userFloatMenu:function(){},branchFloatMenu:function(){},AddBranchFloat:function(e){var t=this;this.dialogloader=!0;var a={branch_id:this.UserLinkFormData.branch_id,amount:0,currency_id:this.selectedcurrencybranch.id,handover_type:1,status:2,created_by:this.$session.get("user").userdetails.id};this.dialogAddUserList=!1;var r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/addBranchFloat",a,{headers:r,timeout:5e3}).subscribe((function(e){e.data.data.one?(t.dialogloader=!1,t.getAllUsersByBranch(t.UserLinkFormData.branch_id),t.$swal.fire({type:"success",title:"Branch Account Adding",text:"Branch account was added successfully"})):(t.dialogloader=!1,t.$swal.fire({type:"error",title:"Branch Account Adding",text:e.data.message}))}),(function(e){t.dialogloader=!1,t.$swal.fire("Branch Account Adding Error","Failed to add branch account, probably because the user already has this type of account","error")}))}},Object(C["a"])(Jt,"AddTreasuryFloatCreate",function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,a={branch_id:this.UserLinkFormData2.branch_id,amount:0,currency_id:this.selectedcurrencytreasuryCreate.id,handover_type:1,status:2,created_by:this.$session.get("user").userdetails.id},this.dialogAddUserList2Create=!1,r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.post(this.nodeApi+"/addTreasuryFloat",a,{headers:r,timeout:5e3}).subscribe((function(e){e.data.message.one?(s.dialogloader=!1,s.initializeCompany2(),s.$swal.fire({type:"success",title:"Treasury Account Adding",text:"Treasury account was added successfully"})):(s.dialogloader=!1,s.$swal.fire({type:"error",title:"Treasury Account Adding",text:e.data.message}))}),(function(e){s.dialogloader=!1,s.$swal.fire("Treasury Account Adding Error","Failed to add user account, probably because the user already has this type of account","error")}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()),Object(C["a"])(Jt,"AddTreasuryFloatInject",function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={branch_id:this.UserLinkFormData2.branch_id,amount:this.amount,currency_id:this.selectedcurrencytreasuryInject.id,company:this.selectedcompany.id,handover_type:7,status:2,created_by:this.$session.get("user").userdetails.id},this.dialogAddUserList2Inject=!1,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.put(this.nodeApi+"/updateTreasuryFloatIncrease2",t,{headers:a,timeout:5e3}).subscribe((function(e){e.data.data.one?(r.dialogloader=!1,r.initializeCompany2(),r.selectedcompany="",r.selectedcurrencytreasuryInject="",r.amount=null,r.$swal.fire({type:"success",title:"Treasury Account Adding",text:"Treasury account was added successfully"})):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Treasury Account Adding",text:e.data.message}))}),(function(e){r.dialogloader=!1,r.$swal.fire("Treasury Account Adding Error",e,"error")}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()),Object(C["a"])(Jt,"AddUserFloat",function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,a={branch_id:this.UserLinkFormData1.branch_id,user_id:this.UserLinkFormData1.user_id,amount:0,currency_id:this.selectedcurrencyuser.id,handover_type:1,status:2,created_by:this.$session.get("user").userdetails.id},this.dialogAddUserList1=!1,r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.post(this.nodeApi+"/addUserFloat",a,{headers:r,timeout:5e3}).subscribe((function(e){e.data.data.one?(s.dialogloader=!1,s.getAllUsersByBranch1(s.UserLinkFormData1.user_id),s.$swal.fire({type:"success",title:"User Account Adding",text:"User account was added successfully"})):(s.dialogloader=!1,s.$swal.fire({type:"error",title:"User Account Adding",text:e.data.message}))}),(function(e){s.dialogloader=!1,s.$swal.fire("User Account Adding Error","Failed to add user account, probably because the user already has this type of account","error")}));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()),Object(C["a"])(Jt,"AddUser",(function(){this.dialogAddUser=!0,this.getAllUserTypes()})),Object(C["a"])(Jt,"AddUserData",(function(){var e=this;if(this.UserCreateData.first_name)if(this.UserCreateData.last_name)if(this.UserCreateData.email)if(this.UserCreateData.cell)if(this.isValidPhone)if(this.validateEmail(this.UserCreateData.email))if(this.UserCreateData.user_type<1)this.$swal.fire("User Type Error","Please enter a user type.","error");else{var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.UserCreateData.created_by=this.$session.get("user").userdetails.id,A.a.post(this.nodeApi+"/addUsers",this.UserCreateData,{headers:t}).subscribe((function(t){t.data.message?(e.UserCreateData=e.ClearUserCreateData,e.getAllNullUsersByBranch(),e.dialogAddUser=!1,e.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})):e.$swal.fire({type:"error",title:"User Adding Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Phone Error","Please enter a telephone.","error");else this.$swal.fire("Add User Error","Please enter email","error");else this.$swal.fire("Add User Error","Please enter last name","error");else this.$swal.fire("Add User Error","Please enter first name","error")})),Object(C["a"])(Jt,"AddUsertoBranch",(function(){})),Object(C["a"])(Jt,"AddBranch",(function(){})),Object(C["a"])(Jt,"getBranchByCompanyID1",(function(e){this.UserLinkFormData1.user_id=e.id,this.UserLinkFormData1.branch_id=e.branch_id,this.UserLinkFormData1.branch_name=e.first_name+" "+e.last_name,this.getAllUsersByBranch1(e.id)})),Object(C["a"])(Jt,"getBranchByCompanyID2",(function(e){this.UserLinkFormData2.branch_id=e.id,this.UserLinkFormData2.branch_name=e.branchname,this.getAllUsersByBranch(e.id)})),Object(C["a"])(Jt,"getBranchByCompanyID",(function(e){this.UserLinkFormData.branch_id=e.id,this.UserLinkFormData.branch_name=e.branchname,this.getAllUsersByBranch(e.id)})),Object(C["a"])(Jt,"AddBranch",(function(){var e=this;if(this.companyFormData.name)if(this.companyFormData.address)if(this.companyFormData.phone_number)if(this.isValidPhone){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.companyFormData.created_by=this.$session.get("user").userdetails.id,A.a.post(this.nodeApi+"/addBranches",this.companyFormData,{headers:t}).subscribe((function(t){(t.data.message="Success")?(e.closeUser(),e.companyFormData=e.ClearCompanyFormData,e.initializeCompany(),e.dialogAddBranch=!1,e.$swal.fire({type:"success",title:"Branch Added",text:"Branch was added successfully"})):e.$swal.fire({type:"error",title:"Branch Adding Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Phone Error","Please enter a telephone.","error");else this.$swal.fire("Compnay address Error","Please enter a company address.","error");else this.$swal.fire("Compnay Name Error","Please enter a company name","error")})),Object(C["a"])(Jt,"getTelePhone",(function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.companyFormData.country=t.country.name,this.companyFormData.country_code=t.country.iso2),t.isValid||(this.isActive=!0)})),Object(C["a"])(Jt,"getTelePhoneUser",(function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid),t.isValid||(this.isActive=!0)})),Object(C["a"])(Jt,"getAllCompanies",(function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCompanies",{headers:t}).subscribe((function(t){e.companies=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllUsersByBranch",(function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"branch_id",value:e},{headers:a}).subscribe((function(e){t.UserLinkData=e.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllNullUsersByBranch",(function(){var e=this;if(""!=this.UserLinkFormData.branch_name){this.dialogAddUserList=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(t){e.UserLinkDataNull=t.data.data.one.recordset}),(function(e){return console.log(e)}))}else this.$swal.fire("User Link Error","Please select a branch to add a user.","error")})),Object(C["a"])(Jt,"getAllCompanies2",(function(){var e=this;A.a.get(this.nodeApi+"/getAllCompanies").subscribe((function(t){e.companyData=t.data.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllUsersByBranch2",(function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"branch_id",value:e},{headers:a}).subscribe((function(e){t.UserLinkData2=e.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllNullUsersByBranch2",(function(){var e=this;this.dialogAddUserList2Create=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(t){e.UserLinkDataNull2=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllNullUsersByBranch3",(function(){var e=this;this.dialogAddUserList2Inject=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(t){e.UserLinkDataNull2=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllNullUsersByBranch4",(function(){var e=this;this.dialogAddUserList3Inject=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllFloatLimits",{headers:t}).subscribe((function(t){e.FloatLimits=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllNullUsersByBranch5",(function(){var e=this;if(this.UserLinkFormData.branch_id){this.dialogAddUserList3Inject=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getBranchFloatLimits",{branch_id:this.UserLinkFormData.branch_id},{headers:t}).subscribe((function(t){e.FloatLimits=t.data.data.one.recordset}),(function(e){return console.log(e)}))}else this.$swal.fire("Float Limit Error","Please select a branch to configure float limits.","error")})),Object(C["a"])(Jt,"getAllCompanies1",(function(){var e=this;A.a.get(this.nodeApi+"/getAllCompanies").subscribe((function(t){e.companyData=t.data.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllUsersByBranch1",(function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUserFloatByCol2",{col:"user_id",value:e},{headers:a}).subscribe((function(e){t.UserLinkData1=e.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getAllNullUsersByBranch1",(function(){var e=this;if(""!=this.UserLinkFormData1.branch_name){this.dialogAddUserList1=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(t){e.UserLinkDataNull1=t.data.data.one.recordset}),(function(e){return console.log(e)}))}else this.$swal.fire("User Float Account Error","Please select a user to add a float account.","error")})),Object(C["a"])(Jt,"getBranchPerCompany",(function(e){})),Object(C["a"])(Jt,"getUsersPerBranch",(function(e){})),Object(C["a"])(Jt,"openEditUser",(function(){this.dialogUserEdit=!0})),Object(C["a"])(Jt,"getUserStatus",(function(e){return 0==e?"Disabled":1==e?"Active":void 0})),Object(C["a"])(Jt,"openAddNewUser",(function(){this.dialogUser=!0,this.getAllUserTypes()})),Object(C["a"])(Jt,"getAllUserTypes",(function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllUserTypes",{headers:t}).subscribe((function(t){e.userlevelData=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"getUserType",(function(e){return 1==e?"Branch Clerk":2==e?"Branch Supervisor":3==e?"Treasury Officer":4==e?"Transporter":5==e?"Treasury Manager":6==e?"System Admin":void 0})),Object(C["a"])(Jt,"saveNewUser",(function(){var e=this;if(this.editedUser.user_type)if(this.editedUser.username)if(this.editedUser.first_name&&this.editedUser.last_name)if(this.editedUser.email)if(this.validateEmail(this.editedUser.email)){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.editedUser.created_by=this.$session.get("user").userdetails.id,A.a.post(this.nodeApi+"/createUser",this.editedUser,{headers:t}).subscribe((function(t){t.data.message.one?(e.editedUser=e.ClearUser,e.initializeCompany1(),e.addUserFloat2(t.data.message.one.recordset.insertId),e.dialogUser=!1,e.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})):e.$swal.fire({type:"error",title:"User Adding Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Email Error","Please enter an email.","error");else this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error");else this.$swal.fire("User Name Error","Please enter a User Name.","error");else this.$swal.fire("User type Error","Please select a user type.","error")})),Object(C["a"])(Jt,"addUserFloat2",function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={branch_id:2037,user_id:t,amount:0,currency_id:2,handover_type:1,status:2,created_by:this.$session.get("user").userdetails.id},this.dialogAddUserList1=!1,r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=5,A.a.post(this.nodeApi+"/addUserFloat2",a,{headers:r,timeout:5e3}).subscribe((function(e){e.data.data.one?(s.dialogloader=!1,s.$swal.fire({type:"success",title:"User Account Adding",text:"User account was added successfully"})):(s.dialogloader=!1,s.$swal.fire({type:"error",title:"User Account Adding",text:e.data.message}))}),(function(e){s.dialogloader=!1,s.$swal.fire("User Account Adding Error","Failed to add user account, probably because the user already has this type of account","error")}));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()),Object(C["a"])(Jt,"validateEmail",(function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())})),Object(C["a"])(Jt,"editItemUser",(function(e){this.getAllUserTypes(),this.editedIndexUser=this.UsersData.indexOf(e),this.editedUser=Object.assign({},e),this.editCheck=!0,this.dialogUser=!0})),Object(C["a"])(Jt,"deleteItemUser",(function(e){var t=this;this.UsersData.indexOf(e);this.$swal.fire({title:"Disable Float Account?",text:"Are you sure you want to disable float account from branch this !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Remove!"}).then((function(a){if(a.value){var r={"Content-Type":"application/json",Authorization:"Bearer "+t.$session.get("user").token};A.a.put(t.nodeApi+"/updateBranchFloat",{col:"status",value:3,wcol:"branch_id",wvalue:e.branch_id},{headers:r}).subscribe((function(e){e.data.message?(t.getAllUsersByBranch(t.UserLinkFormData.branch_id),t.$swal.fire({type:"success",title:"Float Account Disabled",text:"Float account was disabled successfully"})):t.$swal.fire({type:"error",title:"Float Account Disabled",text:e.data.message})}),(function(e){t.$swal.fire("User Removal Error",e,"error")}))}}))})),Object(C["a"])(Jt,"saveUser",(function(){var e=this;this.editedUser.user_type?this.editedUser.username?this.editedUser.first_name&&this.editedUser.last_name?this.editedUser.email?this.editedUser.cell?this.validateEmail(this.editedUser.email)?this.isValidPhone?A.a.put(this.nodeApi+"/updateUser/"+this.editedUser.id,this.editedUser).subscribe((function(t){t.data.rowsAffected&&(e.closeUser(),e.editedUser=e.ClearUser,e.initializeCompany(),e.$swal.fire({type:"success",title:"User Update",text:"User was updated successfully"})),t.data.rowsAffected||e.$swal.fire({type:"error",title:"User Update Failed",text:t.data.originalError.info.message})}),(function(e){return console.log(e)})):this.$swal.fire("Phone Error","Please enter a valid phone number.","error"):this.$swal.fire("Email Error","Please enter a valid email address.","error"):this.$swal.fire("Phone Error","Please enter a cell.","error"):this.$swal.fire("Email Error","Please enter an email.","error"):this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error"):this.$swal.fire("User Name Error","Please enter a User Name.","error"):this.$swal.fire("User type Error","Please select a user type.","error")})),Object(C["a"])(Jt,"initializeCompany",(function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(t){e.companyData=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"initializeCompany1",(function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllFloatUsers",{headers:t}).subscribe((function(t){e.companyData1=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"initializeCompany2",(function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllTreasuryFloat",{headers:t}).subscribe((function(t){e.companyData2=t.data.data.one.recordset}),(function(e){return console.log(e)}))})),Object(C["a"])(Jt,"closeUser",(function(){var e=this;this.editCheck=!1,this.dialogUser=!1,setTimeout((function(){e.editedUser=Object.assign({},e.defaultUser),e.editedIndexUser=-1}),300)})),Jt)},ta=ea,aa=(a("f1d5"),a("7679")),ra=a("2db4"),sa=Object(d["a"])(ta,Qt,Xt,!1,null,"ada13276",null),na=sa.exports;h()(sa,{VAlert:R["a"],VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VCombobox:I["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VEditDialog:aa["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VProgressLinear:K["a"],VSelect:J["a"],VSnackbar:ra["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTab:se["a"],VTabItem:ne["a"],VTabs:ie["a"],VTextField:oe["a"],VTooltip:ue["a"]});var ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Teller Refloating Page")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{color:"success",disabled:e.disabled},on:{click:e.transferFloat}},[e._v("Transfer")])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",lg5:"","mt-3":"","mr-4":""}},[a("v-card",{attrs:{hover:""}},[a("v-toolbar",{attrs:{flat:"",color:"blue"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Select Refloating Data")])],1),a("v-flex",{attrs:{"pa-3":""}},[a("v-combobox",{attrs:{items:e.branches,"item-text":"name","item-value":"id",label:"Select From Branch"},on:{input:e.getBranchTellers},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.name)+" "+e._s(t.item.address)+"\n            ")]}}]),model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-combobox",{attrs:{items:e.tellers,"item-text":"first_name","item-value":"id",label:"Select To Teller"},on:{input:e.getAllUserFloatsHistory},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]}}]),model:{value:e.teller,callback:function(t){e.teller=t},expression:"teller"}}),a("v-subheader",[a("strong",[e._v("Previous Float Balances")])]),e._l(e.totalFloatHistory,(function(t){return a("v-flex",{key:t.id,attrs:{"pa-2":""}},[a("v-card",{attrs:{hover:""}},[a("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[a("v-layout",{attrs:{"ma-1":""}},[a("img",{staticClass:"image",attrs:{src:e.image+t.image}}),a("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[a("h2",[e._v(e._s(t.symbol))]),a("h3",{staticClass:"h4Rev"},[e._v(e._s(parseFloat(t.amount).toFixed(2)))])])],1)],1)],1)],1)}))],2)],1)],1),a("v-flex",{attrs:{xs12:"",lg6:"","mt-3":""}},[a("v-card",{attrs:{hover:""}},[a("v-toolbar",{attrs:{flat:"",color:"success "}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Edit & Verify Refloating Data : "+e._s(e.branch_name)+" Branch")])],1),a("v-flex",{attrs:{"pa-3":""}},[a("v-data-table",{attrs:{headers:e.headersConfig,items:e.branchFloats,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.iso_code))]),a("td",[e._v(e._s(parseFloat(t.item.amount).toFixed(2)))]),a("td",[e._v("\n                "+e._s(parseFloat(t.item.previous).toFixed(2))+"\n              ")]),a("td",{staticClass:"text-xs-right"},[a("v-edit-dialog",{attrs:{"return-value":t.item.current,large:"",lazy:"",persistent:""},on:{"update:returnValue":function(a){return e.$set(t.item,"current",a)},"update:return-value":function(a){return e.$set(t.item,"current",a)},save:function(a){return e.save(t.item)},cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"Edit","single-line":"",type:"number",autofocus:""},model:{value:t.item.current,callback:function(a){e.$set(t.item,"current",a)},expression:"props.item.current"}})]},proxy:!0}],null,!0)},[a("div",[a("strong",{staticStyle:{color:"blue"}},[e._v(e._s(parseFloat(t.item.current).toFixed(2)))])])])],1)]}}])}),a("v-snackbar",{attrs:{timeout:3e3,color:e.snackColor},model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n            "+e._s(e.snackText)+"\n            "),a("v-btn",{attrs:{flat:""},on:{click:function(t){e.snack=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)},oa=[],la={data:function(){return{valid:!0,nodeApi:"http://localhost:8081",image:"/img/",totalFloatHistory:[],headersConfig:[{text:"Currency",align:"left",sortable:!1,value:"iso_code"},{text:"Currency Branch Float",value:"calories"},{text:"Previous Teller Float",value:"calories"},{text:"Click Row To Allocate",value:"calories"}],name:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],branch:null,branch_name:"",teller:null,select:null,branches:[],tellers:[],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,branchFloats:[],snack:!1,snackColor:"",snackText:"",max25chars:function(e){return e.length<=25||"Input too long!"},disabled:!0}},mounted:function(){this.getBranches()},methods:{save:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.snack=!0,this.snackColor="success",this.snackText="Data saved";case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"currency_id",value:2},{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBranchTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.branch_name=this.branch.name,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/getAllBranchFloatByBranch",{branch_id:this.branch.branch_id},{headers:t}).subscribe((function(e){a.branchFloats=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 4:return e.next=6,A.a.post(this.nodeApi+"/getUserFloatByCol4",{col:"currency_id",value:2,col2:"branch_id",value2:this.branch.branch_id},{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllUserFloatsHistory:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getUserFloatByColHistory",{user_id:this.teller.user_id,branch_id:this.branch.branch_id},{headers:t}).subscribe((function(e){a.totalFloatHistory=e.data.data.one.recordset;var t=[],r=[];a.branchFloats.forEach((function(e,s){a.totalFloatHistory.forEach((function(s){e.currency_id==s.currency_id&&(t.push({iso_code:e.iso_code,amount:e.amount,previous:s.amount,current:s.amount,currency_id:e.currency_id,user_id:a.teller.user_id,branch_id:a.branch.branch_id,created_by:a.$session.get("user").userdetails.id}),-1===r.indexOf(e.iso_code)&&r.push(e.iso_code))})),-1===r.indexOf(e.iso_code)&&(r.push(e.iso_code),t.push({iso_code:e.iso_code,amount:e.amount,previous:0,current:0,currency_id:e.currency_id,user_id:a.teller.user_id,branch_id:a.branch.branch_id,created_by:a.$session.get("user").userdetails.id}))})),a.updateTable(t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateTable:function(e){this.branchFloats=e,this.disabled=!1},transferFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=0,this.branchFloats.forEach((function(e){e.amount<e.current&&(t+=1)})),!(t>1)){e.next=6;break}this.$swal.fire({type:"warning",title:"Teller Re-Floating Error",text:"Sorry but there are "+t+" currencies that are more than what the branch has, please verify you data."}),e.next=53;break;case 6:if(1!=t){e.next=10;break}this.$swal.fire({type:"warning",title:"Teller Re-Floating Error",text:"Sorry but there is "+t+" currency that are more than what the branch has, please verify you data."}),e.next=53;break;case 10:if(a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},!this.branchFloats[0]){e.next=15;break}return r=this.branchFloats[0].iso_code,e.next=15,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[0],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+r+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 15:if(!this.branchFloats[1]){e.next=19;break}return s=this.branchFloats[1].iso_code,e.next=19,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[1],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+s+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 19:if(!this.branchFloats[2]){e.next=23;break}return n=this.branchFloats[2].iso_code,e.next=23,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[2],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+n+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 23:if(!this.branchFloats[3]){e.next=27;break}return i=this.branchFloats[3].iso_code,e.next=27,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[3],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+i+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 27:if(!this.branchFloats[4]){e.next=31;break}return o=this.branchFloats[4].iso_code,e.next=31,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[4],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+o+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 31:if(!this.branchFloats[5]){e.next=35;break}return l=this.branchFloats[5].iso_code,e.next=35,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[5],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+l+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 35:if(!this.branchFloats[6]){e.next=39;break}return c=this.branchFloats[6].iso_code,e.next=39,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[6],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+c+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 39:if(!this.branchFloats[7]){e.next=43;break}return d=this.branchFloats[7].iso_code,e.next=43,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[7],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+d+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 43:if(!this.branchFloats[8]){e.next=47;break}return u=this.branchFloats[7].iso_code,e.next=47,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[7],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+u+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 47:if(!this.branchFloats[9]){e.next=51;break}return h=this.branchFloats[7].iso_code,e.next=51,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[7],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+h+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 51:return e.next=53,this.clearTransfer();case 53:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearTransfer:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$swal.fire({type:"success",title:"Teller Re-Floating",text:"You have successfully re-floated you teller"}),this.branch_name="",this.branchFloats=[],this.totalFloatHistory=[];case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.$refs.form.validate()&&(this.snackbar=!0)},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},ca=la,da=(a("63b2"),a("e0c7")),ua=Object(d["a"])(ca,ia,oa,!1,null,"2e1c86c9",null),ha=ua.exports;h()(ua,{VBtn:U["a"],VCard:j["a"],VCombobox:I["a"],VDataTable:E["a"],VDivider:z["a"],VEditDialog:aa["a"],VFlex:M["a"],VLayout:W["a"],VSnackbar:ra["a"],VSpacer:Q["a"],VSubheader:da["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v(e._s(e.userTypeTitle)+" Floating Page")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer")],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",lg3:"","mt-3":"","mr-4":""}},[a("v-card",{attrs:{hover:""}},[a("v-toolbar",{attrs:{flat:"",color:"blue"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Enter Floating Data")]),a("v-spacer"),a("v-btn",{attrs:{color:"red",disabled:e.disabled,dark:""},on:{click:e.saveFloatMovement}},[e._v("Save")])],1),a("v-flex",{attrs:{"pa-3":""}},[2!=e.userType?a("v-combobox",{attrs:{disabled:e.disabled,items:e.branches,"item-text":"name","item-value":"id",label:"Select From Branch"},on:{input:e.getBranchTellers},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}):e._e(),2!=e.userType?a("v-combobox",{attrs:{disabled:e.disabled,items:e.tellers,"item-text":"first_name","item-value":"id",label:"Select To Teller"},on:{input:e.getAllUserFloatsHistory},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]}}],null,!1,180231812),model:{value:e.teller,callback:function(t){e.teller=t},expression:"teller"}}):e._e(),2==e.userType?a("v-combobox",{attrs:{disabled:e.disabled,items:e.tellerFloat,"item-text":"symbol",label:"Select To Teller Float"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.symbol)+"\n\n              "),a("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[e._v("\n                "+e._s(parseFloat(t.item.amount).toFixed(2))+"\n              ")])]}}],null,!1,997966183),model:{value:e.selectFloatAccount,callback:function(t){e.selectFloatAccount=t},expression:"selectFloatAccount"}}):e._e(),2!=e.userType?a("v-combobox",{attrs:{disabled:e.disabled,items:e.treasuryFloat,"item-text":"symbol",label:"Select Treasury Account"},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.symbol)+"\n\n              "),a("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"}},[e._v("\n                "+e._s(parseFloat(t.item.amount).toFixed(2))+"\n              ")])]}}],null,!1,997966183),model:{value:e.selectFloatAccount,callback:function(t){e.selectFloatAccount=t},expression:"selectFloatAccount"}}):e._e(),a("v-text-field",{attrs:{disabled:e.disabled,label:"Enter Float Amount"},model:{value:e.floatAmount,callback:function(t){e.floatAmount=t},expression:"floatAmount"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",lg8:"","mt-3":""}},[a("v-card",{attrs:{hover:""}},[a("v-toolbar",{attrs:{flat:"",color:"success"}},[a("v-toolbar-title",{staticClass:"white--text hidden-sm-and-down"},[e._v("Float Movement Approval/Acceptence")]),a("v-spacer")],1),a("v-flex",[a("v-data-table",{attrs:{headers:e.headersConfig,items:e.floatMovementData,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(new Date(t.item.createdAt).toLocaleString("en-GB")))]),a("td",[e._v(e._s(t.item.symbol))]),a("td",[e._v(e._s(parseFloat(t.item.amount).toFixed(2)))]),a("td",[e._v(e._s(t.item.from_branch_name)+" : "+e._s(t.item.from_user))]),a("td",[e._v(e._s(t.item.to_branch_name)+" : "+e._s(t.item.to_user))]),11==t.item.approvalStatus&&6==e.userType?a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:"red","text-color":"white"},on:{click:function(a){return e.openDialogApprove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("check_circle_outline")])],1),e._v("\n                  From Treasury Approve\n                ")],1)],1):e._e(),12==t.item.approvalStatus&&2==e.userType?a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:"green","text-color":"white"},on:{click:function(a){return e.openDialogAccept(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("check_circle_outline")])],1),e._v("\n                  From Treasury Accept\n                ")],1)],1):e._e(),14==t.item.approvalStatus&&6==e.userType?a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:"orange","text-color":"white"},on:{click:function(a){return e.openDialogApprove(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("check_circle_outline")])],1),e._v("\n                  From Teller Approve\n                ")],1)],1):e._e(),15==t.item.approvalStatus&&5==e.userType?a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:"purple","text-color":"white"},on:{click:function(a){return e.openDialogAccept(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("check_circle_outline")])],1),e._v("\n                  From Teller Accept\n                ")],1)],1):e._e(),15==t.item.approvalStatus&&4==e.userType?a("td",[a("v-chip",{staticClass:"ma-2",attrs:{color:"purple","text-color":"white"},on:{click:function(a){return e.openDialogAccept(t.item)}}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",[e._v("check_circle_outline")])],1),e._v("\n                  From Teller Accept\n                ")],1)],1):e._e()]}}])}),a("v-snackbar",{attrs:{timeout:3e3,color:e.snackColor},model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v("\n            "+e._s(e.snackText)+"\n            "),a("v-btn",{attrs:{flat:""},on:{click:function(t){e.snack=!1}}},[e._v("Close")])],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogAcceptConfirm,callback:function(t){e.dialogAcceptConfirm=t},expression:"dialogAcceptConfirm"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"green darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Move Float Confirmation")])]),a("v-layout",[a("v-flex",{attrs:{xs12:"","pa-3":""}},[a("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"number",label:"Please enter user pin",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.acceptFloat(t)}},model:{value:e.userPIN,callback:function(t){e.userPIN=t},expression:"userPIN"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogAcceptConfirm=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.acceptFloat}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogApproveConfirm,callback:function(t){e.dialogApproveConfirm=t},expression:"dialogApproveConfirm"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"green darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Approve Float Confirmation")])]),a("v-layout",[a("v-flex",{attrs:{xs12:"","pa-3":""}},[a("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"number",label:"Please enter you user pin",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.approveFloat(t)}},model:{value:e.userPIN,callback:function(t){e.userPIN=t},expression:"userPIN"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogApproveConfirm=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.approveFloat}},[e._v("Save")])],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n        Please stand by\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},ma=[],fa={data:function(){return{valid:!0,acceptAll:!1,approveAll:!1,dialogloader:!1,userPIN:"",dialogApproveConfirm:!1,dialogAcceptConfirm:!1,pagination:{sortBy:"createdAt",descending:!0,rowsPerPage:15},floatAmount:null,nodeApi:"http://localhost:8081",image:"/img/",totalFloatHistory:[],userTypeTitle:"",headersConfig:[{text:"Date",value:"calories"},{text:"Currency",align:"left",sortable:!1,value:"iso_code"},{text:"Float Amount",value:"calories"},{text:"Movement From",value:"calories"},{text:"Movement To",value:"calories"},{text:"Action",value:"calories"}],name:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],branch:null,branch_name:"",teller:null,selectFloatAccount:null,select:null,branches:[],tellers:[],items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1,branchFloats:[],snack:!1,snackColor:"",snackText:"",max25chars:function(e){return e.length<=25||"Input too long!"},disabled:!0,treasuryFloat:[],treasuryFloatObj:{from_branch_id:"",to_user_id:"",to_branch_id:"",from_user_id:"",currency_id:"",amount:0},floatBalance:0,floatMovementData:[],tellerFloat:[],userType:null,selectedFloatData:null}},mounted:function(){this.userType=this.$session.get("user").userdetails.user_type,this.getTreasuryFloats(),this.getTellerFloats(),this.getBranches(),this.getFloatMovementData(),6==this.userType&&(this.userTypeTitle="Supervisor Approval"),2==this.userType&&(this.userTypeTitle="Teller Float Movement",this.disabled=!1),4==this.userType&&(this.userTypeTitle="Manager Float Movement",this.disabled=!1),5==this.userType&&(this.userTypeTitle="Treasury Float Movement",this.disabled=!1)},watch:{selectFloatAccount:function(e){e&&(this.floatBalance=e.amount)},dialogAcceptConfirm:function(e){e||(this.acceptAll=!1)},dialogApproveConfirm:function(e){e||(this.approveAll=!1)}},methods:{openDialogApprove:function(e){this.selectedFloatData=e,this.dialogApproveConfirm=!0},openDialogApproveAll:function(){this.selectedFloatData=this.floatMovementData[0],this.dialogApproveConfirm=!0,this.approveAll=!0},openDialogAccept:function(e){this.selectedFloatData=e,this.dialogAcceptConfirm=!0},openDialogAcceptAll:function(){this.selectedFloatData=this.floatMovementData[0],this.dialogAcceptConfirm=!0,this.acceptAll=!0},approveFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t="",t=this.approveAll?"/updateFloatMovementAll":"/updateFloatMovement",a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=6,A.a.post(this.nodeApi+"/checkPin",{id:this.$session.get("user").userdetails.id,pin:this.userPIN},{headers:a}).subscribe((function(e){if(e.data.data.one.recordset){var s=r;A.a.post(r.nodeApi+t,{approvalStatus:r.selectedFloatData.approvalStatus+1,approvalStatus1:r.selectedFloatData.approvalStatus,createdBy:r.$session.get("user").userdetails.id,id:r.selectedFloatData.id},{headers:a}).subscribe((function(e){e.data.data.one?(s.dialogApproveConfirm=!1,s.userPIN="",s.dialogloader=!1,s.selectFloatAccount="",s.branch="",s.teller="",s.floatAmount="",s.acceptAll=!1,s.approveAll=!1,s.getFloatMovementData(),s.$swal.fire({type:"success",title:"Record Approved",text:"Float Movement Approved successfully"})):(s.dialogloader=!1,s.$swal.fire({type:"error",title:"Record Approve Failed",text:e.data.message}))}),(function(e){s.dialogloader=!1,s.$swal.fire("Record Approved Failed",e,"error")}))}else r.dialogloader=!1,r.$swal.fire({type:"error",title:"Pin Update Failed",text:"Wrong old pin please try again"})}),(function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),acceptFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/checkPin",{id:this.$session.get("user").userdetails.id,pin:this.userPIN},{headers:t}).subscribe((function(e){if(e.data.data.one.recordset){var r=a;A.a.post(a.nodeApi+"/updateFloatMovement",{approvalStatus:a.selectedFloatData.approvalStatus+1,id:a.selectedFloatData.id},{headers:t}).subscribe((function(e){e.data.data.one.recordset?(r.dialogAcceptConfirm=!1,r.userPIN="",r.selectFloatAccount="",r.branch="",r.teller="",r.floatAmount="",r.movementFloat()):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Float Accepted Failed",text:e.data.message}))}),(function(e){r.dialogloader=!1,r.$swal.fire("Float Accepted Failed",e,"error")}))}else a.dialogloader=!1,a.$swal.fire({type:"error",title:"Pin Update Failed",text:"Wrong old pin please try again"})}),(function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),movementFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={},a=2==this.userType?{amount:this.selectedFloatData.amount,currency_id:this.selectedFloatData.currency_id,branch_id:this.$session.get("user").userdetails.branch_id,user_id:this.$session.get("user").userdetails.id,user_type:this.userType}:{amount:this.selectedFloatData.amount,currency_id:this.selectedFloatData.currency_id,branch_id:this.selectedFloatData.from_branch_id,user_id:this.selectedFloatData.from_user_id,user_type:this.userType,created_by:this.$session.get("user").userdetails.id},e.next=5,A.a.post(this.nodeApi+"/floatMovementUpdate",a,{headers:t}).subscribe((function(e){e.data.message?(r.$swal.fire("Float Hand-Over Error",e.data.message,"error"),r.dialogloader=!1):(r.selectFloatAccount="",r.branch="",r.teller="",r.floatAmount="",r.$swal.fire({type:"success",title:"Float Hand-Over successful",text:"You have successfully received float."}),r.getTreasuryFloats(),r.getTellerFloats(),r.getBranches(),r.getFloatMovementData(),r.dialogloader=!1)}),(function(e){console.log(e),r.dialogloader=!1}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveFloatMovement:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(2==this.userType?(this.treasuryFloatObj.amount=this.floatAmount,this.treasuryFloatObj.currency_id=this.selectFloatAccount.currency_id,this.treasuryFloatObj.to_branch_id="1",this.treasuryFloatObj.to_user_id="210",this.treasuryFloatObj.from_branch_id=this.$session.get("user").userdetails.branch_id,this.treasuryFloatObj.from_user_id=this.$session.get("user").userdetails.id,this.treasuryFloatObj.created_by=this.$session.get("user").userdetails.id,this.treasuryFloatObj.approvalStatus=14):(this.treasuryFloatObj.amount=this.floatAmount,this.treasuryFloatObj.currency_id=this.selectFloatAccount.currency_id,this.treasuryFloatObj.to_branch_id=this.branch.branch_id,this.treasuryFloatObj.to_user_id=this.teller.user_id,this.treasuryFloatObj.from_branch_id="1",this.treasuryFloatObj.from_user_id=this.$session.get("user").userdetails.id,this.treasuryFloatObj.created_by=this.$session.get("user").userdetails.id,this.treasuryFloatObj.approvalStatus=11),!(this.treasuryFloatObj.amount>this.floatBalance)){e.next=5;break}this.$swal.fire({type:"warning",title:"Teller Re-Floating Error",text:"Sorry but you entered an amount greater that your currency treasury/Teller Float balance."}),e.next=9;break;case 5:return console.log(this.treasuryFloatObj),t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=9,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.treasuryFloatObj,{headers:t}).subscribe((function(e){e.data.message?a.$swal.fire("Teller Re-Floating Error",e.data.message,"error"):(a.selectFloatAccount="",a.branch="",a.teller="",a.floatAmount="",a.$swal.fire({type:"success",title:"Teller Re-Floating successful",text:"You have successfully send float to a teller pending approval."}),a.getFloatMovementData())}),(function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),save:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.snack=!0,this.snackColor="success",this.snackText="Data saved";case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){console.log("Dialog closed")},getTreasuryFloats:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTreasuryFloat",{headers:t}).subscribe((function(e){a.treasuryFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellerFloats:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerFloat",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){a.tellerFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getFloatMovementData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getFloatMovement",{user_type:this.userType},{headers:t}).subscribe((function(e){a.floatMovementData=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchFloatByCol",{col:"currency_id",value:2},{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getBranchTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.branch_name=this.branch.name,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/getAllBranchFloatByBranch",{branch_id:this.branch.branch_id},{headers:t}).subscribe((function(e){a.branchFloats=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 4:return e.next=6,A.a.post(this.nodeApi+"/getUserFloatByCol4",{col:"currency_id",value:2,col2:"branch_id",value2:this.branch.branch_id},{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllUserFloatsHistory:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getUserFloatByColHistory",{user_id:this.teller.user_id,branch_id:this.branch.branch_id},{headers:t}).subscribe((function(e){a.totalFloatHistory=e.data.data.one.recordset;var t=[],r=[];a.branchFloats.forEach((function(e,s){a.totalFloatHistory.forEach((function(s){e.currency_id==s.currency_id&&(t.push({iso_code:e.iso_code,amount:e.amount,previous:s.amount,current:s.amount,currency_id:e.currency_id,user_id:a.teller.user_id,branch_id:a.branch.branch_id,created_by:a.$session.get("user").userdetails.id}),-1===r.indexOf(e.iso_code)&&r.push(e.iso_code))})),-1===r.indexOf(e.iso_code)&&(r.push(e.iso_code),t.push({iso_code:e.iso_code,amount:e.amount,previous:0,current:0,currency_id:e.currency_id,user_id:a.teller.user_id,branch_id:a.branch.branch_id,created_by:a.$session.get("user").userdetails.id}))})),a.updateTable(t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateTable:function(e){this.branchFloats=e,this.disabled=!1},transferFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=0,this.branchFloats.forEach((function(e){e.amount<e.current&&(t+=1)})),!(t>1)){e.next=6;break}this.$swal.fire({type:"warning",title:"Teller Re-Floating Error",text:"Sorry but there are "+t+" currencies that are more than what the branch has, please verify you data."}),e.next=53;break;case 6:if(1!=t){e.next=10;break}this.$swal.fire({type:"warning",title:"Teller Re-Floating Error",text:"Sorry but there is "+t+" currency that are more than what the branch has, please verify you data."}),e.next=53;break;case 10:if(a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},!this.branchFloats[0]){e.next=15;break}return r=this.branchFloats[0].iso_code,e.next=15,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[0],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+r+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 15:if(!this.branchFloats[1]){e.next=19;break}return s=this.branchFloats[1].iso_code,e.next=19,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[1],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+s+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 19:if(!this.branchFloats[2]){e.next=23;break}return n=this.branchFloats[2].iso_code,e.next=23,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[2],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+n+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 23:if(!this.branchFloats[3]){e.next=27;break}return i=this.branchFloats[3].iso_code,e.next=27,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[3],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+i+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 27:if(!this.branchFloats[4]){e.next=31;break}return o=this.branchFloats[4].iso_code,e.next=31,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[4],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+o+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 31:if(!this.branchFloats[5]){e.next=35;break}return l=this.branchFloats[5].iso_code,e.next=35,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[5],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+l+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 35:if(!this.branchFloats[6]){e.next=39;break}return c=this.branchFloats[6].iso_code,e.next=39,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[6],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+c+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 39:if(!this.branchFloats[7]){e.next=43;break}return d=this.branchFloats[7].iso_code,e.next=43,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[7],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+d+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 43:if(!this.branchFloats[8]){e.next=47;break}return u=this.branchFloats[7].iso_code,e.next=47,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[7],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+u+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 47:if(!this.branchFloats[9]){e.next=51;break}return h=this.branchFloats[7].iso_code,e.next=51,A.a.post(this.nodeApi+"/updateBranchToTellerFloatQuick",this.branchFloats[7],{headers:a}).subscribe((function(e){e.data.message&&console.log("Error for "+h+" Message : "+e.data.message)}),(function(e){return console.log(e)}));case 51:return e.next=53,this.clearTransfer();case 53:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearTransfer:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$swal.fire({type:"success",title:"Teller Re-Floating",text:"You have successfully re-floated you teller"}),this.branch_name="",this.branchFloats=[],this.totalFloatHistory=[];case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.$refs.form.validate()&&(this.snackbar=!0)},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()}}},ga=fa,va=(a("56f5"),Object(d["a"])(ga,pa,ma,!1,null,"17c6596a",null)),_a=va.exports;h()(va,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VCombobox:I["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VProgressLinear:K["a"],VSnackbar:ra["a"],VSpacer:Q["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var ba={components:{"tellertoteller-page":lt,"tellertotellersuper-page":mt,"branchtoteller-page":yt,"branchtotellersuper-page":At,"branchtobranch-page":Wt,"tellertobranch-page":$t,"branchtotreasury-page":It,"treasurytobranch-page":Kt,"movementreport-page":na,"refloat-page":ha,"refloat-page2":_a},data:function(){return{CurrencyPair:"",page:"",user_type:0}},mounted:function(){this.user_type=this.$session.get("user").userdetails.user_type,2==this.user_type?this.page="tellertoteller-page":3==this.user_type?this.page="branchtoteller-page":4==this.user_type||5==this.user_type?this.page="treasurytobranch-page":6==this.user_type&&(this.page="refloat-page2")},methods:{openpage:function(e){this.page="",this.page=e}}},ya=ba,xa=(a("5e00"),Object(d["a"])(ya,tt,at,!1,null,"f90c9238",null)),wa=xa.exports;h()(xa,{VCard:j["a"],VFlex:M["a"],VLayout:W["a"]});var Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticClass:"white--text hidden-md-and-up",attrs:{row:"","justify-end":""}},[a("h2",{staticStyle:{color:"grey"}},[e._v("User Administration Form")])]),a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("User Administration Form")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.openAddNewUser}},[e._v("Create User")]),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Personal Information")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"2"}},[e._v("System User Configuration")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedUser.first_name,callback:function(t){e.$set(e.editedUser,"first_name",t)},expression:"editedUser.first_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email Address"},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.editedUser.cell,callback:function(t){e.$set(e.editedUser,"cell",t)},expression:"editedUser.cell"}})],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v(" Continue ")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"User Name"},model:{value:e.editedUser.username,callback:function(t){e.$set(e.editedUser,"username",t)},expression:"editedUser.username"}})],1),a("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[a("v-select",{attrs:{label:"User Type","item-text":"user_type","item-value":"user_type_id",items:e.userlevelData},model:{value:e.editedUser.user_type,callback:function(t){e.$set(e.editedUser,"user_type",t)},expression:"editedUser.user_type"}})],1),a("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[a("v-select",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],attrs:{label:"User Status","item-text":"status","item-value":"id",items:e.statusData},model:{value:e.editedUser.status,callback:function(t){e.$set(e.editedUser,"status",t)},expression:"editedUser.status"}})],1)],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.editCheck,expression:"!editCheck"}],attrs:{color:"primary"},on:{click:e.saveNewUser}},[e._v("\n              Save\n            ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],attrs:{color:"primary"},on:{click:e.saveUser}},[e._v(" Update ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=1}}},[e._v("back")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUserRBZ,callback:function(t){e.dialogUserRBZ=t},expression:"dialogUserRBZ"}},[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("RBZ User Credentials")]),a("v-divider")],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"User Name"},model:{value:e.rbz_username,callback:function(t){e.rbz_username=t},expression:"rbz_username"}})],1),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:e.rbz_password,callback:function(t){e.rbz_password=t},expression:"rbz_password"}})],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:e.saveRBZCredentials}},[e._v(" Save ")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogAddUserList,callback:function(t){e.dialogAddUserList=t},expression:"dialogAddUserList"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Click user to add to list")]),a("v-spacer")],1),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}})],1)],1),a("v-data-table",{key:e.UserLinkDataNull.username,staticClass:"elevation-1",attrs:{headers:e.headersUsersSelecter,items:e.UserLinkDataNull,"must-sort":"",search:e.search2,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch(t.item.id)}}},[e._v("\n              "+e._s(t.item.username)+"\n            ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch(t.item.id)}}},[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch(t.item.id)}}},[e._v("\n              "+e._s(e.getUserType(t.item.user_type))+"\n            ")])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n              Your search for "'+e._s(e.search)+'" found no results.\n            ')])]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogAddUserList5,callback:function(t){e.dialogAddUserList5=t},expression:"dialogAddUserList5"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Click user to add to list")]),a("v-spacer")],1),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search5,callback:function(t){e.search5=t},expression:"search5"}})],1)],1),a("v-data-table",{key:e.UserLinkDataNull5.username,staticClass:"elevation-1",attrs:{headers:e.headersUsersSelecter5,items:e.UserLinkDataNull5,"must-sort":"",search:e.search5,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch5(t.item.id)}}},[e._v("\n              "+e._s(t.item.username)+"\n            ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch5(t.item.id)}}},[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.LinkUserToBranch5(t.item.id)}}},[e._v("\n              "+e._s(e.getUserType(t.item.user_type))+"\n            ")])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n              Your search for "'+e._s(e.search)+'" found no results.\n            ')])]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialogUser1,callback:function(t){e.dialogUser1=t},expression:"dialogUser1"}},[a("v-stepper",{model:{value:e.e11,callback:function(t){e.e11=t},expression:"e11"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e11>1,step:"1"}},[e._v("Sales & Float Report List")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"2"}},[e._v("Float Limit Alert List")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search1,callback:function(t){e.search1=t},expression:"search1"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Link User")])])],1),a("v-data-table",{key:e.UserLinkData.username,staticClass:"elevation-1",attrs:{headers:e.headersUsers2,items:e.UserLinkData,search:e.search1,"must-sort":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.username))]),a("td",{staticClass:"text-xs-left"},[e._v("\n                  "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n                ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(e.getUserType(t.item.user_type)))]),a("td",[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItemUser(t.item)}}},[e._v(" delete ")])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                  Your search for "'+e._s(e.search)+'" found no results.\n                ')])]},proxy:!0}])})],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-layout",[a("v-flex",[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search4,callback:function(t){e.search4=t},expression:"search4"}})],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:e.getAllNullUsersByBranch5}},[a("v-icon",e._g({},r),[e._v("add")])],1)]}}])},[a("span",[e._v("Link User")])])],1),a("v-data-table",{key:e.UserLinkData5.username,staticClass:"elevation-1",attrs:{headers:e.headersUsers5,items:e.UserLinkData5,search:e.search4,"must-sort":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.username))]),a("td",{staticClass:"text-xs-left"},[e._v("\n                  "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n                ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(e.getUserType(t.item.user_type)))]),a("td",[a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItemUser5(t.item)}}},[e._v(" delete ")])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n                  Your search for "'+e._s(e.search)+'" found no results.\n                ')])]},proxy:!0}])})],1)],1)],1)],1)],1),a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{key:e.UsersData.username,staticClass:"elevation-1",attrs:{headers:e.headersUsers,items:e.UsersData,search:e.search,"must-sort":"",pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.username))]),a("td",{staticClass:"text-xs-left"},[e._v("\n        "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n      ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.user_type))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.email))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.cell))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),a("td",{staticClass:"justify-left"},[1==e.user_type?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItemUser(t.item)}}},s),[e._v("\n              edit\n            ")])]}}],null,!0)},[a("span",[e._v("Edit User")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-icon",e._g({staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.restPassword(t.item)}}},s),[e._v("\n              vpn_key\n            ")])]}}],null,!0)},[a("span",[e._v("Rest Password")])])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])]},proxy:!0}])}),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n        Please stand by\n        "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},ka=[],Ta={data:function(){var e;return e={nodeApi:"http://localhost:8081",userlevelData:[],dialogUserRBZ:!1,dialogloader:!1,phone:"",phoneData:"",counter:0,isActive:!0,rbz_username:"",rbz_password:"",selected_user:0,isValidPhone:!1,dialogUserEdit:!1,dialogUser1:!1,UserLinkFormData:[],pagination:{rowsPerPage:15}},Object(C["a"])(e,"userlevelData",[]),Object(C["a"])(e,"UsersData",[]),Object(C["a"])(e,"UserLinkData5",[]),Object(C["a"])(e,"dialogAddUserList",!1),Object(C["a"])(e,"dialogAddUserList5",!1),Object(C["a"])(e,"UserLinkData",[]),Object(C["a"])(e,"search2",""),Object(C["a"])(e,"search5",""),Object(C["a"])(e,"search4",""),Object(C["a"])(e,"search1",""),Object(C["a"])(e,"UserLinkDataNull",[]),Object(C["a"])(e,"UserLinkDataNull5",[]),Object(C["a"])(e,"statusData",[{status:"Active",id:2},{status:"Disabled",id:3}]),Object(C["a"])(e,"headersUsers",[{text:"User ID",value:"id"},{text:"User Name",align:"left",sortable:!1,value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"},{text:"Email",value:"email"},{text:"Cell No#",value:"cell"},{text:"Status",value:"status"},{text:"Actions",sortable:!1}]),Object(C["a"])(e,"search",""),Object(C["a"])(e,"dialogUser",!1),Object(C["a"])(e,"e1",0),Object(C["a"])(e,"e11",0),Object(C["a"])(e,"editCheck",!1),Object(C["a"])(e,"editedIndexUser",-1),Object(C["a"])(e,"search",""),Object(C["a"])(e,"editedUser",{id:0,first_name:"",last_name:"",email:"",branch_id:2037,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"ClearUser",{first_name:"",last_name:"",email:"",branch_id:1020,user_type:0,status:2,cell:"",created_by:0}),Object(C["a"])(e,"headersUsers2",[{text:"ID",value:"id"},{text:"User Name",align:"left",value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"},{text:"Actions",value:"action"}]),Object(C["a"])(e,"headersUsers5",[{text:"ID",value:"id"},{text:"User Name",align:"left",value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"},{text:"Actions",value:"action"}]),Object(C["a"])(e,"headersUsersSelecter",[{text:"User Name",align:"left",value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"}]),Object(C["a"])(e,"headersUsersSelecter5",[{text:"User Name",align:"left",value:"username"},{text:"Full Name",value:"first_name"},{text:"User Type",value:"user_type"}]),Object(C["a"])(e,"user_type",0),e},created:function(){this.initializeUser(),this.counter+=1},mounted:function(){this.user_type=this.$session.get("user").userdetails.user_type},watch:{phone:function(e){},counter:function(e){},dialogUser:function(e){0==e&&(this.editCheck=!1,this.editedUser=this.ClearUser,this.e1=1)}},methods:{openRBZ:function(e){this.rbz_username=e.rbz_username,this.rbz_password=e.rbz_password,this.selected_user=e.id,this.dialogUserRBZ=!0,console.log(this.rbz_password)},saveRBZCredentials:function(){var e=this;if(this.rbz_username)if(this.rbz_password){this.dialogloader=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={selected_user:this.selected_user,rbz_username:this.rbz_username,rbz_password:this.rbz_password};A.a.post(this.nodeApi+"/updateUsersRBZCredentials",a,{headers:t}).subscribe((function(t){t.data.data.one?(e.initializeUser(),e.dialogUserRBZ=!1,e.dialogloader=!1,e.$swal.fire({type:"success",title:"Update RBZ Credentials",text:"You have successfully updated this users rbz credentials"})):e.$swal.fire({type:"error",title:"Update RBZ Credentials Failed",text:t.data.message})}),(function(t){e.$swal.fire("User Link Error",t,"error")}))}else this.$swal.fire({type:"error",title:"Update RBZ Credentials Failed",text:"Please enter a valid password"});else this.$swal.fire({type:"error",title:"Update RBZ Credentials Failed",text:"Please enter a valid user name"})},LinkUserToBranch:function(e){var t=this;this.dialogAddUserList=!1;var a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.put(this.nodeApi+"/updateUsersWhatsList/"+e,{value:1},{headers:a}).subscribe((function(e){e.data.data.one?(t.getAllUserTypes2(),t.$swal.fire({type:"success",title:"User Added",text:"User Added was added successfully"})):t.$swal.fire({type:"error",title:"User Adding Failed",text:e.data.message})}),(function(e){t.$swal.fire("User Link Error",e,"error")}))},LinkUserToBranch5:function(e){var t=this;this.dialogAddUserList5=!1;var a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.put(this.nodeApi+"/updateUsersWhatsList5/"+e,{value:1},{headers:a}).subscribe((function(e){e.data.data.one?(t.getAllUserTypes2(),t.$swal.fire({type:"success",title:"User Added",text:"User Added was added successfully"})):t.$swal.fire({type:"error",title:"User Adding Failed",text:e.data.message})}),(function(e){t.$swal.fire("User Link Error",e,"error")}))},getAllUsersByBranch:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getUsersByCol",{col:"branch_id",value:e},{headers:a}).subscribe((function(e){t.UserLinkData=e.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllNullUsersByBranch:function(){var e=this;if(""!=this.UserLinkFormData.branch_name){this.dialogAddUserList=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllUserTypesAlertsNun",{headers:t}).subscribe((function(t){e.UserLinkDataNull=t.data.data.one.recordset}),(function(e){return console.log(e)}))}else this.$swal.fire("User Link Error","Please select a branch to add a user.","error")},getAllNullUsersByBranch5:function(){var e=this;if(""!=this.UserLinkFormData.branch_name){this.dialogAddUserList5=!0;var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllUserTypesAlertsNun5",{headers:t}).subscribe((function(t){e.UserLinkDataNull5=t.data.data.one.recordset}),(function(e){return console.log(e)}))}else this.$swal.fire("User Link Error","Please select a branch to add a user.","error")},restPassword:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.$swal.fire({title:"Are you sure you want to rest password?",text:"default password is : 123456789",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Rest Password!"}).then((function(r){if(r.value){var s={password:123456789,email:e.email};A.a.post(t.nodeApi+"/updateUserPassword",s,{headers:a}).subscribe((function(e){t.$swal.fire({type:"success",title:"Password Rest",text:"Password rest successfully"})}),(function(e){return console.log(e)}))}}))},addFloatAccount:function(e){console.log(e)},openEditUser:function(){this.dialogUserEdit=!0},getUserStatus:function(e){return 0==e?"Disabled":1==e?"Active":void 0},getUserType:function(e){return 1==e?"Admin":2==e?"Teller":3==e?"Supervisor":4==e?"Manager":5==e?"Treasury":void 0},openAddNewUser:function(){this.dialogUser=!0,this.getAllUserTypes()},openAddNewUser1:function(){this.dialogUser1=!0,this.getAllUserTypes2()},getAllUserTypes:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllUserTypes",{headers:t}).subscribe((function(t){e.userlevelData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllUserTypes2:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllUserTypesAlerts",{headers:t}).subscribe((function(e){a.UserLinkData=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllUserTypesAlerts5",{headers:t}).subscribe((function(e){a.UserLinkData5=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTelePhone:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.editedUser.country=t.country.name,this.editedUser.country_code=t.country.iso2),t.isValid||(this.isActive=!0)},saveNewUser:function(){var e=this;if(this.editedUser.user_type)if(this.editedUser.username)if(this.editedUser.first_name&&this.editedUser.last_name)if(this.editedUser.email)if(this.validateEmail(this.editedUser.email))if(this.isValidPhone){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.editedUser.created_by=this.$session.get("user").userdetails.id,A.a.post(this.nodeApi+"/createUser",this.editedUser,{headers:t,timeout:5e3}).subscribe((function(t){t.data.message.one?(e.editedUser=e.ClearUser,e.initializeUser(),e.addUserFloat(t.data.message.one.recordset.insertId),e.dialogUser=!1,e.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})):e.$swal.fire({type:"error",title:"User Adding Failed",text:t.data.message})}),(function(t){e.dialogloader=!1,e.$swal.fire("User Adding","Failed to add branch account, probably because the user already has this type of account","error")}))}else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Email Error","Please enter an email.","error");else this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error");else this.$swal.fire("User Name Error","Please enter a User Name.","error");else this.$swal.fire("User type Error","Please select a user type.","error")},addUserFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={branch_id:2037,user_id:t,amount:0,currency_id:2,handover_type:1,status:2,created_by:this.$session.get("user").userdetails.id},r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=4,A.a.post(this.nodeApi+"/addUserFloat2",a,{headers:r,timeout:5e3}).subscribe((function(e){e.data.data.one?s.$swal.fire({type:"success",title:"User Account Adding",text:"User account was added successfully"}):(s.dialogloader=!1,s.$swal.fire({type:"error",title:"User Account Adding",text:e.data.message}))}),(function(e){s.dialogloader=!1,s.$swal.fire("User Account Adding Error","Failed to add user account, probably because the user already has this type of account","error")}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},editItemUser:function(e){this.getAllUserTypes(),this.editedIndexUser=this.UsersData.indexOf(e),this.editedUser=Object.assign({},e),this.editCheck=!0,this.dialogUser=!0},deleteItemUser:function(e){var t=this;this.UsersData.indexOf(e);this.$swal.fire({title:"Disable User?",text:"Are you sure you want to remove this user from list !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, disable!"}).then((function(a){if(a.value){var r={"Content-Type":"application/json",Authorization:"Bearer "+t.$session.get("user").token};A.a.put(t.nodeApi+"/updateUsersWhatsList/"+e.id,{value:0},{headers:r}).subscribe((function(e){e.data.data.one?(t.getAllUserTypes2(),t.$swal.fire({type:"success",title:"User Removed",text:"User Removed was added successfully"})):t.$swal.fire({type:"error",title:"User Removing Failed",text:e.data.message})}),(function(e){t.$swal.fire("User Link Error",e,"error")}))}}))},deleteItemUser5:function(e){var t=this;this.UsersData.indexOf(e);this.$swal.fire({title:"Disable User?",text:"Are you sure you want to remove this user from list !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, disable!"}).then((function(a){if(a.value){var r={"Content-Type":"application/json",Authorization:"Bearer "+t.$session.get("user").token};A.a.put(t.nodeApi+"/updateUsersWhatsList5/"+e.id,{value:0},{headers:r}).subscribe((function(e){e.data.data.one?(t.getAllUserTypes2(),t.$swal.fire({type:"success",title:"User Removed",text:"User Removed was added successfully"})):t.$swal.fire({type:"error",title:"User Removing Failed",text:e.data.message})}),(function(e){t.$swal.fire("User Link Error",e,"error")}))}}))},saveUser:function(){var e=this;if(this.editedUser.email=this.editedUser.email.replace(/\s/g,""),this.editedUser.user_type)if(this.editedUser.username)if(this.editedUser.first_name&&this.editedUser.last_name)if(this.editedUser.email)if(this.isValidPhone)if(this.validateEmail(this.editedUser.email)){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.put(this.nodeApi+"/updateUsers/"+this.editedUser.id,this.editedUser,{headers:t,timeout:5e3}).subscribe((function(t){t.data.data.one?(e.editedUser=e.ClearUser,e.initializeUser(),e.dialogUser=!1,e.$swal.fire({type:"success",title:"User edit",text:"User was edit successfully"})):e.$swal.fire({type:"error",title:"User Adding Edit",text:t.data.message})}),(function(t){e.dialogloader=!1,e.$swal.fire("User Adding","Failed to edit user, probably because another user has the same email or phone number.","error")}))}else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Email Error","Please enter an email.","error");else this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error");else this.$swal.fire("User Name Error","Please enter a User Name.","error");else this.$swal.fire("User type Error","Please select a user type.","error")},initializeUser:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllUsers",{headers:t}).subscribe((function(t){e.UsersData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},closeUser:function(){var e=this;this.editCheck=!1,this.dialogUser=!1,setTimeout((function(){e.editedUser=Object.assign({},e.defaultUser),e.editedIndexUser=-1}),300)}}},Aa=Ta,Da=Object(d["a"])(Aa,Ca,ka,!1,null,"f3f2a0d0",null),Sa=Da.exports;h()(Da,{VAlert:R["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VProgressLinear:K["a"],VSelect:J["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"],VTooltip:ue["a"]});var Ba=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"green"}},[e._v("Dashboard")]),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("33e0")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h5",[e._v("Banking Market Information")]),r("h5",{staticClass:"h4Rev"},[e._v("$100.36")]),r("p",[e._v("Total income")])])],1)],1)],1)],1),r("v-flex",{attrs:{md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("ee6c")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h5",[e._v("Demand & Supply Information")]),r("h5",{staticClass:"h4Rev"},[e._v("$100.36")]),r("p",[e._v("Total income")])])],1)],1)],1)],1),r("v-flex",{attrs:{md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("2bf8")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h5",[e._v("Economic Information")]),r("h5",{staticClass:"h4Rev"},[e._v("$100.36")]),r("p",[e._v("Total income")])])],1)],1)],1)],1),r("v-flex",{attrs:{md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("2611")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h5",[e._v("Currency Information")]),r("h5",{staticClass:"h4Rev"},[e._v("$100.36")]),r("p",[e._v("Total income")])])],1)],1)],1)],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{attrs:{md6:"","pa-2":""}},[r("v-flex",[r("v-card",{attrs:{hover:""}},[r("BookingChart",{staticClass:"echart"})],1)],1)],1),r("v-flex",{attrs:{md6:"","pa-2":""}},[r("v-flex",[r("v-card",{attrs:{hover:""}},[r("MarketRates",{staticClass:"echart2"})],1)],1)],1)],1)],1)},Fa=[],Ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},$a=[],Ua={components:{"v-chart":Ne["a"]},props:{TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],data:500,totalBuys:0,totalSells:0,totalBuysRate:0,totalSellsRate:0,currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="USD",this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol)},watch:{ToggleCurrency:function(e){this.currSymbol=e,this.TimePeriod>0?this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol):0==this.TimePeriod?this.loadGraphData(this.currSymbol):this.loadGraphDataBuyDateSpecific(this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol),console.log(e)},TimePeriod:function(e){this.dateValue=e,e>0?this.loadGraphDataBuyDate(e,this.currSymbol):0==e?this.loadGraphData(this.currSymbol):this.loadGraphDataBuyDateSpecific(e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByCurr",{currency_id:t},{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByDateCurr",{currency_id:a,time:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData,a)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDateSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByDateSpecificCurr",{currency_id:r,start_date:t,end_date:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.getData(n.rawData,r)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=this,r=[];e.reduce((function(e,t){return e[t.branch_name.replace(/\s/g,"")]||(e[t.branch_name.replace(/\s/g,"")]={branch_name:t.branch_name.replace(/\s/g,""),received_sum:0,disbursed_sum:0,average_rate_buy:0,average_rate_sell:0},r.push(e[t.branch_name.replace(/\s/g,"")])),"Buy"==t.tran_type.replace(/\s/g,"")&&(e[t.branch_name.replace(/\s/g,"")].received_sum=parseInt(t.received_sum,10),e[t.branch_name.replace(/\s/g,"")].average_rate_buy=parseFloat(t.average_rate).toFixed(2)),"Sell"==t.tran_type.replace(/\s/g,"")&&(e[t.branch_name.replace(/\s/g,"")].disbursed_sum=parseInt(t.disbursed_sum,10),e[t.branch_name.replace(/\s/g,"")].average_rate_sell=parseFloat(t.average_rate).toFixed(2)),e}),{});var s=[],n=[],i=[],o=[],l=[];this.totalBuys=0,this.totalSells=0,this.totalBuysRate=0,this.totalSellsRate=0,r.forEach((function(e){-1==s.indexOf(e.branch_name.replace(/\s/g,""))&&s.push(e.branch_name.replace(/\s/g,""))})),r.forEach((function(e){n.push(parseFloat(e.received_sum).toFixed(2)),i.push(parseFloat(e.disbursed_sum).toFixed(2)),o.push(parseFloat(e.average_rate_buy).toFixed(2)),l.push(parseFloat(e.average_rate_sell).toFixed(2)),a.totalBuys+=e.received_sum,a.totalSells+=e.disbursed_sum,a.totalBuysRate+=e.average_rate_buy,a.totalSellsRate+=e.average_rate_sell})),this.polar={title:{subtext:"Full-Total Buys : ".concat(t," ").concat(parseFloat(this.totalBuys).toFixed(2)," @ Ave Rate : ").concat(parseFloat(this.totalBuysRate).toFixed(2)," | Full-Total Sells : ").concat(t," ").concat(parseFloat(this.totalSells).toFixed(2)," @ Ave Rate : ").concat(parseFloat(this.totalSellsRate).toFixed(2)),left:10,subtextStyle:{color:"#3949AB"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"bottom",data:["Total FX Buy","Total FX Sell","Ave.Buy Rate","Ave.Sell Rate"]},xAxis:{type:"category",data:s},yAxis:{type:"value"},series:[{name:"Total FX Buy",data:n,type:"bar"},{name:"Ave.Buy Rate",data:o,type:"line"},{name:"Total FX Sell",data:i,type:"bar"},{name:"Ave.Sell Rate",data:l,type:"line"}]}}}},ja=Ua,Pa=(a("b4d0"),Object(d["a"])(ja,Ra,$a,!1,null,"3ed0d506",null)),Oa=Pa.exports,Na={components:{BookingChart:ze,MarketRates:Oa},data:function(){return{CurrencyPair:""}},mounted:function(){}},Ia=Na,Ea=(a("1c0c"),Object(d["a"])(Ia,Ba,Fa,!1,null,"ff29ed92",null)),Va=Ea.exports;h()(Ea,{VCard:j["a"],VFlex:M["a"],VLayout:W["a"]});var za=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",{staticStyle:{color:"grey","margin-top":"20px"}},[e._v("Dashboard : Supervisor")]),r("v-btn-toggle",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{mandatory:"",color:"primary"},model:{value:e.toggleCurr,callback:function(t){e.toggleCurr=t},expression:"toggleCurr"}},e._l(e.toggleCurrencies,(function(t){return r("v-btn",{key:t.id,attrs:{value:t.symbol}},[e._v("\n      "+e._s(t.symbol)+"\n    ")])})),1),r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.allRates,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md6:"",lg3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:e.image+t.image}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"green"}},[e._v("Buy@ "+e._s(t.buy_rate))]),r("h3",{staticStyle:{color:"red"}},[e._v("Sell@ "+e._s(t.sell_rate))])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},e._l(e.totalFloat,(function(t){return r("v-flex",{key:t.id,attrs:{md2:"","pa-2":""},on:{settlement:e.completeFuncton}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:e.image+t.image}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v(e._s(t.symbol))]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(parseFloat(t.amount).toFixed(2)))])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"","justify-end":""}},[r("v-flex",{attrs:{md4:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("ee6c")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Users")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allUsersCount))])])],1)],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg6:"","pa-2":""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Branch Float Analysis")]),r("v-card",{attrs:{hover:""}},[r("SuperGraph1",{staticClass:"echart",attrs:{ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Branch Average Rate & Transaction Analysis")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" Today ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" This Week ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Current Month ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v(" Over-all ")])],1),r("v-btn",{staticClass:"white--text",attrs:{disabled:e.disable,color:"#ECB530"},on:{click:function(t){e.dialogdaterange2=!0}}},[e._v("\n              Range\n            ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("SuperGraph2",{staticClass:"echart2",attrs:{TimePeriod:e.timeP,Branch:e.branch2,ToggleCurrency:e.toggleCurr}})],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange2,callback:function(t){e.dialogdaterange2=t},expression:"dialogdaterange2"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.start_date2,callback:function(t){e.start_date2=t},expression:"start_date2"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.end_date2,callback:function(t){e.end_date2=t},expression:"end_date2"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange2=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange2}},[e._v("Filter")])],1)],1)],1)},Ma=[],La=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},Wa=[],Ga={components:{"v-chart":Ne["a"]},props:{Branch:Number,ToggleCurrency:""},data:function(){return{polar:{},graphAPi:"http://dev.contipay.co.zw:82/https://api-dev.contipay.co.zw/graphsApi?authorization=",nodeApi:"http://localhost:8081",currencyData:[],currencyDataActive:[],branchData:[],branch_id:1,graphData:[],rawData:[],currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="USD",2==this.$session.get("user").userdetails.user_type?this.loadGraphDataBuyBranch(this.branch_id,this.currSymbol):this.loadGraphData(this.currSymbol)},watch:{ToggleCurrency:function(e){2==this.$session.get("user").userdetails.user_type?(this.currSymbol=e,this.loadGraphDataBuyBranch(this.Branch,this.currSymbol)):(this.currSymbol=e,this.loadGraphData(this.currSymbol))},Branch:function(e){this.branch_id=e,this.loadGraphDataBuyBranch(this.branch_id,this.currSymbol)}},methods:{loadGraphDataBuyBranch:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerFloatGraph3",{branch_id:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData,a)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerFloatGraph3",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=[];e.forEach((function(e){-1==r.indexOf(e.username.replace(/\s/g,""))&&r.push(e.username.replace(/\s/g,""))})),e.forEach((function(e){-1==a.indexOf(e.symbol.replace(/\s/g,""))&&a.push(e.symbol.replace(/\s/g,""))})),e.forEach((function(e,a){"Coin"==e.symbol.replace(/\s/g,"")&&s.push(parseFloat(e.amount).toFixed(2)),"Bond"==e.symbol.replace(/\s/g,"")&&o.push(parseFloat(e.amount).toFixed(2)),"RTGS"==e.symbol.replace(/\s/g,"")&&n.push(parseFloat(e.amount).toFixed(2)),"Ecocash"==e.symbol.replace(/\s/g,"")&&i.push(parseFloat(e.amount).toFixed(2)),e.symbol.replace(/\s/g,"")==t&&l.push(parseFloat(e.amount).toFixed(2))})),this.polar={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:"Coin",type:"bar",stack:"",data:s},{name:"RTGS",type:"bar",stack:"",data:n},{name:"Ecocash",type:"bar",stack:"",data:i},{name:"Bond",type:"bar",stack:"",data:o},{name:t,type:"bar",data:l}]}}}},Ya=Ga,Ha=(a("e24e"),Object(d["a"])(Ya,La,Wa,!1,null,"1349a985",null)),qa=Ha.exports,Za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},Ka=[],Ja={components:{"v-chart":Ne["a"]},props:{Branch:Number,TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],branch_id:1,time:0,currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="USD",2==this.$session.get("user").userdetails.user_type?this.loadGraphDataBuyBranch(this.branch_id,this.currSymbol):this.loadGraphData()},watch:{Branch:function(e){this.branch_id=e,this.loadGraphDataBuyBranch(this.branch_id,this.time,this.currSymbol)},ToggleCurrency:function(e){this.currSymbol=e,e>0?(this.time=e,this.loadGraphDataBuyBranch(this.branch_id,this.TimePeriod,this.currSymbol)):0==e?this.loadGraphDataBuyBranch2(this.branch_id,this.currSymbol):this.TimePeriod.start_date&&this.loadGraphDataBuyBranchSpecific(this.branch_id,this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol)},TimePeriod:function(e){console.log(e),e>0?(this.time=e,this.loadGraphDataBuyBranch(this.branch_id,e,this.currSymbol)):0==e?this.loadGraphDataBuyBranch2(this.branch_id,this.currSymbol):e.start_date&&this.loadGraphDataBuyBranchSpecific(this.branch_id,e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphDataBuyBranchSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r,s){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraphByDateSpecificCurr",{currency_id:s,branch_id:t,start_date:a,end_date:r},{headers:n}).subscribe((function(e){i.rawData=e.data.data.one.recordset,i.getData(i.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r,s){return e.apply(this,arguments)}return t}(),loadGraphDataBuyBranch:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraphByDateCurr",{currency_id:r,branch_id:t,time:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.getData(n.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),loadGraphDataBuyBranch2:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraphCurr",{currency_id:a,branch_id:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraph",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.rawData=e.data.data.one.recordset,a.getData(a.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getData:function(e){var t=[],a=[["product","Sells","Buys"]];e.forEach((function(e){-1==t.indexOf(e.username.replace(/\s/g,""))&&a.push([e.username.replace(/\s/g,"")])})),e.forEach((function(e){"Buy"==e.tran_type.replace(/\s/g,"")&&a.forEach((function(t,r){t[0]==e.username&&a[r].push(parseFloat(e.received_sum).toFixed(2))})),"Sell"==e.tran_type.replace(/\s/g,"")&&a.forEach((function(t,r){t[0]==e.username&&a[r].push(parseFloat(e.disbursed_sum).toFixed(2))}))})),console.log(a),this.polar={legend:{},tooltip:{},dataset:{source:a},xAxis:{type:"category"},yAxis:{},series:[{type:"bar"},{type:"bar"}]}}}},Qa=Ja,Xa=(a("debe"),Object(d["a"])(Qa,Za,Ka,!1,null,"60f67efd",null)),er=Xa.exports,tr={components:{SuperGraph1:qa,SuperGraph2:er},data:function(){var e;return e={nodeApi:"http://localhost:8081",image:"/img/",CurrencyPair:"",timeP:0,disable:!1,dialogdaterange2:!1,allClients:[],totalFloat:[],branch2:1,allClientsCount:0,allUsersCount:0,allBranchesCount:0,toggleCurrencies:[],toggleCurr:"",toggle:"",allUsers:[],allRates:[]},Object(C["a"])(e,"totalFloat",[]),Object(C["a"])(e,"start_date2",null),Object(C["a"])(e,"end_date2",null),e},mounted:function(){this.branch2=this.$session.get("user").userdetails.branch_id,this.timeP=1,this.toggle="1",this.toggleCurr="USD",this.getAllRates(),this.getAllUsers(),this.getAllToggleCurrencies(),this.getAllUserFloats()},watch:{toggle:function(e){"1"==e&&(this.timeP=1),"2"==e&&(this.timeP=8),"3"==e&&(this.timeP=31),"4"==e&&(this.timeP=0)}},methods:{daterange2:function(){if(this.start_date2&&this.end_date2){var e=new Date(this.end_date2);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date2=t.substring(0,10),this.timeP={start_date:this.start_date2,end_date:this.end_date2},this.dialogdaterange2=!1,this.start_date2=null,this.end_date2=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},getAllUserFloats:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchDashFloatByCol",{col:"branch_id",value:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.totalFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),completeFuncton:function(e){console.log(e),"complete"==e&&(this.getAllUserFloats(),this.refresh())},getAllToggleCurrencies:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllToggleCurrencies",{headers:t}).subscribe((function(e){a.toggleCurrencies=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllUsers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getUsersByCol",{col:"branch_id",value:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.allUsers=e.data.data.one.recordset,a.allUsersCount=a.allUsers.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTotalFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.totalFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ar=tr,rr=(a("5471"),a("a609")),sr=Object(d["a"])(ar,za,Ma,!1,null,"75af9117",null),nr=sr.exports;h()(sr,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardTitle:O["a"],VDialog:V["a"],VFlex:M["a"],VLayout:W["a"],VSpacer:Q["a"],VTextField:oe["a"]});var ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("h2",{staticStyle:{color:"grey","margin-top":"15px"}},[e._v("Dashboard : Manager | Treasury")]),1==e.dashboardPage?r("v-btn-toggle",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{mandatory:"",color:"primary"},model:{value:e.toggleCurr,callback:function(t){e.toggleCurr=t},expression:"toggleCurr"}},e._l(e.toggleCurrencies,(function(t){return r("v-btn",{key:t.id,attrs:{value:t.symbol}},[e._v("\n        "+e._s(t.symbol)+"\n      ")])})),1):e._e(),r("v-btn",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{small:"",color:"primary"},on:{click:function(t){e.dialogSummaryAccount=!0}}},[e._v("\n      Transaction & Float Summary\n    ")]),r("v-dialog",{staticStyle:{"z-index":"99"},attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialogSummaryAccount,callback:function(t){e.dialogSummaryAccount=t},expression:"dialogSummaryAccount"}},[r("v-card",{attrs:{color:"#EBEFF3"}},[r("v-toolbar",{attrs:{dark:"",color:"#1976D2"}},[r("v-toolbar-title",[e._v("Transaction & Float Summary")]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{depressed:"",color:"#1976D2",text:""},on:{click:function(t){e.dialogSummaryAccount=!1}}},[e._v("Close")])],1)],1),r(e.page,{tag:"component",attrs:{currency_id:e.toggleCurr,date:e.dater}})],1)],1)],1),1==e.dashboardPage?r("div",[r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.allRates,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md6:"",lg3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:e.image+t.image}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"green"}},[e._v("Buy@ "+e._s(t.buy_rate))]),r("h3",{staticStyle:{color:"red"}},[e._v("Sell@ "+e._s(t.sell_rate))])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("33e0")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Branches")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allBranchesCount))])])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("ee6c")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Users")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allUsersCount))])])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("2bf8")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Clients")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allClientsCount))])])],1)],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Branch Float Analysis")])])],1),r("v-card",{attrs:{hover:""}},[r("BookingChart",{staticClass:"echart",attrs:{ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Branch Average Rate & Transaction Analysis")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" Today ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" This Week ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Current Month ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v(" Over-all ")])],1),r("v-btn",{staticClass:"white--text",attrs:{disabled:e.disable,color:"#ECB530"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("MarketRates",{staticClass:"echart2",attrs:{TimePeriod:e.timeP,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Totals History")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle2,callback:function(t){e.toggle2=t},expression:"toggle2"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" Last 7 days ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" Last 30 days ")])],1),r("v-btn",{staticClass:"white--text",attrs:{disabled:e.disable,color:"#ECB530"},on:{click:function(t){e.dialogdaterange3=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("MarketRates2",{staticClass:"echart2",attrs:{TimePeriod:e.timeS,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Teller Float Analysis")])]),r("v-spacer"),r("v-flex",[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch}})],1)],1),r("v-card",{attrs:{hover:""}},[r("SuperGraph1",{staticClass:"echart",attrs:{Branch:e.branch,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":"",md3:""}},[r("h3",[e._v("Teller Average R & T")])]),r("v-flex",{attrs:{md2:""}},[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch2}})],1),r("v-spacer"),r("v-flex",{attrs:{"mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.togglebranch,callback:function(t){e.togglebranch=t},expression:"togglebranch"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" Today ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" This Week ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Current Month ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v(" Over-all ")])],1),r("v-btn",{staticClass:"white--text",attrs:{disabled:e.disable,color:"#ECB530"},on:{click:function(t){e.dialogdaterange2=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("SuperGraph2",{staticClass:"echart2",attrs:{TimePeriod:e.timePP,Branch:e.branch2,ToggleCurrency:e.toggleCurr}})],1)],1)],1)],1)],1):e._e(),2==e.dashboardPage?r("div",[r("WorldRemit")],1):e._e(),3==e.dashboardPage?r("div",[r("ContiSend")],1):e._e(),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange2,callback:function(t){e.dialogdaterange2=t},expression:"dialogdaterange2"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.start_date2,callback:function(t){e.start_date2=t},expression:"start_date2"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.end_date2,callback:function(t){e.end_date2=t},expression:"end_date2"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange2=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange2}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange3,callback:function(t){e.dialogdaterange3=t},expression:"dialogdaterange3"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange3(t)}},model:{value:e.start_date3,callback:function(t){e.start_date3=t},expression:"start_date3"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange3(t)}},model:{value:e.end_date3,callback:function(t){e.end_date3=t},expression:"end_date3"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange3=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange3}},[e._v("Filter")])],1)],1)],1)},or=[],lr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},cr=[],dr={components:{"v-chart":Ne["a"]},props:{TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],rawData2:[],currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="USD",this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol)},watch:{ToggleCurrency:function(e){this.currSymbol=e,this.TimePeriod>0?this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol):this.loadGraphDataBuyDateSpecific(this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol)},TimePeriod:function(e){e>0?this.loadGraphDataBuyDate(e,this.currSymbol):this.loadGraphDataBuyDateSpecific(e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphDataBuyDate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSalesByDateGraphCurr",{currency_id:a,time:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.rawData2=e.data.data.two.recordset,s.getData(s.rawData,s.rawData2,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDateSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSalesByDateGraphSpecificCurr",{currency_id:r,start_date:t,end_date:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.rawData2=e.data.data.two.recordset,n.getData2(n.rawData,n.rawData2)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getData:function(e,t,a){var r=[],s=[],n=[],i=[],o=[],l=[];if(7==a){var c=0;e.forEach((function(e){r.push(e.day_name),n.push(parseFloat(e.receive_amount).toFixed(2)),o.push(parseFloat(e.avg_rate).toFixed(2)),t.length>0&&(e.date_t==t[c].date_t?(s.push(t[c].day_name),i.push(parseFloat(t[c].disbure_amount).toFixed(2)),l.push(parseFloat(t[c].avg_rate).toFixed(2)),c+=1):(s.push(e.day_name),i.push(parseFloat(0).toFixed(2)),l.push(parseFloat(0).toFixed(2))))}))}else if(30==a){c=0;e.forEach((function(e){r.push(e.date_t),n.push(parseFloat(e.receive_amount).toFixed(2)),o.push(parseFloat(e.avg_rate).toFixed(2)),t.length>0&&(e.date_t==t[c].date_t?(s.push(t[c].date_t),i.push(parseFloat(t[c].disbure_amount).toFixed(2)),l.push(parseFloat(t[c].avg_rate).toFixed(2)),c+=1):(s.push(e.date_t),i.push(parseFloat(0).toFixed(2)),l.push(parseFloat(0).toFixed(2))))}))}this.polar={title:{text:"Buys and Sales Totals"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Buys","Sells","Ave.Buy Rate","Ave.Sell Rate"],itemGap:5},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:"Buys",type:"bar",areaStyle:{},data:n},{name:"Sells",type:"bar",areaStyle:{},data:i},{name:"Ave.Buy Rate",type:"line",areaStyle:{},data:o},{name:"Ave.Sell Rate",type:"line",areaStyle:{},data:l}]}},getData2:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=0;e.forEach((function(e){a.push(e.day_name),s.push(parseFloat(e.receive_amount).toFixed(2)),i.push(parseFloat(e.avg_rate).toFixed(2)),t.length>0&&(e.date_t==t[l].date_t?(r.push(t[l].day_name),n.push(parseFloat(t[l].disbure_amount).toFixed(2)),o.push(parseFloat(t[l].avg_rate).toFixed(2)),l+=1):(r.push(e.day_name),n.push(parseFloat(0).toFixed(2)),o.push(parseFloat(0).toFixed(2))))})),this.polar={title:{text:"Buys and Sales Totals"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Buys","Sells","Ave.Buy Rate","Ave.Sell Rate"],itemGap:5},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:a}],yAxis:[{type:"value"}],series:[{name:"Buys",type:"bar",areaStyle:{},data:s},{name:"Sells",type:"bar",areaStyle:{},data:n},{name:"Ave.Buy Rate",type:"line",areaStyle:{},data:i},{name:"Ave.Sell Rate",type:"line",areaStyle:{},data:o}]}}}},ur=dr,hr=(a("9282"),Object(d["a"])(ur,lr,cr,!1,null,"1cc63594",null)),pr=hr.exports,mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("33e0")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Branches")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allBranchesCount))])])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("ee6c")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Users")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allUsersCount))])])],1)],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Branch Float Analysis")])])],1),r("v-card",{attrs:{hover:""}},[r("BookingChart2",{staticClass:"echart",attrs:{ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Transaction Analysis")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                Today\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                This Week\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n                Current Month\n              ")]),r("v-btn",{attrs:{flat:"",value:"5"}},[e._v("\n                Last Month\n              ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v("\n               Over-all\n              ")])],1),r("v-btn",{attrs:{disabled:e.disable,color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("MarketRates3",{staticClass:"echart2",attrs:{TimePeriod:e.timeP,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Totals History ")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle2,callback:function(t){e.toggle2=t},expression:"toggle2"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                Last 7 days\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                Last 30 days\n              ")])],1),r("v-btn",{attrs:{disabled:e.disable,color:"primary"},on:{click:function(t){e.dialogdaterange3=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("MarketRates4",{staticClass:"echart2",attrs:{TimePeriod:e.timeS,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Teller Float Analysis")])]),r("v-spacer"),r("v-flex",[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch}})],1)],1),r("v-card",{attrs:{hover:""}},[r("SuperGraph11",{staticClass:"echart",attrs:{Branch:e.branch,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":"",md3:""}},[r("h3",[e._v("Teller Average R & T")])]),r("v-flex",{attrs:{md2:""}},[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch2}})],1),r("v-spacer"),e.branchSelected?r("v-flex",{attrs:{"mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.togglebranch,callback:function(t){e.togglebranch=t},expression:"togglebranch"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                Today\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                This Week\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n                Current Month\n              ")]),r("v-btn",{attrs:{flat:"",value:"5"}},[e._v("\n                Last Month\n              ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v("\n               Over-all\n              ")])],1),r("v-btn",{attrs:{disabled:e.disable,color:"primary"},on:{click:function(t){e.dialogdaterange2=!0}}},[e._v("\n                Range\n              ")])],1):e._e()],1),r("v-card",{attrs:{hover:""}},[r("SuperGraph22",{staticClass:"echart2",attrs:{TimePeriod:e.timePP,Branch:e.branch2,ToggleCurrency:e.toggleCurr}})],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange2,callback:function(t){e.dialogdaterange2=t},expression:"dialogdaterange2"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.start_date2,callback:function(t){e.start_date2=t},expression:"start_date2"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.end_date2,callback:function(t){e.end_date2=t},expression:"end_date2"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange2=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange2}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange3,callback:function(t){e.dialogdaterange3=t},expression:"dialogdaterange3"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange3(t)}},model:{value:e.start_date3,callback:function(t){e.start_date3=t},expression:"start_date3"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange3(t)}},model:{value:e.end_date3,callback:function(t){e.end_date3=t},expression:"end_date3"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange3=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange3}},[e._v("Filter")])],1)],1)],1)},fr=[],gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},vr=[],_r={components:{"v-chart":Ne["a"]},props:{ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",currencyData:[],currencyDataActive:[],branchData:[],graphData:[],rawData:[]}},mounted:function(){this.loadGraphData("WR USD")},watch:{ToggleCurrency:function(e){}},methods:{loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getBranchFloatGraph3",{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=[],c=0;e.forEach((function(e){-1==r.indexOf(e.branch.replace(/\s/g,""))&&r.push(e.branch.replace(/\s/g,""))})),e.forEach((function(e){-1==a.indexOf(e.symbol)&&a.push(e.symbol)})),e.forEach((function(e,a){"Coin"==e.symbol.replace(/\s/g,"")&&(s.push(parseFloat(e.amount).toFixed(2)),e.amount),"Bond"==e.symbol.replace(/\s/g,"")&&(o.push(parseFloat(e.amount).toFixed(2)),e.amount),"RTGS"==e.symbol.replace(/\s/g,"")&&(n.push(parseFloat(e.amount).toFixed(2)),e.amount),"Ecocash"==e.symbol.replace(/\s/g,"")&&(i.push(parseFloat(e.amount).toFixed(2)),e.amount),e.symbol==t&&(l.push(parseFloat(e.amount).toFixed(2)),c+=e.amount)})),this.polar={title:{subtext:"Total Float : ".concat(t," ").concat(parseFloat(c).toFixed(2)," "),subtextStyle:{color:"#2A2A72"},left:10},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"bottom",data:a},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:t,type:"bar",data:l,itemStyle:{color:"green"}}]}}}},br=_r,yr=(a("0d42"),Object(d["a"])(br,gr,vr,!1,null,"2f39653d",null)),xr=yr.exports,wr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},Cr=[],kr={components:{"v-chart":Ne["a"]},props:{TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],data:500,totalBuys:0,totalSells:0,totalBuysRate:0,totalSellsRate:0,currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="WR USD",this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol)},watch:{ToggleCurrency:function(e){this.TimePeriod>0?this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol):0==this.TimePeriod?this.loadGraphData(this.currSymbol):this.loadGraphDataBuyDateSpecific(this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol)},TimePeriod:function(e){this.dateValue=e,e>0?this.loadGraphDataBuyDate(e,this.currSymbol):0==e?this.loadGraphData(this.currSymbol):this.loadGraphDataBuyDateSpecific(e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByCurr",{currency_id:t},{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByDateCurr",{currency_id:a,time:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData,a)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDateSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByDateSpecificCurr",{currency_id:r,start_date:t,end_date:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.getData(n.rawData,r)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=this,r=[];e.reduce((function(e,t){return e[t.branch_name.replace(/\s/g,"")]||(e[t.branch_name.replace(/\s/g,"")]={branch_name:t.branch_name.replace(/\s/g,""),received_sum:0,disbursed_sum:0,average_rate_buy:0,average_rate_sell:0},r.push(e[t.branch_name.replace(/\s/g,"")])),"Buy"==t.tran_type.replace(/\s/g,"")&&(e[t.branch_name.replace(/\s/g,"")].received_sum=parseInt(t.received_sum,10),e[t.branch_name.replace(/\s/g,"")].average_rate_buy=parseFloat(t.average_rate).toFixed(2)),"WorldRemit"==t.tran_type.replace(/\s/g,"")&&(e[t.branch_name.replace(/\s/g,"")].disbursed_sum=parseInt(t.disbursed_sum,10),e[t.branch_name.replace(/\s/g,"")].average_rate_sell=parseFloat(t.average_rate).toFixed(2)),e}),{});var s=[],n=[],i=[],o=[],l=[];this.totalBuys=0,this.totalSells=0,this.totalBuysRate=0,this.totalSellsRate=0,r.forEach((function(e){-1==s.indexOf(e.branch_name.replace(/\s/g,""))&&s.push(e.branch_name.replace(/\s/g,""))})),r.forEach((function(e){n.push(parseFloat(e.received_sum).toFixed(2)),i.push(parseFloat(e.disbursed_sum).toFixed(2)),o.push(parseFloat(e.average_rate_buy).toFixed(2)),l.push(parseFloat(e.average_rate_sell).toFixed(2)),a.totalBuys+=e.received_sum,a.totalSells+=e.disbursed_sum,a.totalBuysRate+=e.average_rate_buy,a.totalSellsRate+=e.average_rate_sell})),this.polar={title:{subtext:"Full-Total WR PayOuts : ".concat(t," ").concat(parseFloat(this.totalSells).toFixed(2)," "),left:10,subtextStyle:{color:"#3949AB"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"bottom",data:["Total WR PayOuts"]},xAxis:{type:"category",data:s},yAxis:{type:"value"},series:[{name:"Total WR PayOuts",data:i,type:"bar"}]}}}},Tr=kr,Ar=(a("3760"),Object(d["a"])(Tr,wr,Cr,!1,null,"1fcca18b",null)),Dr=Ar.exports,Sr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},Br=[],Fr={components:{"v-chart":Ne["a"]},props:{TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],rawData2:[],currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="WR USD",this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol)},watch:{ToggleCurrency:function(e){this.TimePeriod>0?this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol):this.loadGraphDataBuyDateSpecific(this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol)},TimePeriod:function(e){e>0?this.loadGraphDataBuyDate(e,this.currSymbol):this.loadGraphDataBuyDateSpecific(e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphDataBuyDate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSalesByDateGraphCurr2",{currency_id:a,time:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.rawData2=e.data.data.two.recordset,s.getData(s.rawData,s.rawData2,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDateSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSalesByDateGraphSpecificCurr",{currency_id:r,start_date:t,end_date:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.rawData2=e.data.data.two.recordset,n.getData2(n.rawData,n.rawData2)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getData:function(e,t,a){var r=[],s=[],n=[],i=[],o=[],l=[];if(7==a){var c=0;t.forEach((function(e){r.push(e.day_name),n.push(parseFloat(e.receive_amount).toFixed(2)),o.push(parseFloat(e.avg_rate).toFixed(2)),t.length>0&&(e.date_t==t[c].date_t?(s.push(t[c].day_name),i.push(parseFloat(t[c].disbure_amount).toFixed(2)),l.push(parseFloat(t[c].avg_rate).toFixed(2)),c+=1):(s.push(e.day_name),i.push(parseFloat(0).toFixed(2)),l.push(parseFloat(0).toFixed(2))))}))}else if(30==a){c=0;t.forEach((function(e){r.push(e.date_t),n.push(parseFloat(e.receive_amount).toFixed(2)),o.push(parseFloat(e.avg_rate).toFixed(2)),t.length>0&&(e.date_t==t[c].date_t?(s.push(t[c].date_t),i.push(parseFloat(t[c].disbure_amount).toFixed(2)),l.push(parseFloat(t[c].avg_rate).toFixed(2)),c+=1):(s.push(e.date_t),i.push(parseFloat(0).toFixed(2)),l.push(parseFloat(0).toFixed(2))))}))}this.polar={title:{text:"PayOut Totals"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["PayOuts"],itemGap:5},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:"PayOuts",type:"bar",areaStyle:{},data:i}]}},getData2:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=0;e.forEach((function(e){a.push(e.day_name),s.push(parseFloat(e.receive_amount).toFixed(2)),i.push(parseFloat(e.avg_rate).toFixed(2)),t.length>0&&(e.date_t==t[l].date_t?(r.push(t[l].day_name),n.push(parseFloat(t[l].disbure_amount).toFixed(2)),o.push(parseFloat(t[l].avg_rate).toFixed(2)),l+=1):(r.push(e.day_name),n.push(parseFloat(0).toFixed(2)),o.push(parseFloat(0).toFixed(2))))})),this.polar={title:{text:"Buys and Sales Totals"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Buys","Sells","Ave.Buy Rate","Ave.Sell Rate"],itemGap:5},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:a}],yAxis:[{type:"value"}],series:[{name:"Buys",type:"bar",areaStyle:{},data:s},{name:"Sells",type:"bar",areaStyle:{},data:n},{name:"Ave.Buy Rate",type:"line",areaStyle:{},data:i},{name:"Ave.Sell Rate",type:"line",areaStyle:{},data:o}]}}}},Rr=Fr,$r=(a("f9fe"),Object(d["a"])(Rr,Sr,Br,!1,null,"7307474a",null)),Ur=$r.exports,jr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},Pr=[],Or={components:{"v-chart":Ne["a"]},props:{Branch:Number,ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",currencyData:[],currencyDataActive:[],branchData:[],branch_id:1,graphData:[],rawData:[],currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="WR USD",this.branch_id=this.$session.get("user").userdetails.branch_id,3==this.$session.get("user").userdetails.user_type&&this.loadGraphDataBuyBranch(this.branch_id,this.currSymbol)},watch:{ToggleCurrency:function(e){this.loadGraphDataBuyBranch(this.Branch,this.currSymbol)},Branch:function(e){this.branch_id=e,this.loadGraphDataBuyBranch(this.branch_id,this.currSymbol)}},methods:{loadGraphDataBuyBranch:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerFloatGraph3",{branch_id:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData,a)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerFloatGraph3",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.rawData=e.data.data.one.recordset,a.getData(a.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=[];e.forEach((function(e){-1==r.indexOf(e.username.replace(/\s/g,""))&&r.push(e.username.replace(/\s/g,""))})),e.forEach((function(e){-1==a.indexOf(e.symbol)&&a.push(e.symbol)})),e.forEach((function(e,a){"Coin"==e.symbol.replace(/\s/g,"")&&s.push(parseFloat(e.amount).toFixed(2)),"Bond"==e.symbol.replace(/\s/g,"")&&o.push(parseFloat(e.amount).toFixed(2)),"RTGS"==e.symbol.replace(/\s/g,"")&&n.push(parseFloat(e.amount).toFixed(2)),"Ecocash"==e.symbol.replace(/\s/g,"")&&i.push(parseFloat(e.amount).toFixed(2)),e.symbol==t&&l.push(parseFloat(e.amount).toFixed(2))})),this.polar={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:a},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:t,type:"bar",data:l,itemStyle:{color:"green"}}]}}}},Nr=Or,Ir=(a("eaea2"),Object(d["a"])(Nr,jr,Pr,!1,null,"3f14f5ac",null)),Er=Ir.exports,Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},zr=[],Mr={components:{"v-chart":Ne["a"]},props:{Branch:Number,TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],branch_id:1,time:0,currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="WR USD",this.branch_id=this.$session.get("user").userdetails.branch_id,3==this.$session.get("user").userdetails.user_type&&this.loadGraphDataBuyBranch2(this.branch_id,this.currSymbol)},watch:{Branch:function(e){this.branch_id=e,this.loadGraphDataBuyBranch(this.branch_id,this.time,this.currSymbol)},ToggleCurrency:function(e){this.currSymbol=e,e>0?(this.time=e,this.loadGraphDataBuyBranch(this.branch_id,this.TimePeriod,this.currSymbol)):0==e&&this.loadGraphDataBuyBranch2(this.branch_id,this.currSymbol)},TimePeriod:function(e){e>0?(this.time=e,this.loadGraphDataBuyBranch(this.branch_id,e,this.currSymbol)):0==e&&this.loadGraphDataBuyBranch2(this.branch_id,this.currSymbol)}},methods:{loadGraphDataBuyBranchSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r,s){var n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraphByDateSpecificCurr",{currency_id:s,branch_id:t,start_date:a,end_date:r},{headers:n}).subscribe((function(e){i.rawData=e.data.data.one.recordset,i.getData(i.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r,s){return e.apply(this,arguments)}return t}(),loadGraphDataBuyBranch:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraphByDateCurr",{currency_id:r,branch_id:t,time:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.getData(n.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),loadGraphDataBuyBranch2:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraphCurr",{currency_id:a,branch_id:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getTellerSalesGraph",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.rawData=e.data.data.one.recordset,a.getData(a.rawData)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getData:function(e){var t=[],a=[];e.forEach((function(e){-1==t.indexOf(e.username.replace(/\s/g,""))&&t.push(e.username.replace(/\s/g,""))})),e.forEach((function(e){"WorldRemit"==e.tran_type.replace(/\s/g,"")&&a.push(parseFloat(e.disbursed_sum).toFixed(2))})),this.polar={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["Total WR PayOuts"]},xAxis:{type:"category",data:t},yAxis:{type:"value"},series:[{name:"Total WR PayOuts",data:a,type:"bar"}]}}}},Lr=Mr,Wr=(a("92db"),Object(d["a"])(Lr,Vr,zr,!1,null,"64f32cd8",null)),Gr=Wr.exports,Yr={components:{BookingChart2:xr,MarketRates3:Dr,MarketRates4:Ur,SuperGraph11:Er,SuperGraph22:Gr},data:function(){return{nodeApi:"http://localhost:8081",CurrencyPair:"",allClients:[],allRates:[],toggleCurrencies:[],timeP:0,timeS:0,timePP:0,start_date:null,end_date:null,start_date2:null,end_date2:null,start_date3:null,end_date3:null,disable:!1,branch:0,branch2:0,dialogdaterange:!1,dialogdaterange2:!1,dialogdaterange3:!1,branches:[],allClientsCount:0,allUsersCount:0,toggleCurr:"",toggle:"",toggle2:"",togglebranch:"",allBranchesCount:0,image:"/img/",allUsers:[],allBranches:[],totalFloat:[],branchSelected:!1}},mounted:function(){this.toggleCurr="WR USD",this.getAllClients(),this.getAllBranches(),this.getAllUsers(),this.getAllRates(this.toggleCurr),this.getAllToggleCurrencies(),this.getBranches(),this.toggle="1",this.toggle2="1",this.togglebranch="1",this.timeP=1,this.timeS=7,this.timePP=1},watch:{toggleCurr:function(e){this.getAllRates(e)},toggle2:function(e){"1"==e&&(this.timeS=7),"2"==e&&(this.timeS=30)},toggle:function(e){"1"==e&&(this.timeP=1),"2"==e&&(this.timeP=8),"3"==e&&(this.timeP=31),"4"==e&&(this.timeP=0),"5"==e&&(this.timeP=62)},togglebranch:function(e){"1"==e&&(this.timePP=1),"2"==e&&(this.timePP=8),"3"==e&&(this.timePP=31),"4"==e&&(this.timePP=0),"5"==e&&(this.timePP=62)}},methods:{daterange:function(){if(this.start_date&&this.end_date){var e=new Date(this.end_date);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date=t.substring(0,10),this.timeP={start_date:this.start_date,end_date:this.end_date},this.dialogdaterange=!1,this.start_date=null,this.end_date=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},daterange2:function(){if(this.start_date2&&this.end_date2){var e=new Date(this.end_date2);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date2=t.substring(0,10),this.timePP={start_date:this.start_date2,end_date:this.end_date2},this.dialogdaterange2=!1,this.start_date2=null,this.end_date2=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},daterange3:function(){if(this.start_date3&&this.end_date3){var e=new Date(this.end_date3);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date3=t.substring(0,10),this.timeS={start_date:this.start_date3,end_date:this.end_date3},this.dialogdaterange3=!1,this.start_date3=null,this.end_date3=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},selectedBranch2:function(e){this.branch2=e,this.branchSelected=!0},selectedBranch:function(e){this.branch=e},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllRatesByCurrencyID",{currency_id:t},{headers:a}).subscribe((function(e){r.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllToggleCurrencies:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllToggleCurrencies",{headers:t}).subscribe((function(e){a.toggleCurrencies=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllClients:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllClients",{headers:t}).subscribe((function(e){a.allClients=e.data.data.one.recordset,a.allClientsCount=a.allClients.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.allBranches=e.data.data.one.recordset,a.allBranchesCount=a.allBranches.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllUsers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.allUsers=e.data.data.one.recordset,a.allUsersCount=a.allUsers.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTotalFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.totalFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Hr=Yr,qr=(a("acee"),Object(d["a"])(Hr,mr,fr,!1,null,"576d8c44",null)),Zr=qr.exports;h()(qr,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardTitle:O["a"],VDialog:V["a"],VFlex:M["a"],VLayout:W["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"]});var Kr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-btn-toggle",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{mandatory:"",color:"primary"},model:{value:e.toggleCurr,callback:function(t){e.toggleCurr=t},expression:"toggleCurr"}},e._l(e.toggleCurrencies,(function(t){return a("v-btn",{key:t.id,attrs:{value:t.id}},[e._v("\n             "+e._s(t.symbol)+"\n            ")])})),1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:"","pa-3":""}},[a("v-toolbar",{attrs:{flat:"",color:"green darken-4"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Teller Cash On-Hand")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[a("export-excel",{staticClass:"btn btn-default",attrs:{data:e.UsersData,worksheet:"Tran_Worksheet",name:"Teller_Cash-OnHand.xls"}},[a("v-icon",e._g({attrs:{color:"white darken-2"}},r),[e._v("library_add")])],1)],1)]}}])},[a("span",[e._v("Export Teller Float Summary")])])],1),a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{key:e.UsersData.id,staticClass:"elevation-1",attrs:{headers:e.headersStackManagment,pagination:e.pagination,items:e.UsersData,search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.username)+" ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.branch))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.USD).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.ZW_Bond).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.ZW_RTGS).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.ZW_Ecocash).toFixed(2)))])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n            Your search for "'+e._s(e.search)+'" found no results.\n          ')])]},proxy:!0}])})],1),a("v-flex",{attrs:{xs12:"",md6:"","pa-3":""}},[a("div",{staticStyle:{height:"500px"}},[a(e.pieChart2,{tag:"component",attrs:{currency_id:e.toggleCurr,date:e.dater}})],1)])],1)],1)},Jr=[],Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{attrs:{color:"white",hover:""}},[a("v-img",{staticClass:"white--text",attrs:{height:"100px",src:"https://c.contitouch.co.zw/bg2.jpg"}},[a("v-layout",{attrs:{row:""}},[a("v-layout",{attrs:{column:"",wrap:""}},[a("v-flex",{attrs:{"ma-4":""}},[a("h2",{staticClass:"iCountUp"},[e._v("\n                    "+e._s(e.product)+"\n                ")])])],1),a("v-layout",{attrs:{column:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{"ma-4":""}},[a("h2",{staticClass:"iCountUp",staticStyle:{"text-align":"right"}},[a("ICountUp",{attrs:{delay:e.delay,endVal:e.stack_value,options:e.options},on:{ready:e.onReadyOut}})],1)])],1)],1)],1),a("v-divider",{attrs:{light:""}}),a("v-card-actions",[a("h2",[e._v("Product @ Branch")]),a("v-spacer"),a("h2",[e._v("Total Value")])],1)],1)],1)},Xr=[],es=a("87f4"),ts=a.n(es),as={components:{ICountUp:ts.a},props:["currency","value","number","product"],data:function(){return{delay:200,stack_number:"",stack_value:0,options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",decimalPlaces:2,prefix:this.currency+"  ",suffix:""},optionsStack:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",decimalPlaces:0,prefix:this.product,suffix:"",stackCardData:[]}}},mounted:function(){this.number&&(this.stack_number=this.number),this.value&&(this.stack_value=this.value)},methods:{onReadyIn:function(e,t){var a=this;e.update(a.stack_number)},onReadyOut:function(e,t){var a=this;e.update(a.stack_value)}}},rs=as,ss=(a("f484"),a("adda")),ns=Object(d["a"])(rs,Qr,Xr,!1,null,"11188e06",null),is=ns.exports;h()(ns,{VCard:j["a"],VCardActions:P["a"],VDivider:z["a"],VFlex:M["a"],VImg:ss["a"],VLayout:W["a"],VSpacer:Q["a"]});var os=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",[r("v-flex",{attrs:{xs12:"",md4:"","pb-2":"","pr-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticStyle:{padding:"5px"},attrs:{src:a("db7e"),width:"70px",height:"40px"}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h3",[e._v("Float Balance")]),r("h2",{staticClass:"h4Rev"},[e._v(e._s(parseFloat(e.conticashB).toFixed(2)))])])],1)],1)],1)],1)],1),r("v-chart",{attrs:{options:e.polar,autoresize:""}})],1)},ls=[],cs={components:{"v-chart":Ne["a"]},props:["currency_id","date"],data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData1:[],rawData2:[],companyFloatTotal:[],companyTransactionTotal:[],allClientsCount:0,contisendbalance:0,worldremitbalance:0,conticashbalance:0,contisendT:0,worldremitT:0,conticashT:0,contisendB:0,worldremitB:0,conticashB:0}},mounted:function(){},watch:{currency_id:function(e){this.contisendbalance=0,this.worldremitbalance=0,this.conticashbalance=0,this.contisendB=0,this.conticashB=0,this.worldremitB=0,this.contisendT=0,this.conticashT=0,this.worldremitT=0,this.companyFloatTotal=[],this.companyTransactionTotal=[],this.getTellerFloatSummary()},date:function(e){this.contisendbalance=0,this.worldremitbalance=0,this.conticashbalance=0,this.contisendB=0,this.conticashB=0,this.worldremitB=0,this.contisendT=0,this.conticashT=0,this.worldremitT=0,this.companyFloatTotal=[],this.companyTransactionTotal=[],this.getTellerFloatSummary()}},methods:{getTellerFloatSummary:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getCompanyBalance",{currency:this.currency_id},{headers:t}).subscribe((function(e){a.companyFloatTotal=e.data.data.one.recordset,a.companyFloatTotal.forEach((function(e){"ContiCash"==e.name&&(a.conticashB=e.value),"ContiSend"==e.name&&(a.contisendB=e.value),"WorldRemit"==e.name&&(a.worldremitB=e.value)})),a.getContiCashTransactionBalance(),a.getData(a.companyFloatTotal,a.companyTransactionTotal)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getContiSendTransactionBalance:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getContiSendBalance",{currency:this.currency_id},{headers:t}).subscribe((function(e){0==e.data.data.one.recordset.length?a.contisendbalance=0:a.contisendbalance=e.data.data.one.recordset[0].disbursed,a.companyTransactionTotal.push({value:parseFloat(a.contisendbalance).toFixed(2),name:"ContiSend"})}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getContiCashTransactionBalance:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getContiCashBalance",{currency:this.currency_id},{headers:t}).subscribe((function(e){0==e.data.data.one.recordset.length?a.conticashbalance=0:a.conticashbalance=e.data.data.one.recordset[0].disbursed,a.companyTransactionTotal.push({value:parseFloat(a.conticashbalance).toFixed(2),name:"Nenyasha BDC"})}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getWorldRemitTransactionBalance:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getWorldRemitBalance",{currency:this.currency_id},{headers:t}).subscribe((function(e){0==e.data.data.one.recordset.length?a.worldremitbalance=0:a.worldremitbalance=e.data.data.one.recordset[0].disbursed,a.companyTransactionTotal.push({value:parseFloat(a.worldremitbalance).toFixed(2),name:"WorldRemit"})}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getData:function(e,t){this.polar={title:{text:"Transaction & Float Summary",subtext:"Break-down of transaction total per product and float injection.",x:"center",align:"right"},legend:{orient:"vertical",x:"right"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"Treasury Injection",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{position:"inner",fontSize:9},labelLine:{show:!1},data:e},{name:"Transaction Summary",type:"pie",radius:["45%","60%"],data:t}]}}}},ds=cs,us=(a("ba68"),a("3dde"),Object(d["a"])(ds,os,ls,!1,null,"25e3424a",null)),hs=us.exports;h()(us,{VCard:j["a"],VFlex:M["a"],VLayout:W["a"]});var ps={components:{ProductGroup:is,"stack-pie":hs},props:["currency_id","date"],data:function(){return{toggleCurr:2,stackCardData:[],toggleCurrencies:[],search:"",dater:0,selectedBranch:0,pieChart2:"stack-pie",UsersData:[],pagination:{sortBy:"id",descending:!0,rowsPerPage:7},nodeApi:"http://localhost:8081",headersStackManagment:[{text:"Teller",value:"username"},{text:"Branch",value:"branch"},{text:"USD",value:"USD"},{text:"ZW Bond",value:"ZW_Bond"},{text:"ZW RTGS",value:"ZW_RTGS"},{text:"ZW Ecocash",value:"ZW_Ecocash"}],currency_id_data:null}},mounted:function(){},watch:{toggleCurr:function(e){},date:function(e){this.getTellerFloatSummary(),this.getAllToggleCurrencies(),this.dater=Date.now()}},methods:{exportExcel:function(){},getAllToggleCurrencies:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllToggleCurrencies2",{headers:t}).subscribe((function(e){a.toggleCurrencies=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellerFloatSummary:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getTellerFloatSummary",{headers:t}).subscribe((function(e){a.UsersData=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ms=ps,fs=Object(d["a"])(ms,Kr,Jr,!1,null,null,null),gs=fs.exports;h()(fs,{VAlert:R["a"],VBtn:U["a"],VBtnToggle:rr["a"],VDataTable:E["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSpacer:Q["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"],VTooltip:ue["a"]});var vs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn-toggle",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{mandatory:"",color:"primary"},model:{value:e.toggleCurr,callback:function(t){e.toggleCurr=t},expression:"toggleCurr"}},e._l(e.toggleCurrencies,(function(t){return r("v-btn",{key:t.id,attrs:{value:t.symbol}},[e._v("\n               "+e._s(t.symbol)+"\n   ")])})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev1",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("33e0")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Branches")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allBranchesCount))])])],1)],1)],1)],1),r("v-flex",{attrs:{xs12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:a("ee6c")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v("Users")]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(e.allUsersCount))])])],1)],1)],1)],1)],1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Branch Volume + Commission")])])],1),r("v-card",{attrs:{hover:""}},[r("BookingChart3",{staticClass:"echart",attrs:{ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Transaction Analysis")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                Today\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                This Week\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n                Current Month\n              ")]),r("v-btn",{attrs:{flat:"",value:"5"}},[e._v("\n                Last Month\n              ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v("\n               Over-all\n              ")])],1),r("v-btn",{attrs:{disabled:e.disable,color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("MarketRates3ConiSend",{staticClass:"echart2",attrs:{TimePeriod:e.timeP,ToggleCurrency:e.toggleCurr}})],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm12:"",md12:"",lg12:"",xl6:"","pa-2":""}},[r("v-flex",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"mr-3":"","mt-3":""}},[r("h3",[e._v("Totals History ")])]),r("v-spacer"),r("v-flex",[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle2,callback:function(t){e.toggle2=t},expression:"toggle2"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                Last 7 days\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                Last 30 days\n              ")])],1),r("v-btn",{attrs:{disabled:e.disable,color:"primary"},on:{click:function(t){e.dialogdaterange3=!0}}},[e._v("\n                Range\n              ")])],1)],1),r("v-card",{attrs:{hover:""}},[r("MarketRates4ContiSend",{staticClass:"echart2",attrs:{TimePeriod:e.timeS,ToggleCurrency:e.toggleCurr}})],1)],1)],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange2,callback:function(t){e.dialogdaterange2=t},expression:"dialogdaterange2"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.start_date2,callback:function(t){e.start_date2=t},expression:"start_date2"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange2(t)}},model:{value:e.end_date2,callback:function(t){e.end_date2=t},expression:"end_date2"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange2=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange2}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange3,callback:function(t){e.dialogdaterange3=t},expression:"dialogdaterange3"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange3(t)}},model:{value:e.start_date3,callback:function(t){e.start_date3=t},expression:"start_date3"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange3(t)}},model:{value:e.end_date3,callback:function(t){e.end_date3=t},expression:"end_date3"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange3=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange3}},[e._v("Filter")])],1)],1)],1)},_s=[],bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},ys=[],xs={components:{"v-chart":Ne["a"]},props:{ToggleCurrency:""},data:function(){return{polar:{},graphAPi:"http://dev.contipay.co.zw:82/https://api-dev.contipay.co.zw/graphsApi?authorization=",nodeApi:"http://localhost:8081",currencyData:[],currencyDataActive:[],branchData:[],graphData:[],rawData:[]}},mounted:function(){this.loadGraphData("USD")},watch:{ToggleCurrency:function(e){this.loadGraphData(e)}},methods:{loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchFloatGraph3ContiSend",{currency:t},{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=0,l=0,c=0;e.forEach((function(e){-1==r.indexOf(e.branch.replace(/\s/g,""))&&r.push(e.branch.replace(/\s/g,""))})),e.forEach((function(e){-1==a.indexOf(e.symbol.replace(/\s/g,""))&&a.push(e.symbol.replace(/\s/g,""))})),e.forEach((function(e,a){e.symbol.replace(/\s/g,"")==t&&(s.push(parseFloat(e.commssion).toFixed(2)),n.push(parseFloat(e.float_amount).toFixed(2)),i.push(e.num_transactions),o+=e.commssion,l+=e.float_amount,c+=e.num_transactions)})),this.polar={title:{subtext:"Total Volume : ".concat(t," ").concat(parseFloat(l).toFixed(2)," || Total Commissions : ").concat(t," ").concat(parseFloat(o).toFixed(2)," || || Total Transactions : ").concat(c,"  "),subtextStyle:{color:"#3949AB"},left:10},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"bottom",data:["No# Transactions","".concat(t," Pending Float"),"".concat(t," Commssion")]},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:"No# Transactions",type:"bar",stack:"",data:i},{name:t+" Pending Float",type:"bar",stack:"",data:n,itemStyle:{color:"green"}},{name:t+" Commssion",type:"bar",data:s,stack:"",itemStyle:{color:"#047EB7"}}]}}}},ws=xs,Cs=(a("c427"),Object(d["a"])(ws,bs,ys,!1,null,"bd32f022",null)),ks=Cs.exports,Ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},As=[],Ds={components:{"v-chart":Ne["a"]},props:{TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],data:500,totalBuys:0,totalSells:0,totalCharges:0,totalDeposits:0,totalBuysRate:0,totalSellsRate:0,currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="USD",this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol)},watch:{ToggleCurrency:function(e){this.currSymbol=e,this.TimePeriod>0?this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol):0==this.TimePeriod?this.loadGraphData(this.currSymbol):this.loadGraphDataBuyDateSpecific(this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol)},TimePeriod:function(e){this.dateValue=e,e>0?this.loadGraphDataBuyDate(e,this.currSymbol):0==e?this.loadGraphData(this.currSymbol):this.loadGraphDataBuyDateSpecific(e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphData:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByCurrCS",{currency_id:t},{headers:a}).subscribe((function(e){r.rawData=e.data.data.one.recordset,r.getData(r.rawData,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByDateCurrCS",{currency_id:a,time:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.getData(s.rawData,a)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDateSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getBranchSalesGraphByDateSpecificCurrCS",{currency_id:r,start_date:t,end_date:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.getData(n.rawData,r)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getData:function(e,t){var a=this;console.log(e);var r=[],s=[],n=[],i=[];this.totalBuys=0,this.totalSells=0,this.totalCharges=0,this.totalDeposits=0,this.totalBuysRate=0,this.totalSellsRate=0,e.forEach((function(e){-1==r.indexOf(e.branch_name.replace(/\s/g,""))&&r.push(e.branch_name.replace(/\s/g,""))})),e.forEach((function(e){s.push(parseFloat(e.disbured_sum).toFixed(2)),n.push(parseFloat(e.charges).toFixed(2)),i.push(parseFloat(e.deposits).toFixed(2)),a.totalSells+=e.disbured_sum,a.totalCharges+=e.charges,a.totalDeposits+=e.deposits})),this.polar={title:{subtext:"Total PayOuts : ".concat(t," ").concat(parseFloat(this.totalSells).toFixed(2)," || Total Charges : ").concat(t," ").concat(parseFloat(this.totalCharges).toFixed(2)," || Total Deposit : ").concat(t," ").concat(parseFloat(this.totalDeposits).toFixed(2)),left:10,subtextStyle:{color:"#3949AB"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{x:"center",y:"bottom",data:["Total CS PayOuts","Total Collected Charges","Total Deposits"]},xAxis:{type:"category",data:r},yAxis:{type:"value"},series:[{name:"Total CS PayOuts",data:s,stack:"",type:"bar"},{name:"Total Deposits",type:"bar",stack:"",data:i,itemStyle:{color:"#1687a7"}},{name:"Total Collected Charges",type:"bar",stack:"",data:n,itemStyle:{color:"green"}}]}}}},Ss=Ds,Bs=(a("e649"),Object(d["a"])(Ss,Ts,As,!1,null,"5f2160aa",null)),Fs=Bs.exports,Rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-chart",{attrs:{options:e.polar,autoresize:""}})},$s=[],Us={components:{"v-chart":Ne["a"]},props:{TimePeriod:"",ToggleCurrency:""},data:function(){return{polar:{},nodeApi:"http://localhost:8081",rawData:[],rawData2:[],currSymbol:"",dateValue:null}},mounted:function(){this.currSymbol="USD",this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol)},watch:{ToggleCurrency:function(e){this.currSymbol=e,this.TimePeriod>0?this.loadGraphDataBuyDate(this.TimePeriod,this.currSymbol):this.loadGraphDataBuyDateSpecific(this.TimePeriod.start_date,this.TimePeriod.end_date,this.currSymbol)},TimePeriod:function(e){e>0?this.loadGraphDataBuyDate(e,this.currSymbol):this.loadGraphDataBuyDateSpecific(e.start_date,e.end_date,this.currSymbol)}},methods:{loadGraphDataBuyDate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSalesByDateGraphCurr2CS",{currency_id:a,time:t},{headers:r}).subscribe((function(e){s.rawData=e.data.data.one.recordset,s.rawData2=e.data.data.two.recordset,s.getData(s.rawData,s.rawData2,t)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),loadGraphDataBuyDateSpecific:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a,r){var s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSalesByDateGraphSpecificCurrCS",{currency_id:r,start_date:t,end_date:a},{headers:s}).subscribe((function(e){n.rawData=e.data.data.one.recordset,n.rawData2=e.data.data.two.recordset,n.getData(n.rawData,n.rawData2)}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a,r){return e.apply(this,arguments)}return t}(),getData:function(e,t,a){console.log(t);var r=[],s=[],n=[],i=[];if(7==a){var o=0;t.forEach((function(e){r.push(e.day_name),n.push(parseFloat(e.receive_amount).toFixed(2)),t.length>0&&(e.date_t==t[o].date_t?(s.push(t[o].day_name),i.push(parseFloat(t[o].disburse_amount).toFixed(2)),o+=1):(s.push(e.day_name),i.push(parseFloat(0).toFixed(2))))}))}else if(30==a){o=0;t.forEach((function(e){r.push(e.date_t),n.push(parseFloat(e.receive_amount).toFixed(2)),t.length>0&&(e.date_t==t[o].date_t?(s.push(t[o].date_t),i.push(parseFloat(t[o].disburse_amount).toFixed(2)),o+=1):(s.push(e.date_t),i.push(parseFloat(0).toFixed(2))))}))}else{o=0;t.forEach((function(e){r.push(e.date_t),n.push(parseFloat(e.receive_amount).toFixed(2)),t.length>0&&(e.date_t==t[o].date_t?(s.push(t[o].date_t),i.push(parseFloat(t[o].disburse_amount).toFixed(2)),o+=1):(s.push(e.date_t),i.push(parseFloat(0).toFixed(2))))}))}console.log(i),this.polar={title:{text:"PayOut Totals"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["PayOuts"],itemGap:5},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:r}],yAxis:[{type:"value"}],series:[{name:"PayOuts",type:"bar",areaStyle:{},data:i}]}},getData2:function(e,t){var a=[],r=[],s=[],n=[],i=[],o=[],l=0;e.forEach((function(e){a.push(e.day_name),s.push(parseFloat(e.receive_amount).toFixed(2)),t.length>0&&(e.date_t==t[l].date_t?(r.push(t[l].day_name),n.push(parseFloat(t[l].disburse_amount).toFixed(2)),l+=1):(r.push(e.day_name),n.push(parseFloat(0).toFixed(2))))})),this.polar={title:{text:"Buys and Sales Totals"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Buys","Sells","Ave.Buy Rate","Ave.Sell Rate"],itemGap:5},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:a}],yAxis:[{type:"value"}],series:[{name:"Buys",type:"bar",areaStyle:{},data:s},{name:"Sells",type:"bar",areaStyle:{},data:n},{name:"Ave.Buy Rate",type:"line",areaStyle:{},data:i},{name:"Ave.Sell Rate",type:"line",areaStyle:{},data:o}]}}}},js=Us,Ps=(a("1438"),Object(d["a"])(js,Rs,$s,!1,null,"4bad75a4",null)),Os=Ps.exports,Ns={components:{BookingChart3:ks,MarketRates3:Dr,MarketRates3ConiSend:Fs,MarketRates4:Ur,MarketRates4ContiSend:Os,SuperGraph11:Er,SuperGraph22:Gr},data:function(){return{nodeApi:"http://localhost:8081",CurrencyPair:"",allClients:[],allRates:[],toggleCurrencies:[],timeP:0,timeS:0,timePP:0,start_date:null,end_date:null,start_date2:null,end_date2:null,start_date3:null,end_date3:null,disable:!1,branch:0,branch2:0,dialogdaterange:!1,dialogdaterange2:!1,dialogdaterange3:!1,branches:[],allClientsCount:0,allUsersCount:0,toggleCurr:"",toggle:"",toggle2:"",togglebranch:"",allBranchesCount:0,image:"/img/",allUsers:[],allBranches:[],totalFloat:[],branchSelected:!1}},mounted:function(){this.toggleCurr="USD",this.getAllClients(),this.getAllBranches(),this.getAllUsers(),this.getAllRates(this.toggleCurr),this.getAllToggleCurrencies(),this.getBranches(),this.toggle="1",this.toggle2="1",this.togglebranch="1",this.timeP=1,this.timeS=7,this.timePP=1},watch:{toggleCurr:function(e){this.getAllRates(e)},toggle2:function(e){"1"==e&&(this.timeS=7),"2"==e&&(this.timeS=30)},toggle:function(e){"1"==e&&(this.timeP=1),"2"==e&&(this.timeP=8),"3"==e&&(this.timeP=31),"4"==e&&(this.timeP=0),"5"==e&&(this.timeP=62)},togglebranch:function(e){"1"==e&&(this.timePP=1),"2"==e&&(this.timePP=8),"3"==e&&(this.timePP=31),"4"==e&&(this.timePP=0),"5"==e&&(this.timePP=62)}},methods:{daterange:function(){if(this.start_date&&this.end_date){var e=new Date(this.end_date);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date=t.substring(0,10),this.timeP={start_date:this.start_date,end_date:this.end_date},this.dialogdaterange=!1,this.start_date=null,this.end_date=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},daterange2:function(){if(this.start_date2&&this.end_date2){var e=new Date(this.end_date2);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date2=t.substring(0,10),this.timePP={start_date:this.start_date2,end_date:this.end_date2},this.dialogdaterange2=!1,this.start_date2=null,this.end_date2=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},daterange3:function(){if(this.start_date3&&this.end_date3){var e=new Date(this.end_date3);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date3=t.substring(0,10),this.timeS={start_date:this.start_date3,end_date:this.end_date3},this.dialogdaterange3=!1,this.start_date3=null,this.end_date3=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},selectedBranch2:function(e){this.branch2=e,this.branchSelected=!0},selectedBranch:function(e){this.branch=e},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllRatesByCurrencyID",{currency_id:t},{headers:a}).subscribe((function(e){r.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllToggleCurrencies:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllToggleCurrencies",{headers:t}).subscribe((function(e){a.toggleCurrencies=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllClients:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllClients",{headers:t}).subscribe((function(e){a.allClients=e.data.data.one.recordset,a.allClientsCount=a.allClients.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.allBranches=e.data.data.one.recordset,a.allBranchesCount=a.allBranches.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllUsers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.allUsers=e.data.data.one.recordset,a.allUsersCount=a.allUsers.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTotalFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.totalFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Is=Ns,Es=(a("57f3"),Object(d["a"])(Is,vs,_s,!1,null,"74fd9166",null)),Vs=Es.exports;h()(Es,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardTitle:O["a"],VDialog:V["a"],VFlex:M["a"],VLayout:W["a"],VSpacer:Q["a"],VTextField:oe["a"]});var zs={components:{BookingChart:ze,MarketRates:Oa,MarketRates2:pr,SuperGraph1:qa,SuperGraph2:er,WorldRemit:Zr,ContiSend:Vs,TransactionSummary:gs},data:function(){return{dashboardPage:"",page:"TransactionSummary",dialogSummaryAccount:!1,nodeApi:"http://localhost:8081",CurrencyPair:"",allClients:[],allRates:[],toggleCurrencies:[],toggleDashboard:[{id:1,firm:"Bureau De Change"},{id:2,firm:"WorldRemit"},{id:3,firm:"ContiSend"}],timeP:0,timeS:0,timePP:0,start_date:null,end_date:null,start_date2:null,end_date2:null,start_date3:null,end_date3:null,disable:!1,branch:0,branch2:0,dialogdaterange:!1,dialogdaterange2:!1,dialogdaterange3:!1,branches:[],allClientsCount:0,allUsersCount:0,toggleCurr:"",toggle:"",toggle2:"",togglebranch:"",allBranchesCount:0,image:"/img/",allUsers:[],allBranches:[],totalFloat:[],branchSelected:!1,dater:0}},mounted:function(){this.toggleCurr="USD",this.dashboardPage=1,this.getAllClients(),this.getAllBranches(),this.getAllUsers(),this.getAllRates(this.toggleCurr),this.getAllToggleCurrencies(),this.getBranches(),this.toggle="1",this.toggle2="1",this.togglebranch="1",this.timeP=1,this.timeS=7,this.timePP=1},watch:{dialogSummaryAccount:function(e){e&&(this.dater=Date.now())},dashboardPage:function(e){console.log(e)},toggleCurr:function(e){this.getAllRates(e)},toggle2:function(e){"1"==e&&(this.timeS=7),"2"==e&&(this.timeS=30)},toggle:function(e){"1"==e&&(this.timeP=1),"2"==e&&(this.timeP=8),"3"==e&&(this.timeP=31),"4"==e&&(this.timeP=0)},togglebranch:function(e){"1"==e&&(this.timePP=1),"2"==e&&(this.timePP=8),"3"==e&&(this.timePP=31),"4"==e&&(this.timePP=0)}},methods:{daterange:function(){if(this.start_date&&this.end_date){var e=new Date(this.end_date);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date=t.substring(0,10),this.timeP={start_date:this.start_date,end_date:this.end_date},this.dialogdaterange=!1,this.start_date=null,this.end_date=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},daterange2:function(){if(this.start_date2&&this.end_date2){var e=new Date(this.end_date2);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date2=t.substring(0,10),this.timePP={start_date:this.start_date2,end_date:this.end_date2},this.dialogdaterange2=!1,this.start_date2=null,this.end_date2=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},daterange3:function(){if(this.start_date3&&this.end_date3){var e=new Date(this.end_date3);e.setDate(e.getDate()+1);var t=e.toISOString();this.end_date3=t.substring(0,10),this.timeS={start_date:this.start_date3,end_date:this.end_date3},this.dialogdaterange3=!1,this.start_date3=null,this.end_date3=null}else this.$swal.fire({type:"error",title:"Date Range Filter Error",text:"Please input a date range to filter."})},selectedBranch2:function(e){this.branch2=e,this.branchSelected=!0},selectedBranch:function(e){this.branch=e},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllRatesByCurrencyID",{currency_id:t},{headers:a}).subscribe((function(e){r.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllToggleCurrencies:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllToggleCurrencies",{headers:t}).subscribe((function(e){a.toggleCurrencies=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllClients:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllClients",{headers:t}).subscribe((function(e){a.allClients=e.data.data.one.recordset,a.allClientsCount=a.allClients.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.allBranches=e.data.data.one.recordset,a.allBranchesCount=a.allBranches.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllUsers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.allUsers=e.data.data.one.recordset,a.allUsersCount=a.allUsers.length}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTotalFloat:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.totalFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ms=zs,Ls=(a("30bf"),Object(d["a"])(Ms,ir,or,!1,null,"b55fe65a",null)),Ws=Ls.exports;h()(Ls,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardTitle:O["a"],VDialog:V["a"],VFlex:M["a"],VLayout:W["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarItems:de["a"],VToolbarTitle:de["b"]});var Gs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"",wrap:""}},[r("h2",{staticStyle:{color:"grey","margin-top":"20px"}},[e._v("\n      Dashboard : Teller | Float & Transactions\n    ")]),r("v-btn-toggle",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{mandatory:"",color:"primary"},model:{value:e.toggleCurr,callback:function(t){e.toggleCurr=t},expression:"toggleCurr"}},e._l(e.toggleCurrencies,(function(t){return r("v-btn",{key:t.id,attrs:{value:t.symbol}},[e._v("\n        "+e._s(t.symbol)+"\n      ")])})),1)],1),r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.allRates,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md6:"",lg3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:e.image+t.image}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"green"}},[e._v("Buy@ "+e._s(t.buy_rate))]),r("h3",{staticStyle:{color:"red"}},[e._v("Sell@ "+e._s(t.sell_rate))])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},e._l(e.totalFloat,(function(t){return r("v-flex",{key:t.id,attrs:{md2:"","pa-2":""},on:{settlement:e.completeFuncton}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev2",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image2",attrs:{src:e.image+t.image}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",[e._v(e._s(t.symbol))]),r("h3",{staticClass:"h4Rev"},[e._v(e._s(parseFloat(t.amount).toFixed(2)))])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-btn-toggle",{staticStyle:{"margin-top":"15px","margin-left":"30px"},attrs:{mandatory:"",color:"primary"},model:{value:e.tableType,callback:function(t){e.tableType=t},expression:"tableType"}},e._l(e.tablesReports,(function(t){return r("v-btn",{key:t.id,attrs:{value:t.symbol}},[e._v("\n        "+e._s(t.type)+"\n      ")])})),1),r("v-spacer"),r("v-flex",{attrs:{xs12:"",sm4:"",md4:"","pl-5":""}},[r("v-text-field",{attrs:{"append-icon":"search",label:"Search by anything","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-flex",{attrs:{xs12:"",sm4:"",md2:"","ma-0":""}},[r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.refresh}},[r("v-icon",e._g({attrs:{color:"gray"}},a),[e._v("refresh")])],1)]}}])},[r("span",[e._v("Refresh Report")])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.rows,fields:e.json_fields,worksheet:"Tran_Worksheet",name:"TransactionsReport.xls"}},[r("v-icon",e._g({attrs:{color:"green darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export to excel")])])],1),r("v-flex",{attrs:{xs12:"",sm4:"",md4:"","ma-0":""}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.handover}},[e._v(" Handover ")])],1),r("v-flex",{attrs:{xs12:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id",pagination:e.pagination,width:"10","must-sort":"",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[t.item.transaction_type?e._e():r("tr",[r("td",[e._v(e._s(t.item.refNumber))]),4==e.tableType?r("td",[e._v("\n              "+e._s(new Date(t.item.collect_at).toLocaleString("en-GB"))+"\n            ")]):e._e(),4!=e.tableType?r("td",[e._v("\n              "+e._s(new Date(t.item.created_at).toLocaleString("en-GB"))+"\n            ")]):e._e(),r("td",[e._v("\n              "+e._s(t.item.recipientFirstName)+" "+e._s(t.item.recipientLastName)+"\n            ")]),r("td",[e._v("\n              "+e._s(t.item.sender_first_name)+" "+e._s(t.item.sender_last_name)+"\n            ")]),r("td",[e._v("\n              "+e._s(t.item.currency_symbol)+"\n              "+e._s(parseFloat(t.item.receive_amount+t.item.charge).toFixed(2))+"\n            ")]),r("td",[e._v(e._s(t.item.currency_symbol)+" "+e._s(t.item.disburse_amount))])]),t.item.transaction_type?r("tr",[2!=e.tableType?r("td",[e._v(e._s(t.item.id))]):e._e(),2!=e.tableType?r("td",[e._v(e._s(t.item.created_at))]):e._e(),2==e.tableType?r("td",[e._v(e._s(t.item.reference))]):e._e(),2==e.tableType?r("td",[e._v(e._s(t.item.created_at))]):e._e(),2==e.tableType?r("td",[e._v(e._s(t.item.clientName))]):e._e(),2==e.tableType?r("td",[e._v(e._s(t.item.sentBy))]):e._e(),2!=e.tableType?r("td",[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]):e._e(),0==e.tableType?r("td",[e._v(e._s(parseFloat(t.item.rate).toFixed(1)))]):e._e(),1==e.tableType?r("td",[e._v(e._s(t.item.meter_number))]):e._e(),r("td",[e._v("\n              "+e._s(t.item.receive_currency+" "+parseFloat(t.item.receive_amount).toFixed(2))+"\n            ")]),0==e.tableType?r("td",[e._v("\n              "+e._s(t.item.disburse_currency+" "+parseFloat(t.item.disburse_amount).toFixed(2))+"\n            ")]):e._e(),2==e.tableType?r("td",[e._v("\n              "+e._s(t.item.disburse_currency+" "+parseFloat(t.item.disburse_amount).toFixed(2))+"\n            ")]):e._e(),1==e.tableType?r("td",[e._v("\n              "+e._s(t.item.utility)+"\n              "),"DStv"==t.item.utility?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                "+e._s(t.item.product)+"\n              ")]):e._e()],1):e._e(),r("td",["Sell"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"Buy"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"FloatIn"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"FloatOut"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"Utility"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"WorldRemit"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e()],1),r("td",{attrs:{id:"chip-usage-example"}},["declined"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"pending"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"gray"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"reversed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                           reversed\n                          ")]):e._e(),"complete"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"confirmed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e()],1)]):e._e()]}},{key:"expand",fn:function(t){return[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1),r("v-dialog",{attrs:{"max-width":"350px"},model:{value:e.dialogHandOver,callback:function(t){e.dialogHandOver=t},expression:"dialogHandOver"}},[r("v-card",[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("End of day handover slip")])]),r("div",{staticClass:"invoice-box rtl"},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41"),alt:"Nenyahsa FX"}})])]),r("tr"),r("tr",[r("td",[e._v("\n                      Handover Ticket #"),r("br"),e._v("\n                      Created: "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",[e._v("\n                      537 Syringa, Euphorbia Road"),r("br"),e._v("\n                      Chiredzi"),r("br"),e._v("\n                      Zimbabwe\n                    ")])])])])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Teller ID")]),r("td",[e._v("Tran Type")])]),r("tr",{staticClass:"details"},[r("td",[e._v("\n                "+e._s(this.$session.get("user").userdetails.username)+"\n              ")]),r("td",[e._v("Banking")])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Total Amount")]),r("td",[e._v("Item")])]),e._l(e.totalFloat,(function(t){return r("tr",{key:t.id,staticClass:"item"},[r("td",[e._v("\n                "+e._s(parseFloat(t.amount).toFixed(2))+"\n              ")]),r("td",[e._v("\n                "+e._s(t.symbol)+"\n              ")])])})),r("tr",{staticClass:"item last"},[r("td")]),r("tr",{staticClass:"item last"},[r("td",[e._v("---------------------")]),r("td",[e._v("Teller")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("----------------------")]),r("td",[e._v("Supervisor")])])],2)]),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogHandOver=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.finalHandOver}},[e._v("Bank")])],1)],1),r("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogHandOverT,callback:function(t){e.dialogHandOverT=t},expression:"dialogHandOverT"}},[r("v-card",[r("v-card-title",{staticClass:"red darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Treasury handover slip")])]),r("div",{staticClass:"invoice-box rtl"},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title"},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41"),alt:"ContiCash FX"}})])]),r("tr"),r("tr",[r("td",[e._v("\n                      Handover Ticket #"),r("br"),e._v("\n                      Created: "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br")])])])])]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",[e._v("\n                      1st Floor, Block 3,Tendeseka Office Park"),r("br"),e._v("\n                      Samora Machel, Harare"),r("br"),e._v("\n                      Zimbabwe\n                    ")])])])])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Teller ID")]),r("td",[e._v("Tran Type")])]),r("tr",{staticClass:"details"},[r("td",[e._v("\n                "+e._s(this.$session.get("user").userdetails.username)+"\n              ")]),r("td",[e._v("Banking")])]),r("tr",{staticClass:"heading"},[r("td",[e._v("Total Amount")]),r("td",[e._v("Item")])]),e._l(e.totalFloat,(function(t){return r("tr",{key:t.id,staticClass:"item"},[r("td",[e._v("\n                "+e._s(parseFloat(t.amount).toFixed(2))+"\n              ")]),r("td",[e._v("\n                "+e._s(t.symbol)+"\n              ")])])})),r("tr",{staticClass:"item last"},[r("td")]),r("tr",{staticClass:"item last"},[r("td",[e._v("---------------------")]),r("td",[e._v("Teller")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("----------------------")]),r("td",[e._v("Supervisor")])])],2)]),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogHandOverT=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.finalHandOverT}},[e._v("Bank")])],1)],1)],1),r("v-dialog",{attrs:{"max-width":"350px"},model:{value:e.dialogHandOverP,callback:function(t){e.dialogHandOverP=t},expression:"dialogHandOverP"}},[r("div",{staticClass:"invoice-box rtl",attrs:{id:"PrintMe"}},[r("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[r("tr",{staticClass:"top"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41"),alt:"Sahwira FX"}})])]),r("tr"),r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  Handover Ticket #"),r("br"),r("br"),e._v("\n                  "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),r("br")])])])])]),r("tr",[r("br"),r("br")]),r("tr",{staticClass:"information"},[r("td",{attrs:{colspan:"2"}},[r("table",[r("tr",[r("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                  1st Floor, Block 3,Tendeseka Office Park"),r("br"),e._v("\n                  Samora Machel, Harare"),r("br"),e._v("\n                  Zimbabwe\n                ")])])])])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Tran Type")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("Teller ID")])]),r("tr",{staticClass:"details"},[r("td",[e._v("Banking")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(this.$session.get("user").userdetails.username)+"\n          ")])]),r("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[r("td",[e._v("Item")]),r("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("Total Amount")])]),e._l(e.totalFloat,(function(t){return r("tr",{key:t.id,staticClass:"item"},[r("td",[e._v("\n            "+e._s(t.symbol)+"\n          ")]),r("td",{staticStyle:{"text-align":"right"}},[e._v("\n            "+e._s(parseFloat(t.amount).toFixed(2))+"\n          ")])])})),r("tr",{staticClass:"item last"},[r("td",[r("br"),r("br")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("Teller")]),r("td",[e._v("---------------------")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])]),r("tr",{staticClass:"item last"},[r("td",[e._v("Supervisor")]),r("td",[e._v("---------------------")])]),r("tr",{staticClass:"item last"},[r("td",[r("br")])])],2)])]),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialoghandoverRequest,callback:function(t){e.dialoghandoverRequest=t},expression:"dialoghandoverRequest"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"red darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Hand-Over Request")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"",md12:"","pr-3":"","pl-3":""}},[r("v-combobox",{attrs:{items:e.managerList,"item-text":"first_name","item-value":"id",label:"Select Supervisor"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendRequest(t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[e._v("\n              "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n            ")]}}]),model:{value:e.managerData,callback:function(t){e.managerData=t},expression:"managerData"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialoghandoverRequest=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.sendRequest}},[e._v("Save")])],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialoghandoverConfirm,callback:function(t){e.dialoghandoverConfirm=t},expression:"dialoghandoverConfirm"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"green darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Hand-Over Confirm")])]),r("v-layout",[r("v-flex",{attrs:{xs12:"","pa-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",loading:"",type:"password",label:"Please enter over-ride pin",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmHandOver(t)}},model:{value:e.overridePinT,callback:function(t){e.overridePinT=t},expression:"overridePinT"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialoghandoverConfirm=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.confirmHandOver}},[e._v("Save")])],1)],1)],1)},Ys=[],Hs=a("4d6f"),qs={props:["PropData","PropSymbol","ProCharge","PropCentre","PropCurrency"],data:function(){return{allRates:[],totalFloat:[],expand:!1,show_start_date:!1,nodeApi:"http://localhost:8081",image:"/img/",start_date:null,is_charged:null,toggleCurrencies:[],whatsappNumbers:[],tablesReports:[{type:"Currencies"}],toggleCurr:"",tableType:"",dialoghandoverRequest:!1,dialoghandoverConfirm:!1,dialogHandOver:!1,dialogHandOverP:!1,dialogHandOverT:!1,show_end_date:!1,end_date:null,time:0,user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},selected:[],filteredRow:[],symbol:"",managerList:[],managerData:"",overridePinT:"",overridePinM:"",superviser_id:0,json_fields:{"Transaction ID":"id","Transaction Date Time":"created_at","Transaction Type":"transaction_type","Client First Name":"first_name","Client Last Name":"last_name","Client ID Number":"id_number","Receive Currency":"receive_currency","Receive Amount":"receive_amount","Disbursed Currency":"disburse_currency","Disburse Amount":"disburse_amount",Rate:"rate","Transaction Status":"status","Created By":"created_by","Branch Name":"name",_____________:"space","Transaction Total Type":"transaction_typeT","Received Currency":"receive_currencyT","Total Received Amount":"receive_amountT","Disburse Currency":"disbursed_currencyT","Total Disbursed Amount":"disburse_amountT"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[],paymentHeaders:[]}},watch:{toggleCurr:function(e){this.getAllRates(e)},tableType:function(e){0==e&&(this.getAllTransactions(),this.paymentHeaders=[{text:"Tran Ref",value:"id"},{text:"Tran Date",value:"created_at"},{text:"Client",value:"first_name"},{text:"Rate Cost",value:"rate"},{text:"Received Amount $",value:"receive_amount"},{text:"Disbursed Amount $",value:"disburse_amount"},{text:"Transaction Type",value:"transaction_type"},{text:"Status",value:"status"}]),1==e&&(this.paymentHeaders=[{text:"Tran Ref",value:"id"},{text:"Tran Date",value:"created_at"},{text:"Client",value:"first_name"},{text:"Meter Number",value:"meter_number"},{text:"Received Amount $",value:"receive_amount"},{text:"Utility Name $",value:"utility"},{text:"Transaction Type",value:"transaction_type"},{text:"Status",value:"status"}],this.getAllTransactionsUtility()),2==e&&(this.paymentHeaders=[{text:"Tran Ref",value:"reference"},{text:"Tran Date",value:"created_at"},{text:"Client",value:"first_name"},{text:"Sent By",value:"sentBy"},{text:"Received Amount $",value:"receive_amount"},{text:"Disbursed Amount $",value:"disburse_amount"},{text:"Transaction Type",value:"transaction_type"},{text:"Status",value:"status"}],this.getAllTransactionsWorldRemit()),3==e&&(this.paymentHeaders=[{text:"Tran Ref",value:"reference"},{text:"Tran Date",value:"created_at"},{text:"Client",value:"first_name"},{text:"Sent By",value:"sentBy"},{text:"Received Amount $",value:"receive_amount"},{text:"Disbursed Amount $",value:"disburse_amount"}],this.getAllTransactionsContiSendIn()),4==e&&(this.paymentHeaders=[{text:"Tran Ref",value:"reference"},{text:"Tran Date",value:"created_at"},{text:"Client",value:"first_name"},{text:"Sent By",value:"sentBy"},{text:"Received Amount $",value:"receive_amount"},{text:"Disbursed Amount $",value:"disburse_amount"}],this.getAllTransactionsContiSendOut())},rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},components:{"v-scrollin":Hs["a"]},computed:{},mounted:function(){this.toggleCurr="USD",this.tableType=0,this.getAllRates(this.toggleCurr),this.user_type=this.$session.get("user").userdetails.user_type,this.getAllUserFloats(),this.getAllTransactions(),this.getAllToggleCurrencies()},methods:{getAllToggleCurrencies:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllToggleCurrencies",{headers:t}).subscribe((function(e){a.toggleCurrencies=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSupervisor:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSupervisor",{value:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.managerList=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getSuperSupervisor:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getSuperSupervisor",{value:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(e){a.managerList=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmHandOver:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,t={id:this.superviser_id,pin:this.overridePinT},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=5,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){if(0!=e.data.data.one.recordset.length){r.dialogcheckPin=!1,r.overridePinT="",r.printPDF("PrintMe"),r.dialogHandOver=!1,r.overrideConfirm=!1,r.dialoghandoverConfirm=!1;r.$session.get("user").userdetails.branch_id,r.$session.get("user").userdetails.id,r.$session.get("user").userdetails.id;r.tellertobranch()}else r.dialogloader=!1,r.$swal.fire({type:"error",title:"Float Handover Failed",text:"Wrong pin please try again"})}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),tellertobranch:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h,p,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},console.log(this.totalFloat),a=Date.now(),0,!this.totalFloat[0]){e.next=9;break}return this.totalFloat[0].handover_id=a,r=this.totalFloat[0].iso_code,e.next=9,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[0],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+r+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 9:if(!this.totalFloat[1]){e.next=14;break}return this.totalFloat[1].handover_id=a,s=this.totalFloat[0].iso_code,e.next=14,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[1],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+s+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 14:if(!this.totalFloat[2]){e.next=19;break}return this.totalFloat[2].handover_id=a,n=this.totalFloat[0].iso_code,e.next=19,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[2],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+n+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 19:if(!this.totalFloat[3]){e.next=24;break}return this.totalFloat[3].handover_id=a,i=this.totalFloat[0].iso_code,e.next=24,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[3],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+i+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 24:if(!this.totalFloat[4]){e.next=29;break}return this.totalFloat[4].handover_id=a,o=this.totalFloat[0].iso_code,e.next=29,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[4],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+o+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 29:if(!this.totalFloat[5]){e.next=34;break}return this.totalFloat[5].handover_id=a,l=this.totalFloat[0].iso_code,e.next=34,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[5],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+l+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 34:if(!this.totalFloat[6]){e.next=39;break}return this.totalFloat[6].handover_id=a,c=this.totalFloat[0].iso_code,e.next=39,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[6],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+c+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 39:if(!this.totalFloat[7]){e.next=44;break}return this.totalFloat[7].handover_id=a,d=this.totalFloat[0].iso_code,e.next=44,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[7],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+d+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 44:if(!this.totalFloat[8]){e.next=49;break}return this.totalFloat[8].handover_id=a,u=this.totalFloat[0].iso_code,e.next=49,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[8],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+u+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 49:if(!this.totalFloat[9]){e.next=54;break}return this.totalFloat[9].handover_id=a,h=this.totalFloat[0].iso_code,e.next=54,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[9],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+h+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 54:if(!this.totalFloat[10]){e.next=59;break}return this.totalFloat[10].handover_id=a,p=this.totalFloat[0].iso_code,e.next=59,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[10],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+p+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 59:if(!this.totalFloat[11]){e.next=64;break}return this.totalFloat[11].handover_id=a,m=this.totalFloat[0].iso_code,e.next=64,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[11],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+m+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 64:if(!this.totalFloat[12]){e.next=69;break}return this.totalFloat[12].handover_id=a,f=this.totalFloat[0].iso_code,e.next=69,A.a.post(this.nodeApi+"/updateTellerToBranchFloatHandOver2",this.totalFloat[12],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+f+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 69:return e.next=71,this.clearTransfer();case 71:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),tellertobranchT:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h,p,m,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},console.log(this.totalFloat),a=Date.now(),0,!this.totalFloat[0]){e.next=16;break}if(this.totalFloat[0].handover_id=a,r=this.totalFloat[0].iso_code,this.totalFloat[0].to_branch_id="1",this.totalFloat[0].to_user_id="210",this.totalFloat[0].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[0].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[0].created_by=this.$session.get("user").userdetails.id,this.totalFloat[0].approvalStatus=14,!(this.totalFloat[0].amount>0)){e.next=16;break}return e.next=16,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[0],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+r+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 16:if(!this.totalFloat[1]){e.next=28;break}if(this.totalFloat[1].handover_id=a,s=this.totalFloat[1].iso_code,this.totalFloat[1].to_branch_id="1",this.totalFloat[1].to_user_id="210",this.totalFloat[1].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[1].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[1].created_by=this.$session.get("user").userdetails.id,this.totalFloat[1].approvalStatus=14,!(this.totalFloat[1].amount>0)){e.next=28;break}return e.next=28,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[1],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+s+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 28:if(!this.totalFloat[2]){e.next=40;break}if(this.totalFloat[2].handover_id=a,n=this.totalFloat[2].iso_code,this.totalFloat[2].to_branch_id="1",this.totalFloat[2].to_user_id="210",this.totalFloat[2].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[2].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[2].created_by=this.$session.get("user").userdetails.id,this.totalFloat[2].approvalStatus=14,!(this.totalFloat[2].amount>0)){e.next=40;break}return e.next=40,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[2],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+n+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 40:if(!this.totalFloat[3]){e.next=52;break}if(this.totalFloat[3].handover_id=a,i=this.totalFloat[3].iso_code,this.totalFloat[3].to_branch_id="1",this.totalFloat[3].to_user_id="210",this.totalFloat[3].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[3].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[3].created_by=this.$session.get("user").userdetails.id,this.totalFloat[3].approvalStatus=14,!(this.totalFloat[3].amount>0)){e.next=52;break}return e.next=52,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[3],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+i+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 52:if(!this.totalFloat[4]){e.next=64;break}if(this.totalFloat[4].handover_id=a,o=this.totalFloat[4].iso_code,this.totalFloat[4].to_branch_id="1",this.totalFloat[4].to_user_id="210",this.totalFloat[4].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[4].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[4].created_by=this.$session.get("user").userdetails.id,this.totalFloat[4].approvalStatus=14,!(this.totalFloat[4].amount>0)){e.next=64;break}return e.next=64,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[4],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+o+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 64:if(!this.totalFloat[5]){e.next=76;break}if(this.totalFloat[5].handover_id=a,l=this.totalFloat[5].iso_code,this.totalFloat[5].to_branch_id="1",this.totalFloat[5].to_user_id="210",this.totalFloat[5].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[5].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[5].created_by=this.$session.get("user").userdetails.id,this.totalFloat[5].approvalStatus=14,!(this.totalFloat[5].amount>0)){e.next=76;break}return e.next=76,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[5],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+l+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 76:if(!this.totalFloat[6]){e.next=88;break}if(this.totalFloat[6].handover_id=a,c=this.totalFloat[6].iso_code,this.totalFloat[6].to_branch_id="1",this.totalFloat[6].to_user_id="210",this.totalFloat[6].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[6].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[6].created_by=this.$session.get("user").userdetails.id,this.totalFloat[6].approvalStatus=14,!(this.totalFloat[6].amount>0)){e.next=88;break}return e.next=88,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[6],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+c+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 88:if(!this.totalFloat[7]){e.next=100;break}if(this.totalFloat[7].handover_id=a,d=this.totalFloat[7].iso_code,this.totalFloat[7].to_branch_id="1",this.totalFloat[7].to_user_id="210",this.totalFloat[7].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[7].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[7].created_by=this.$session.get("user").userdetails.id,this.totalFloat[7].approvalStatus=14,!(this.totalFloat[7].amount>0)){e.next=100;break}return e.next=100,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[7],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+d+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 100:if(!this.totalFloat[8]){e.next=112;break}if(this.totalFloat[8].handover_id=a,u=this.totalFloat[8].iso_code,this.totalFloat[8].to_branch_id="1",this.totalFloat[8].to_user_id="210",this.totalFloat[8].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[8].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[8].created_by=this.$session.get("user").userdetails.id,this.totalFloat[8].approvalStatus=14,!(this.totalFloat[8].amount>0)){e.next=112;break}return e.next=112,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[8],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+u+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 112:if(!this.totalFloat[9]){e.next=124;break}if(this.totalFloat[9].handover_id=a,h=this.totalFloat[9].iso_code,this.totalFloat[9].to_branch_id="1",this.totalFloat[9].to_user_id="210",this.totalFloat[9].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[9].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[9].created_by=this.$session.get("user").userdetails.id,this.totalFloat[9].approvalStatus=14,!(this.totalFloat[9].amount>0)){e.next=124;break}return e.next=124,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[9],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+h+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 124:if(!this.totalFloat[10]){e.next=136;break}if(this.totalFloat[10].handover_id=a,p=this.totalFloat[10].iso_code,this.totalFloat[10].to_branch_id="1",this.totalFloat[10].to_user_id="210",this.totalFloat[10].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[10].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[10].created_by=this.$session.get("user").userdetails.id,this.totalFloat[10].approvalStatus=14,!(this.totalFloat[10].amount>0)){e.next=136;break}return e.next=136,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[10],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+p+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 136:if(!this.totalFloat[11]){e.next=148;break}if(this.totalFloat[11].handover_id=a,m=this.totalFloat[11].iso_code,this.totalFloat[11].to_branch_id="1",this.totalFloat[11].to_user_id="210",this.totalFloat[11].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[11].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[11].created_by=this.$session.get("user").userdetails.id,this.totalFloat[11].approvalStatus=14,!(this.totalFloat[12].amount>0)){e.next=148;break}return e.next=148,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[11],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+m+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 148:if(!this.totalFloat[12]){e.next=160;break}if(this.totalFloat[12].handover_id=a,f=this.totalFloat[12].iso_code,this.totalFloat[12].to_branch_id="1",this.totalFloat[12].to_user_id="210",this.totalFloat[12].from_branch_id=this.$session.get("user").userdetails.branch_id,this.totalFloat[12].from_user_id=this.$session.get("user").userdetails.id,this.totalFloat[12].created_by=this.$session.get("user").userdetails.id,this.totalFloat[12].approvalStatus=14,!(this.totalFloat[12].amount>0)){e.next=160;break}return e.next=160,A.a.post(this.nodeApi+"/addTreasuryToTeller",this.totalFloat[12],{headers:t}).subscribe((function(e){e.data.message&&(console.log("Error for "+f+" Message : "+e.data.message),1)}),(function(e){return console.log(e)}));case 160:return e.next=162,this.clearTransferT();case 162:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearTransfer:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$swal.fire({type:"success",title:"Teller Float Hand-Over",text:"You have successfully completed float hand-over."}),this.refresh();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clearTransferT:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.printPDF("PrintMe"),this.$swal.fire({type:"success",title:"Teller Float Hand-Over",text:"You have successfully completed Treasury float hand-over and it is pending approval."}),this.refresh();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendRequest:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(this.managerData),this.superviser_id=this.managerData.id,this.dialoghandoverRequest=!1,this.dialoghandoverConfirm=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),printPDF:function(e){var t=document.getElementById(e).innerHTML,a=window.open("","Print","height=600,width=800");return a.document.write("<html><head><title>Print</title>"),a.document.write("</head><body >"),a.document.write(t),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout((function(){a.print(),a.close()}),1e3),!0},getDateNow:function(){return this.time=Date.now()},finalHandOver:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialoghandoverRequest=!0,e.next=3,A.a.get(this.nodeApi+"/getMessageNumbers2").subscribe((function(e){t.whatsappNumbers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),finalHandOverT:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$swal.fire({title:"Treasury Hand Over",text:"Are you sure you want to clear your float and hand over to treasury.",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, send it!"}).then((function(e){e.value&&t.sendHoverApprove()}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sendHoverApprove:function(){this.dialogHandOverT=!1;this.$session.get("user").userdetails.branch_id,this.$session.get("user").userdetails.id,this.$session.get("user").userdetails.id;this.tellertobranchT()},sendWhatsappReport:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n,i,o,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new Date,r=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),n=a.getFullYear(),a=r+"/"+s+"/"+n,i="",this.totalFloat.forEach((function(e){i+="".concat(e.symbol," *").concat(parseFloat(e.amount).toFixed(2),"*%0A")})),o=encodeURI(t.cell.replace(/\s/g,"")),l="*Teller Hand-Over Report (".concat(a,")*%0A%0ABranch : *").concat(this.$session.get("user").userdetails.branch_name,"*%0ASupervisor : *").concat(t.first_name.replace(/\s/g,""),"  ").concat(t.last_name.replace(/\s/g,""),"*%0ATeller : *").concat(this.$session.get("user").userdetails.username,"*%0A%0A"),c=encodeURI(l+i),e.prev=10,e.next=13,fetch("https://sms.contitouch.co.zw/api.json?cmd=sendwapp&username=contipay&password=password01&gsm="+o+"&msg="+c,{method:"GET",mode:"no-cors"});case 13:e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](10),console.error("Error:",e.t0);case 19:case"end":return e.stop()}}),e,this,[[10,16]])})));function t(t){return e.apply(this,arguments)}return t}(),handover:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.time=Date.now(),this.getSupervisor(),this.dialogHandOver=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handoverTreasury:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.time=Date.now(),this.getSuperSupervisor(),this.dialogHandOverT=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),completeFuncton:function(e){console.log(e),"complete"==e&&(this.getAllUserFloats(),this.refresh())},getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllRatesByCurrencyID",{currency_id:t},{headers:a}).subscribe((function(e){r.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllUserFloats:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getUserFloatByCol2",{col:"user_id",value:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(e){a.totalFloat=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColTellers",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllTransactionsUtility:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColTellersUtil",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllTransactionsWorldRemit:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColTellersWorldRemit",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllTransactionsContiSendIn:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColTellersContiSendIn",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllTransactionsContiSendOut:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColTellersContiSendOut",{user_id:this.$session.get("user").userdetails.id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},refresh:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=this.tableType){e.next=3;break}return e.next=3,this.getAllTransactions();case 3:if(1!=this.tableType){e.next=6;break}return e.next=6,this.getAllTransactionsUtility();case 6:if(2!=this.tableType){e.next=9;break}return e.next=9,this.getAllTransactionsWorldRemit();case 9:return e.next=11,this.getAllUserFloats();case 11:return e.next=13,this.getAllRates("USD");case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}},Zs=qs,Ks=(a("09a4"),Object(d["a"])(Zs,Gs,Ys,!1,null,"082ba8da",null)),Js=Ks.exports;h()(Ks,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VCombobox:I["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var Qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Client Administration Form")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.openAddNewUser}},[e._v("Create Client")]),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[a("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Personal Information")]),a("v-divider"),a("v-stepper-step",{attrs:{editable:"",step:"2"}},[e._v("Client Type")])],1),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedUser.first_name,callback:function(t){e.$set(e.editedUser,"first_name",t)},expression:"editedUser.first_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"National ID"},model:{value:e.editedUser.id_number,callback:function(t){e.$set(e.editedUser,"id_number",t)},expression:"editedUser.id_number"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.editedUser.cell,callback:function(t){e.$set(e.editedUser,"cell",t)},expression:"editedUser.cell"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Email Address"},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Date of Birth(DD-MM-YYYY)",type:"date"},model:{value:e.editedUser.date_of_birth,callback:function(t){e.$set(e.editedUser,"date_of_birth",t)},expression:"editedUser.date_of_birth"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-text-field",{attrs:{label:"Address"},model:{value:e.editedUser.address,callback:function(t){e.$set(e.editedUser,"address",t)},expression:"editedUser.address"}})],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v(" Continue ")])],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-layout",{attrs:{wrap:"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[a("v-select",{attrs:{label:"Client Type","item-text":"status","item-value":"id",items:e.userlevelData},model:{value:e.editedUser.company_id,callback:function(t){e.$set(e.editedUser,"company_id",t)},expression:"editedUser.company_id"}})],1)],1),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.editCheck,expression:"!editCheck"}],attrs:{color:"primary"},on:{click:e.saveNewUser}},[e._v("\n              Save\n            ")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],attrs:{color:"primary"},on:{click:e.saveUser}},[e._v(" Update ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=1}}},[e._v("back")])],1)],1)],1)],1)],1),a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{key:e.UsersData.id,staticClass:"elevation-1",attrs:{headers:e.headersUsers,items:e.UsersData,"must-sort":"",search:e.search,pagination:e.pagination},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v("\n        "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n      ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.id_number))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(e.convertToDate(t.item.date_of_birth)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.cell))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.nationality))]),a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"red",icon:""},on:{click:function(a){return e.ClientHistory(t.item,"Sell")}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v(" trending_up ")])],1)]}}],null,!0)},[a("span",[e._v("Client Sell History")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"blue",icon:""},on:{click:function(a){return e.ClientHistory(t.item,"Buy")}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v(" trending_down ")])],1)]}}],null,!0)},[a("span",[e._v("Client Buy History")])])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])]},proxy:!0}])}),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:e.dialogClientHistory,callback:function(t){e.dialogClientHistory=t},expression:"dialogClientHistory"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Client Transaction History")]),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogClientHistory=!1}}},[e._v("Close")])],1),a("v-layout",{attrs:{row:"",wrap:"","ma-3":"","justify-end":""}},[a("v-flex",{attrs:{xs12:"",md4:""}},[a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}})],1),a("v-flex",{attrs:{xs12:"",md8:""}},[a("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggleDates,callback:function(t){e.toggleDates=t},expression:"toggleDates"}},[a("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" Today ")]),a("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" This Week ")]),a("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Month ")])],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n            Specific Range\n          ")]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{icon:""}},[a("export-excel",{staticClass:"btn btn-default",attrs:{data:e.clientData,fields:e.json_fields,worksheet:"Tran_Worksheet",name:"ClientTransactionsReport.xls"}},[a("v-icon",e._g({attrs:{color:"green darken-2"}},r),[e._v("library_add")])],1)],1)]}}])},[a("span",[e._v("Export to excel")])])],1)],1),a("v-data-table",{key:e.clientData.client_id,staticClass:"elevation-1",attrs:{headers:e.headersClients,items:e.clientData,"must-sort":"",pagination:e.pagination1,search:e.search2},on:{"update:pagination":function(t){e.pagination1=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.branch))]),a("td",{staticClass:"text-xs-left"},[e._v("\n            "+e._s(t.item.first_name)+" "+e._s(t.item.last_name)+"\n          ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.tran_type))]),a("td",{staticClass:"text-xs-left"},[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n            $"+e._s(t.item.client_amount)+"\n          ")],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.rate))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.date_time))])]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n            Your search for "'+e._s(e.search)+'" found no results.\n          ')])]},proxy:!0}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[a("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),a("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[a("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1)],1)},Xs=[],en={data:function(){var e;return e={nodeApi:"http://localhost:8081",image:"/img/",userlevelData:[],phone:"",phoneData:"",counter:0,isActive:!0,toggleDates:"1",end_date:null,start_date:null,dialogdaterange:!1,search2:"",dialogClientHistory:!1,isValidPhone:!1,clientData:[],dialogUserEdit:!1},Object(C["a"])(e,"userlevelData",[{status:"Individual",id:1},{status:"Company",id:0}]),Object(C["a"])(e,"UsersData",[]),Object(C["a"])(e,"statusData",[{status:"Active",id:2},{status:"Disabled",id:3}]),Object(C["a"])(e,"headersUsers",[{text:"Client ID",value:"id"},{text:"Full Name",align:"left",value:"first_name"},{text:"National ID",value:"fullname"},{text:"Date of Birth",value:"date_of_birth"},{text:"Cell Number",value:"cell"},{text:"Nationality",value:"nationality"},{text:"Actions",value:"nationality"}]),Object(C["a"])(e,"headersClients",[{text:"Branch",value:"branch"},{text:"Full Name",align:"left",value:"first_name"},{text:"Tran Type",value:"tran_type"},{text:"Amount",value:"client_amount"},{text:"Rate",value:"rate"},{text:"Date",value:"date_time"}]),Object(C["a"])(e,"search",""),Object(C["a"])(e,"dialogUser",!1),Object(C["a"])(e,"e1",0),Object(C["a"])(e,"editCheck",!1),Object(C["a"])(e,"editedIndexUser",-1),Object(C["a"])(e,"pagination",{rowsPerPage:10}),Object(C["a"])(e,"pagination1",{rowsPerPage:10}),Object(C["a"])(e,"search",""),Object(C["a"])(e,"editedUser",{id:0,first_name:"",last_name:"",email:"",id_number:"",date_of_birth:null,address:"",countryCode:"",company_id:1,branch_id:0,user_type:0,nationality:"",status:2,cell:"",created_by:0}),Object(C["a"])(e,"json_fields",{"Branch Name":"branch","Transaction Date Time":"date_time","Transaction Type":"tran_type","Client First Name":"first_name","Client Last Name":"last_name",Currency:"symbol",Amount:"client_amount",Rate:"rate"}),Object(C["a"])(e,"ClearUser",{id:0,first_name:"",last_name:"",email:"",id_number:"",date_of_birth:null,address:"",countryCode:"",company_id:1,branch_id:0,user_type:0,nationality:"",status:2,cell:"",created_by:0}),Object(C["a"])(e,"selectedClientData",null),Object(C["a"])(e,"clientTransactionType",null),e},created:function(){this.initializeUser(),this.counter+=1},watch:{toggleDates:function(e){"1"==e&&this.ClientHistory(this.selectedClientData,this.clientTransactionType),"2"==e&&this.ClientHistory(this.selectedClientData,this.clientTransactionType),"3"==e&&this.ClientHistory(this.selectedClientData,this.clientTransactionType)},phone:function(e){},counter:function(e){},dialogUser:function(e){0==e&&(this.editCheck=!1,this.editedUser.first_name="",this.editedUser.last_name="",this.editedUser.email="",this.editedUser.id_number="",this.editedUser.date_of_birth=null,this.editedUser.address="",this.editedUser.cell="",this.e1=1)}},methods:{daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},s={client_id:this.selectedClientData.id,tran_type:1,start:this.start_date,end:this.end_date},e.next=8,A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDSpecific",s,{headers:r}).subscribe((function(e){n.clientData=e.data.data.one.recordset,n.dialogdaterange=!1}),(function(e){return console.log(e)}));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),ClientHistory:function(e,t){var a=this;if(this.selectedClientData=e,this.clientTransactionType=t,"Buy"==t){if("1"==this.toggleDates){var r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},s={client_id:e.id,tran_type:1};A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDNow",s,{headers:r}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}if("2"==this.toggleDates){var n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};s={client_id:e.id,tran_type:1};A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDWeek",s,{headers:n}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}if("3"==this.toggleDates){var i={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};s={client_id:e.id,tran_type:1};A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDMonth",s,{headers:i}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}}if("Sell"==t){if("1"==this.toggleDates){var o={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};s={client_id:e.id,tran_type:2};A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDNow",s,{headers:o}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}if("2"==this.toggleDates){var l={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};s={client_id:e.id,tran_type:2};A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDWeek",s,{headers:l}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}if("3"==this.toggleDates){var c={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};s={client_id:e.id,tran_type:2};A.a.post(this.nodeApi+"/getFullClientsTransactionsByIDMonth",s,{headers:c}).subscribe((function(e){a.clientData=e.data.data.one.recordset,a.dialogClientHistory=!0}),(function(e){return console.log(e)}))}}},convertToDate:function(e){var t=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],a=new Date(e),r=a.getDate()+"-"+t[a.getMonth()]+"-"+a.getFullYear();return r},openEditUser:function(){this.dialogUserEdit=!0},getUserStatus:function(e){return 0==e?"Disabled":1==e?"Active":void 0},openAddNewUser:function(){this.dialogUser=!0},getUserType:function(e){return 1==e?"Branch Clerk":2==e?"Branch Supervisor":3==e?"Treasury Officer":4==e?"Transporter":5==e?"Treasury Manager":6==e?"System Admin":void 0},getTelePhone:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.editedUser.nationality=t.country.name,this.editedUser.countryCode=t.country.iso2),t.isValid||(this.isActive=!0)},saveNewUser:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.editedUser.id_number){e.next=4;break}this.$swal.fire("Client ID Error","Please enter client ID.","error"),e.next=22;break;case 4:if(!(this.editedUser.id_number.length<7)){e.next=8;break}this.$swal.fire("Client ID Error","Please enter client ID.","error"),e.next=22;break;case 8:if(this.isValidPhone){e.next=12;break}this.$swal.fire("Phone Error","Please enter a valid phone number.","error"),e.next=22;break;case 12:if(this.editedUser.first_name&&this.editedUser.last_name){e.next=16;break}this.$swal.fire("Name Error","Please enter First Name and Last Name.","error"),e.next=22;break;case 16:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},this.editedUser.created_by=this.$session.get("user").userdetails.id,0,e.next=21,A.a.post(this.nodeApi+"/addClients",this.editedUser,{headers:t,timeout:5e3}).subscribe((function(e){try{e.data.data.one.recordset&&(e.data.data.one.recordset.insertId,a.editedUser=a.ClearUser,a.initializeUser(),a.dialogUser=!1,a.$swal.fire({type:"success",title:"Client Added",text:"Client was added successfully"}))}catch(t){a.$swal.fire({type:"error",title:"Client Adding Failed",text:e.data.message.sqlMessage})}}),(function(e){a.dialogloader=!1,a.$swal.fire("Client Adding","Failed to add client account, probably because another client has the same email or phone number.","error")}));case 21:s;case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},editItemUser:function(e){this.editedIndexUser=this.UsersData.indexOf(e),this.editedUser=Object.assign({},e),this.editCheck=!0,this.dialogUser=!0},deleteItemUser:function(e){var t=this;this.UsersData.indexOf(e);this.$swal.fire({title:"Disable User?",text:"Are you sure you want to disable this !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, disable!"}).then((function(a){a.value&&A.a.put(t.nodeApi+"/disableUser/"+e.id,{status:0}).subscribe((function(e){e.data.rowsAffected&&t.$swal.fire("Disabled!","User account has been disabled.","success"),e.data.rowsAffected||t.$swal.fire({type:"error",title:"User Disable Failed",text:e.data.originalError.info.message}),t.initializeUser()}),(function(e){}))}))},saveUser:function(){var e=this;if(this.editedUser.id_number)if(this.editedUser.id_number.length<7)this.$swal.fire("Client ID Error","Please enter client ID.","error");else if(this.isValidPhone)if(this.editedUser.first_name&&this.editedUser.last_name)if(this.editedUser.email)if(this.validateEmail(this.editedUser.email.replace(/\s/g,""))){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.put(this.nodeApi+"/updateClients/"+this.editedUser.id,this.editedUser,{headers:t}).subscribe((function(t){t.data.message?(e.editedUser=e.ClearUser,e.initializeUser(),e.dialogUser=!1,e.$swal.fire({type:"success",title:"User edit",text:"User was edit successfully"})):e.$swal.fire({type:"error",title:"User Adding Edit",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Email Error","Please enter a valid email address.","error");else this.$swal.fire("Email Error","Please enter an email.","error");else this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error");else this.$swal.fire("Phone Error","Please enter a valid phone number.","error");else this.$swal.fire("Client ID Error","Please enter client ID.","error")},initializeUser:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllClients",{headers:t}).subscribe((function(t){e.UsersData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},closeUser:function(){var e=this;this.editCheck=!1,this.dialogUser=!1,setTimeout((function(){e.editedUser=Object.assign({},e.defaultUser),e.editedIndexUser=-1}),300)}}},tn=en,an=Object(d["a"])(tn,Qs,Xs,!1,null,"d87c75be",null),rn=an.exports;h()(an,{VAlert:R["a"],VAvatar:$["a"],VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardTitle:O["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSelect:J["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"],VTooltip:ue["a"]});var sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{staticClass:"white--text hidden-md-and-up",attrs:{row:"","justify-end":""}},[a("h2",{staticStyle:{color:"grey"}},[e._v("Rates Administration Form")])]),a("v-toolbar",{attrs:{flat:"",color:"yellow darken-3"}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v("Rates Administration Form")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:e.openAddNewUser}},[e._v("Create New Currency Rates")]),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Currency Rates Form")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-combobox",{attrs:{disabled:e.editCheck,items:e.currencyData,label:"Select Foreign Currency","item-text":"iso_code","item-value":"id"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n                "+e._s(t.item.iso_code)+"\n              ")]}}]),model:{value:e.editedUser.currency_id,callback:function(t){e.$set(e.editedUser,"currency_id",t)},expression:"editedUser.currency_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Buying Rate",type:"text",required:""},model:{value:e.editedUser.buy_rate,callback:function(t){e.$set(e.editedUser,"buy_rate",t)},expression:"editedUser.buy_rate"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-combobox",{attrs:{disabled:e.editCheck,items:e.currencyData,label:"Select Local Currency","item-text":"iso_code","item-value":"id"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n                "+e._s(t.item.iso_code)+"\n              ")]}}]),model:{value:e.editedUser.local_currency_id,callback:function(t){e.$set(e.editedUser,"local_currency_id",t)},expression:"editedUser.local_currency_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Selling Rate",type:"text",required:""},model:{value:e.editedUser.sell_rate,callback:function(t){e.$set(e.editedUser,"sell_rate",t)},expression:"editedUser.sell_rate"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogUser=!1}}},[e._v("Close")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.editCheck,expression:"!editCheck"}],staticClass:"white--text",attrs:{color:"green"},on:{click:e.saveNewUser}},[e._v("Save")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],staticClass:"white--text",attrs:{color:"green"},on:{click:e.saveUser}},[e._v("Update")])],1)],1)],1),a("v-text-field",{staticStyle:{margin:"5px"},attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-data-table",{key:e.UsersData.id,staticClass:"elevation-1",attrs:{headers:e.headersUsers,pagination:e.pagination,items:e.UsersData,search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.currency_image}})]),e._v("\n        "+e._s(t.item.currency_id)+"\n      ")],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.buy_rate))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.sell_rate))]),a("td",{staticClass:"text-xs-left"},[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.local_currency_image}})]),e._v("\n        "+e._s(t.item.local_currency_id)+"\n      ")],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),a("td",{staticClass:"justify-left"},[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return e.editItemUser(t.item)}}},[e._v(" edit ")]),a("v-icon",{attrs:{small:""},on:{click:function(a){return e.deleteItemUser(t.item)}}},[e._v(" delete ")])],1)]}},{key:"no-data",fn:function(){return[a("h4",[e._v("No records found")])]},proxy:!0},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v('\n        Your search for "'+e._s(e.search)+'" found no results.\n      ')])]},proxy:!0}])}),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser2,callback:function(t){e.dialogUser2=t},expression:"dialogUser2"}},[a("v-card",[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Inter-Bank Rates Form")])]),a("v-layout",{attrs:{wrap:"","ma-3":""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-combobox",{attrs:{disabled:e.editCheck,items:e.currencyData,label:"Select Foreign Currency","item-text":"iso_code","item-value":"id"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n              "+e._s(t.item.iso_code)+"\n            ")]}}]),model:{value:e.editedUser.currency_id,callback:function(t){e.$set(e.editedUser,"currency_id",t)},expression:"editedUser.currency_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Buying Rate",type:"text",required:""},model:{value:e.editedUser.buy_rate,callback:function(t){e.$set(e.editedUser,"buy_rate",t)},expression:"editedUser.buy_rate"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-combobox",{attrs:{disabled:e.editCheck,items:e.currencyData,label:"Select Local Currency","item-text":"iso_code","item-value":"id"},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-avatar",{attrs:{left:"",tile:""}},[a("img",{staticStyle:{"max-width":"100px",height:"auto","margin-right":"30px",padding:"5px"},attrs:{src:e.image+t.item.image}})]),e._v("\n              "+e._s(t.item.iso_code)+"\n            ")]}}]),model:{value:e.editedUser.local_currency_id,callback:function(t){e.$set(e.editedUser,"local_currency_id",t)},expression:"editedUser.local_currency_id"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Selling Rate",type:"text",required:""},model:{value:e.editedUser.sell_rate,callback:function(t){e.$set(e.editedUser,"sell_rate",t)},expression:"editedUser.sell_rate"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogUser2=!1}}},[e._v("Close")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.editCheck,expression:"!editCheck"}],staticClass:"white--text",attrs:{color:"green"},on:{click:e.saveNewUser}},[e._v("Save")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],staticClass:"white--text",attrs:{color:"green"},on:{click:e.saveUser}},[e._v("Update")])],1)],1)],1)},nn=[],on={data:function(){var e;return e={nodeApi:"http://localhost:8081",userlevelData:[],imagezwd:"/img/zwd.png",imageusd:"/img/usd.png",image:"/img/",phone:"",phoneData:"",counter:0,isActive:!0,isValidPhone:!1,dialogUserEdit:!1,currencyData:[],pagination:{sortBy:"currency_id",descending:!0,rowsPerPage:25}},Object(C["a"])(e,"userlevelData",[{status:"Individual",id:1},{status:"Company",id:0}]),Object(C["a"])(e,"UsersData",[]),Object(C["a"])(e,"statusData",[{status:"Active",id:2},{status:"Disabled",id:3}]),Object(C["a"])(e,"headersUsers",[{text:"Rate ID",value:"id"},{text:"Currency",align:"left",sortable:!1,value:"currency_id"},{text:"Buying Rate",value:"buy_rate"},{text:"Selling Rate",value:"sell_rate"},{text:"Local Currency Type",value:"local_currency"},{text:"Status",value:"status"},{text:"Actions",value:"username",sortable:!1}]),Object(C["a"])(e,"search",""),Object(C["a"])(e,"dialogUser",!1),Object(C["a"])(e,"dialogUser2",!1),Object(C["a"])(e,"e1",0),Object(C["a"])(e,"editCheck",!1),Object(C["a"])(e,"editedIndexUser",-1),Object(C["a"])(e,"search",""),Object(C["a"])(e,"editedUser",{id:0,currency_id:null,local_currency_id:null,buy_rate:0,sell_rate:0,status:2,created_by:0}),Object(C["a"])(e,"ClearUser",{id:0,currency_id:null,local_currency_id:null,buy_rate:0,sell_rate:0,status:2,created_by:0}),e},created:function(){this.initializeUser(),this.getAllCurrencies(),this.counter+=1},watch:{dialogUser:function(e){e||(this.editedUser={id:0,currency_id:null,local_currency_id:null,buy_rate:0,sell_rate:0,status:2,created_by:0})},phone:function(e){},counter:function(e){}},methods:{convertToDate:function(e){var t=new Date(e).toDateString();return t},openEditUser:function(){this.dialogUserEdit=!0},getUserStatus:function(e){return 0==e?"Disabled":1==e?"Active":void 0},openAddNewUser:function(){this.dialogUser=!0,this.editCheck=!1,this.editedUser=this.ClearUser},openAddNewUser2:function(){this.dialogUser2=!0},getUserType:function(e){return 1==e?"Branch Clerk":2==e?"Branch Supervisor":3==e?"Treasury Officer":4==e?"Transporter":5==e?"Treasury Manager":6==e?"System Admin":void 0},getTelePhone:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.editedUser.nationality=t.country.name),t.isValid||(this.isActive=!0)},saveNewUser:function(){var e=this;if(this.editedUser.currency_id)if(this.editedUser.local_currency_id)if(this.editedUser.buy_rate)if(this.editedUser.sell_rate){var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.editedUser.created_by=this.$session.get("user").userdetails.id,this.editedUser.currency_id=this.editedUser.currency_id.id,this.editedUser.local_currency_id=this.editedUser.local_currency_id.id,A.a.post(this.nodeApi+"/addRates",this.editedUser,{headers:t}).subscribe((function(t){t.data.data.one?(e.editedUser=e.ClearUser,e.initializeUser(),e.dialogUser=!1,e.$swal.fire({type:"success",title:"Rate Added",text:"Rate was added successfully"})):e.$swal.fire({type:"error",title:"Rate Adding Failed",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Rate Error","Please enter a sell rate.","error");else this.$swal.fire("Rate Error","Please enter a buy rate.","error");else this.$swal.fire("Rate Error","Please enter a local currency.","error");else this.$swal.fire("Rate Error","Please enter a foreign currency.","error")},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},editItemUser:function(e){this.editedIndexUser=this.UsersData.indexOf(e),this.editedUser=Object.assign({},e),this.editCheck=!0,this.dialogUser=!0},deleteItemUser:function(e){var t=this;this.UsersData.indexOf(e);this.$swal.fire({title:"Delete Rates?",text:"Are you sure you want to delete this !",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete!"}).then((function(a){if(a.value){var r={"Content-Type":"application/json",Authorization:"Bearer "+t.$session.get("user").token};A.a.post(t.nodeApi+"/deleteRates",{wcol:"id",wvalue:e.id},{headers:r}).subscribe((function(e){e.data.data.one?t.$swal.fire("Deleted!","Currency rate has been deleted.","success"):t.$swal.fire({type:"error",title:"Rates Delete Failed",text:e.data.message}),t.initializeUser()}),(function(e){}))}}))},saveUser:function(){var e=this;if(this.editedUser.currency_id)if(this.editedUser.local_currency_id){console.log(this.editedUser);var t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.editedUser.created_by=this.$session.get("user").userdetails.id,this.editedUser.username=this.$session.get("user").userdetails.username,A.a.put(this.nodeApi+"/updateRates/"+this.editedUser.id,this.editedUser,{headers:t}).subscribe((function(t){t.data.data.one?(e.editedUser=e.ClearUser,e.initializeUser(),e.dialogUser=!1,e.$swal.fire({type:"success",title:"Rates edit",text:"Rate was edited successfully"})):e.$swal.fire({type:"error",title:"Rates Edit",text:t.data.message})}),(function(e){return console.log(e)}))}else this.$swal.fire("Client ID Error","Please enter local currency.","error");else this.$swal.fire("Rates Error","Please enter Foreign Currency.","error")},initializeUser:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(t){e.UsersData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},getAllCurrencies:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.get(this.nodeApi+"/getAllCurrenciesActive",{headers:t}).subscribe((function(t){e.currencyData=t.data.data.one.recordset}),(function(e){return console.log(e)}))},closeUser:function(){var e=this;this.editCheck=!1,this.dialogUser=!1,setTimeout((function(){e.editedUser=Object.assign({},e.defaultUser),e.editedIndexUser=-1}),300)}}},ln=on,cn=Object(d["a"])(ln,sn,nn,!1,null,"15d974a8",null),dn=cn.exports;h()(cn,{VAlert:R["a"],VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardTitle:O["a"],VCombobox:I["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSpacer:Q["a"],VTextField:oe["a"],VToolbar:ce["a"],VToolbarTitle:de["b"]});var un=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"",wrap:"","ma-2":""}},[r("h2",{staticStyle:{color:"grey","margin-top":"18px","margin-right":"20px"}},[e._v("\n      Float Movement Report\n    ")]),r("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[r("v-text-field",{attrs:{"append-icon":"search",label:"Search by anything","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),r("v-spacer"),r("h2",{staticStyle:{color:"grey","margin-top":"18px"}},[e._v(e._s(e.report_type))])],1),r("h2",{staticStyle:{"margin-right":"20px"}},[e._v("Show for : "+e._s(e.SpecificRange))]),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("Displaying Teller to Teller",5)}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("8775")}})])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("Displaying Branch to Teller",3)}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("a5f4")}})])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("Displaying Teller to Branch",4)}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("6688")}})])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("Displaying Treasary to Branch",1)}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("06d5")}})])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("Displaying Branch to Treasary",2)}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("1d35")}})])],1)],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[r("v-card",{attrs:{hover:"","max-width":"150px"},on:{click:function(t){return e.openpage("Displaying Treasary Float Injection",7)}}},[r("v-flex",{staticClass:"card cardRev4",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("36f9")}})])],1)],1)],1),r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{color:"green",dark:""},on:{click:e.openpage2}},[e._v(" Today ")]),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v(" Specific Range ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.rows,worksheet:"Tran_Worksheet",name:"Float_Movement_Report.xls"}},[r("v-icon",e._g({attrs:{color:"green darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export to excel")])]),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("tr",[r("td",[e._v(e._s(t.item.id))]),r("td",[e._v(e._s(t.item.date_time))]),r("td",[e._v(e._s(t.item.handover_type))]),r("td",[e._v("\n              "+e._s(t.item.iso_code)+" "+e._s(parseFloat(t.item.amount).toFixed(2))+"\n            ")]),r("td",[e._v("\n              "+e._s(t.item.from_user_first_name)+" "+e._s(t.item.from_user_last_name)+"\n            ")]),r("td",[e._v("\n              "+e._s(t.item.to_user_first_name)+" "+e._s(t.item.to_user_last_name)+"\n            ")]),r("td",[e._v(e._s(t.item.from_branch))]),r("td",[e._v(e._s(t.item.to_branch))]),r("td",[e._v(e._s(t.item.username))]),r("td",[e._v(e._s(t.item.company))])])]}},{key:"expand",fn:function(t){return[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#ECB530",dark:""}},[r("v-card-text",[e._v("\n        Please stand by\n        "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},hn=[],pn={data:function(){var e;return e={dialogloader:!1,dialogdaterange:!1,company:1,companyData:[{id:1,name:"ContiCash"},{id:2,name:"WorldRemit"},{id:3,name:"ContiSend"}],start_date:"",end_date:"",allRates:[],totalFloat:[],expand:!1,show_start_date:!1,nodeApi:"http://localhost:8081"},Object(C["a"])(e,"start_date",null),Object(C["a"])(e,"is_charged",null),Object(C["a"])(e,"show_end_date",!1),Object(C["a"])(e,"end_date",null),Object(C["a"])(e,"report_type",""),Object(C["a"])(e,"user_type",0),Object(C["a"])(e,"center_id",""),Object(C["a"])(e,"centreCurrency",""),Object(C["a"])(e,"rowsFilter",[]),Object(C["a"])(e,"paymentHeaders",[{text:"Tran Ref",value:"id"},{text:"Tran Date",value:"date_time"},{text:"Type",value:"handover_type"},{text:"Amount $",value:"amount"},{text:"From User",value:"from_user_first_name"},{text:"To User",value:"to_user_first_name"},{text:"From Branch",value:"from_branch"},{text:"To Branch",value:"to_branch"},{text:"Created By",value:"username"},{text:"Company",value:"company"}]),Object(C["a"])(e,"search",""),Object(C["a"])(e,"filters",{search:"",added_by:"",start_date:null,end_date:null}),Object(C["a"])(e,"authors",["Buy","Sell"]),Object(C["a"])(e,"pagination",{sortBy:"id",descending:!0,rowsPerPage:15}),Object(C["a"])(e,"selected",[]),Object(C["a"])(e,"filteredRow",[]),Object(C["a"])(e,"symbol",""),Object(C["a"])(e,"json_fields",{id:"ID",date_time:"Date",tran_amount_total:"Total Amount",tran_amount:"Net Amount",tran_charge:"Tran Cost",tran_merchant:"Merchant",tran_account:"Account No",tran_provider:"Provider",handover_type:"Method",status:"Status"}),Object(C["a"])(e,"json_data",[]),Object(C["a"])(e,"json_meta",[[{key:"charset",value:"utf-8"}]]),Object(C["a"])(e,"rows",[]),Object(C["a"])(e,"pageNumber",5),Object(C["a"])(e,"SpecificRange","Today"),e},watch:{dialogdaterange:function(e){e&&(this.start_date=null,this.end_date=null)},rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{},mounted:function(){this.report_type="Displaying Teller to Teller",this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.getAllTransactions(5)},methods:{exportExcel:function(){},openpage:function(e,t){this.report_type=e,this.pageNumber=t,this.getAllTransactions(this.pageNumber)},openpage2:function(){this.SpecificRange="Today",this.getAllTransactions(this.pageNumber)},daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogdaterange=!1,this.SpecificRange="".concat(this.start_date," to ").concat(this.end_date),this.dialogloader=!0,t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=10,A.a.post(this.nodeApi+"/getFloatTransactions2",{handover_id:this.pageNumber,start:this.start_date,end:this.end_date,company:this.company},{headers:r}).subscribe((function(e){s.rows=e.data.data.one.recordset,s.dialogloader=!1}),(function(e){return console.log(e)}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getFloatTransactions",{handover_id:t,company:this.company},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),refresh:function(){this.getAllTransactions()}}},mn=pn,fn=(a("592d"),Object(d["a"])(mn,un,hn,!1,null,"792dc931",null)),gn=fn.exports;h()(fn,{VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticStyle:{color:"green"}},[e._v("Branch Float Movements Report")]),a("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search by anything","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-menu",{ref:"show_start_date",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.start_date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.start_date=t},"update:return-value":function(t){e.start_date=t}},model:{value:e.show_start_date,callback:function(t){e.show_start_date=t},expression:"show_start_date"}},[a("v-text-field",{attrs:{slot:"activator",label:"From","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}}),a("v-date-picker",{on:{input:e.filterStartDate},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-menu",{ref:"show_end_date",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.end_date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(t){e.end_date=t},"update:return-value":function(t){e.end_date=t}},model:{value:e.show_end_date,callback:function(t){e.show_end_date=t},expression:"show_end_date"}},[a("v-text-field",{attrs:{slot:"activator",label:"To","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}}),a("v-date-picker",{on:{input:e.filterEndDate},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm6:"",md2:"","ma-0":""}},[a("v-layout",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{icon:""},on:{click:e.refresh}},[a("v-icon",e._g({attrs:{color:"gray"}},r),[e._v("refresh")])],1)]}}])},[a("span",[e._v("Refresh Report")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{icon:""},on:{click:e.exportPdf}},[a("v-icon",e._g({attrs:{color:"red darken-2"}},r),[e._v("picture_as_pdf")])],1)]}}])},[a("span",[e._v("Export to pdf")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[a("export-excel",{staticClass:"btn btn-default",attrs:{data:e.rowsFilter,worksheet:"Tran_Worksheet",name:"TransactionsReport.xls"}},[a("v-icon",e._g({attrs:{color:"green darken-2"}},r),[e._v("library_add")])],1)],1)]}}])},[a("span",[e._v("Export to excel")])])],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id","must-sort":"",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[e._v(e._s(t.item.id))]),a("td",[e._v(e._s(t.item.created_at))]),a("td",["Sell"==t.item.transaction_type.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"Buy"==t.item.transaction_type.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e()],1),a("td",[e._v(e._s(parseFloat(t.item.rate).toFixed(1)))]),a("td",[e._v(e._s(t.item.receive_currency+" "+parseFloat(t.item.receive_amount).toFixed(2)))]),a("td",[e._v(e._s(t.item.disburse_currency+" "+parseFloat(t.item.disburse_amount).toFixed(2)))]),a("td",[e._v(e._s(t.item.first_name)+" "+e._s(t.item.last_name))]),a("td",[e._v(e._s(t.item.created_by))]),a("td",{attrs:{id:"chip-usage-example"}},["canceled"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"pending"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"gray"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"complete"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"GM"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{pill:"",color:"gray"}},[a("v-avatar",{attrs:{left:"",color:"red"}},[e._v("\n                                "+e._s(t.item.status)+"\n                              ")]),e._v("\n                           pending\n                          ")],1):e._e(),"SP"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{color:"gray"}},[a("v-avatar",{attrs:{left:"",color:"warning"}},[e._v("\n                                "+e._s(t.item.status)+"\n                              ")]),e._v("\n                           pending\n                          ")],1):e._e(),"TR"==t.item.status.replace(/\s/g,"")?a("v-chip",{attrs:{pill:"",color:"gray"}},[a("v-avatar",{attrs:{left:"",color:"purple"}},[e._v("\n                                "+e._s(t.item.status)+" \n                              ")]),e._v(" \n                              pending\n                          ")],1):e._e()],1)])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1)],1)},_n=[],bn={data:function(){return{allRates:[],totalFloat:[],expand:!1,show_start_date:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],paymentHeaders:[{text:"Tran Ref",value:"id"},{text:"Tran Date",value:"created_at"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received Amount $",value:"receive_amount"},{text:"Disbursed Amount $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"account"},{text:"Status",value:"status"}],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"date",rowsPerPage:15},selected:[],filteredRow:[],symbol:"",json_fields:{tran_id:"ID",created_by:"Date",tran_amount_total:"Total Amount",tran_amount:"Net Amount",tran_charge:"Tran Cost",tran_merchant:"Merchant",tran_account:"Account No",tran_provider:"Provider",transaction_type:"Method",status:"Status"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[]}},watch:{rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.getAllTransactions()},methods:{getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};A.a.post(this.nodeApi+"/getTransactionsByColBranch",{branch_id:this.$session.get("user").userdetails.branch_id},{headers:t}).subscribe((function(t){e.rows=t.data.data.one.recordset}),(function(e){return console.log(e)}))},refresh:function(){this.getAllTransactions()},exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}},yn=bn,xn=(a("5645"),Object(d["a"])(yn,vn,_n,!1,null,"4a4c3f1b",null));xn.exports;h()(xn,{VAvatar:$["a"],VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VChip:Ye["a"],VDataTable:E["a"],VDatePicker:$e["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VMenu:Z["a"],VTextField:oe["a"],VTooltip:ue["a"]});var wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-layout",{attrs:{row:"","justify-end":""}},[a("h2",{staticStyle:{color:"green"}},[e._v("WorldRemit Pending Approvals")]),a("br"),a("br")]),a("v-layout",{attrs:{row:"","justify-end":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id","must-sort":"",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[0==t.item.rbz?a("v-chip",{attrs:{label:"",color:"grey","text-color":"white"},on:{click:function(a){return e.resendRBZ(t.item)}}},[e._v("\n                             "+e._s(t.item.reference)+"  \n                           ")]):e._e(),1==t.item.rbz?a("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                             "+e._s(t.item.reference)+"  \n                           ")]):e._e(),2==t.item.rbz?a("v-chip",{attrs:{label:"",color:"green","text-color":"white"},on:{click:function(a){return e.resendRBZ(t.item)}}},[e._v("\n                             "+e._s(t.item.reference)+"  \n                           ")]):e._e()],1),a("td",[e._v(e._s(new Date(t.item.createdAt).toLocaleString("en-GB")))]),a("td",[e._v(e._s(JSON.parse(t.item.senderData).firstName)+" "+e._s(JSON.parse(t.item.senderData).lastName))]),a("td",[e._v(e._s(JSON.parse(t.item.transactionData).senderCurrency)+" "+e._s(JSON.parse(t.item.transactionData).senderAmount))]),a("td",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle,expression:"toggle !== `3`"}]},[e._v(e._s(t.item.branch_id))]),a("td",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle,expression:"toggle !== `2`"}]},[e._v(e._s(t.item.username))]),a("td",[a("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                             "+e._s(t.item.payOutSymbol)+"  "+e._s(parseFloat(t.item.payOut).toFixed(2))+"\n                           ")])],1),a("td",[e._v(e._s(JSON.parse(t.item.recipiantData).firstName)+" "+e._s(JSON.parse(t.item.recipiantData).lastName))]),2==e.user_type?a("td",[1==t.item.status?a("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                             Pending\n                           ")]):e._e(),17==t.item.status?a("v-btn",{attrs:{label:"",color:"green",dark:""},on:{click:function(a){return e.Payout(t.item)}}},[e._v("\n                             Payout\n                           ")]):e._e(),18==t.item.status?a("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                             Paid\n                           ")]):e._e()],1):e._e(),2!=e.user_type?a("td",[1==t.item.status?a("v-btn",{attrs:{label:"",color:"orange",dark:""},on:{click:function(a){return e.Approve(t.item)}}},[e._v("\n                             Approve\n                           ")]):e._e(),17==t.item.status?a("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                             Approved\n                           ")]):e._e(),18==t.item.status?a("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                             Paid\n                           ")]):e._e()],1):e._e()])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"yellow darken-2 white--text"},[a("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[a("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),a("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[a("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),a("v-spacer"),a("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),a("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[a("v-card",{attrs:{color:"#ECB530",dark:""}},[a("v-card-text",[e._v("\n                     Please stand by\n                     "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("dialog",[a("div",{staticClass:"invoice-box rtl",attrs:{id:"WorldRemitR"}},[a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",{staticClass:"top"},[a("td",{attrs:{colspan:"2"}},[a("table",[e._m(0),e._m(1),a("tr",[a("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                               Invoice # "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),a("br"),e._v("\n                               "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),a("br"),a("br"),a("br"),a("strong",[e._v(" Customer Copy")]),a("br"),a("br")])])])])]),e._m(2),a("tr",{staticClass:"item"},[a("td",[e._v("\n                   Branch\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.teller_branch)+" \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Teller\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+" \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Client\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+" \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Client Cell\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.recipient.mobilePhone)+"  \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Tran Type\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.transaction_type)+"  \n               ")])]),e._m(3),e._m(4),e._m(5),a("tr",{staticClass:"item"},[a("td",[e._v("\n                   Disbursement\n               ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v("\n                    "+e._s(e.transaction.beneficiaryCurrency)+" "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2))+"\n               ")])]),a("tr",{staticClass:"item last"},[a("td",[e._v("\n                   @Charge\n               ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v("\n                    "+e._s(parseFloat(e.transaction.beneficiaryCharges).toFixed(2))+"\n               ")])]),e._m(6),e._m(7)]),a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",{staticClass:"top"},[a("td",{attrs:{colspan:"2"}},[a("table",[e._m(8),e._m(9),a("tr",[a("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                               Invoice # "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.tranID))]),a("br"),e._v("\n                               "+e._s(e._f("moment")(e.time,"dddd, MMMM Do YYYY, h:mm:ss a"))),a("br"),a("br"),a("br"),a("strong",[e._v(" Merchant Copy")]),a("br"),a("br")])])])])]),e._m(10),a("tr",{staticClass:"item"},[a("td",[e._v("\n                   Branch\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.teller_branch)+" \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Teller\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.teller_first_name)+" "+e._s(e.teller_last_name)+" \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Client\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.recipient.firstName)+" "+e._s(e.recipient.lastName)+" \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Client Cell\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.recipient.mobilePhone)+"  \n               ")])]),a("tr",{staticClass:"item"},[a("td",[e._v("\n                  Tran Type\n               ")]),a("td",{staticStyle:{"text-align":"right","font-weight":"bold"}},[e._v("\n                   "+e._s(e.transaction_type)+"  \n               ")])]),e._m(11),e._m(12),e._m(13),a("tr",{staticClass:"item"},[a("td",[e._v("\n                   Disbursement\n               ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v("\n                    "+e._s(e.transaction.beneficiaryCurrency)+" "+e._s(parseFloat(e.transaction.beneficiaryAmount).toFixed(2))+"\n               ")])]),a("tr",{staticClass:"item last"},[a("td",[e._v("\n                   @Charge\n               ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v("\n                    "+e._s(parseFloat(e.transaction.beneficiaryCharges).toFixed(2))+"\n               ")])]),e._m(14),e._m(15)])])])],1)},Cn=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41"),alt:"ContiCash FX"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("br")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"information"},[a("td",{attrs:{colspan:"2"}},[a("table",[a("tr",[a("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                               1st Floor, Block 3,Tendeseka Office Park"),a("br"),e._v("\n                               Samora Machel, Harare"),a("br"),e._v("\n                               Zimbabwe"),a("br"),e._v("\n                               704086,790148/9\n                           ")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"heading"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[a("td",[e._v("\n                   Item\n               ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v("\n                   Amount\n               ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"item"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"item last"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"item last"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"title",staticStyle:{"text-align":"centre"}},[r("img",{staticStyle:{width:"100%","max-width":"300px"},attrs:{src:a("dd41"),alt:"Sahwira"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("br")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"information"},[a("td",{attrs:{colspan:"2"}},[a("table",[a("tr",[a("td",{staticStyle:{"text-align":"center","font-size":"12px"}},[e._v("\n                                1st Floor, Block 3,Tendeseka Office Park"),a("br"),e._v("\n                               Samora Machel, Harare"),a("br"),e._v("\n                               Zimbabwe"),a("br"),e._v("\n                               704086,790148/9\n                           ")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"heading"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"heading",staticStyle:{"font-weight":"bold"}},[a("td",[e._v("\n                   Item\n               ")]),a("td",{staticStyle:{"text-align":"right"}},[e._v("\n                   Amount\n               ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"item"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"item last"},[a("td",[a("br")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"item last"},[a("td",[a("br")])])}],kn={data:function(){var e;return{dialogloader:!1,SpecificRange:"",allRates:[],newrows:[],newrows2:[],disable:!1,totalFloat:[],expand:!1,show_start_date:!1,dialogdaterange:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,transactionID:null,now_date:null,branch_id:null,user_id:null,selectedBranches:null,selectedTellers:null,branches:[],tellers:[],user_type:0,tranID:0,center_id:"",centreCurrency:"",rowsFilter:[],tranTotals:[],text:"center",icon:"justify",toggle_none:null,toggle_one:0,time:0,toggle_exclusive:2,toggle_multiple:[0,1,2],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},selected:[],filteredRow:[],symbol:"",toggle:"1",toggleDates:"2",transaction:{senderAmount:"0",senderFees:"0",senderCurrency:null,senderSymbol:null,beneficiaryAmount:"",beneficiaryCharges:"",beneficiaryCurrency:"",beneficiarySymbol:"$",settlementAmount:"",settlementCommission:null,wrtId:"2003230701140001",wrtDateCreated:"2020-03-23T07:10:54.1862336Z"},transaction_type:"WorldRemit",transactionType:"WorldRemit",clientName:"",disableCheck:!0,first_name:"",last_name:"",id_number:"",cell:"",receive_symbol:null,disburse_symbol:null,teller_first_name:"",teller_last_name:"",teller_branch:"",sender:{firstName:"",lastName:"",nationalId:"",countryName:"",email:"",mobilePhone:""},recipient:{firstName:"",lastName:"",nationalId:"",countryName:"",email:"",mobilePhone:""},starterData:{createdAt:"DD/MM/YYYY",reference:"WorldRemit reference",branch_id:"PayOut Branch",username:"Banch Teller",id:"Your reference",clientCurrency:"e.g. INR, UGX, COP ",payOut:"Pay-out / Return amount in pay-out currency",fxRate:"Pay-out currency: Settlement currency",sentCurrency:"e.g. EUR, GBP, USD",sentAmount:"Transaction in settlement currency (including any funding applied)",commission:"Amount charged per transaction",transactionType:"e.g. Funding, Paid, Return",balance:"Cumulative running total in settlement currency"},starterDataRBZ:(e={createdAt:"Name of Sender",reference:"Name of Beneficiary",id:"Beneficiary Identity Number",clientCurrency:"Beneficiary Gender (M/F)",payOut:"Physical Address",fxRate:"Beneficiary District",sentCurrency:"International Partner Code",sentAmount:"Source Country Code",commission:"Transaction Purpose Code",transactionType:"Source of Funds",balance:"Currency Code"},Object(C["a"])(e,"balance","Amount"),Object(C["a"])(e,"balance","Mode of Payout (Cash/Account)"),e),rows:[]}},watch:{dialogdaterange:function(e){e&&(this.start_date=null,this.end_date=null,this.SpecificRange="")}},beforeMount:function(){},computed:{paymentHeaders:function(){if("1"==this.toggle){var e=[{text:"Third Party Reference",value:"reference"},{text:"Transaction Date",value:"createdAt"},,{text:"Sent By",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Branch",value:"branch_id"},{text:"Teller",value:"username"},{text:"Pay Out Amount",value:"payOut"},{text:"Client Name",value:"first_name"},{text:"Actions"}];return e}}},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.convertDate(),2!=this.user_type?this.getAllTransactions():this.getAllTransactionsByTellerID(this.$session.get("user").userdetails.id)},methods:{Payout:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dialogloader=!0,this.tranID=t.id,this.time=Date.now(),this.recipient=JSON.parse(t.recipiantData),this.transaction=JSON.parse(t.transactionData),this.teller_first_name=this.$session.get("user").userdetails.first_name,this.teller_last_name=this.$session.get("user").userdetails.last_name,this.teller_branch=this.$session.get("user").userdetails.branch_name,console.log(t),a={data:t,id:t.id,userId:this.$session.get("user").userdetails.id,payOut:t.payOut,payOutCurrency:t.payOutCurrency},r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=13,A.a.post(this.nodeApi+"/worldRemitApprovedPayout",a,{headers:r}).subscribe((function(e){e.data.data.one?(s.dialogloader=!1,s.$swal.fire("PayOut Successful","You have successfully paid this transaction.","success"),s.getAllTransactions(),setTimeout((function(){s.printPDFWorldRemit("WorldRemitR")}),2e3)):s.$swal.fire("PayOut Error",e.data.message,"error")}),(function(e){s.dialogloader=!1,console.log(e)}));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),printPDFWorldRemit:function(e){var t=document.getElementById(e).innerHTML,a=window.open("","Print","height=600,width=800");return a.document.write("<html><head><title>Print</title>"),a.document.write("</head><body >"),a.document.write(t),a.document.write("</body></html>"),a.document.close(),a.focus(),setTimeout((function(){a.print(),a.close()}),1e3),!0},Approve:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/worldRemitApprove",{id:t.id,userId:this.$session.get("user").userdetails.id},{headers:a}).subscribe((function(e){e.data.data.one?(r.$swal.fire("PayOut Approval Successful","You have successfully approved this transaction for payOut.","success"),r.getAllTransactions()):r.$swal.fire("PayOut Approval Error",e.data.message,"error")}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsByTellerID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllWorldRemitApprovalsTeller",{userId:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resendRBZ:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n,i,o,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},r=JSON.parse(t.apiRespone),s=r.message.transaction,n=JSON.parse(t.additionalInfo),i=new Date,o={bdxName:"Test Bureau",bdxBranch:"Newlands HQ",transactionDate:i.toISOString(),apiUsername:this.$session.get("user").userdetails.rbz_username,password:this.$session.get("user").userdetails.rbz_password,operatorName:"".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch"),senderName:"".concat(s.sender.firstName," ").concat(s.sender.lastName),clientName:"".concat(s.recipient.firstName," ").concat(s.recipient.lastName),clientNationalId:n.clientID,clientGender:n.clientGender,clientPhysicalAddress:{street:n.clientAddress},district:n.clientDistrict,currencyCode:"".concat(s.transaction.beneficiaryCurrency),sourceCountryCode:"",internationalPartnerCode:"WR",sourceCountryName:s.sender.countryName,internationalPartnerName:"World Remit",sourceOfFundsCode:n.sourceFunds,transactionPurposeCode:n.transactionPurpose,transferMode:"CASH",amount:s.transaction.beneficiaryAmount,originalReference:s.transaction.wrtId},this.dialogloader=!0,e.next=9,A.a.post(this.nodeApi+"/postRBZ",o,{headers:a}).subscribe((function(e){e.data.statusCode?l.rbzTransactionUpdate(1,s.transaction.wrtId):l.rbzTransactionUpdate(2,s.transaction.wrtId)}),(function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),rbzTransactionUpdate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/postRBZUpdater",{data:t,reference:a},{headers:r}).subscribe((function(e){s.dialogloader=!1,1==e.data.data.one.recordset.affectedRows?s.$swal.fire("RBZ Sending Successful","You have successfully sent this transaction to the RBZ.","success"):s.$swal.fire("RBZ Sending Error","There was an error sending transction to the RBZ.","error"),console.log(e.data)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),getFullYear:function(){var e=new Date.now,t=(e.getDate(),e.getMonth(),e.getFullYear());return"".concat(t)},getFullDate:function(){var e=new Date.now,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(r)},addData:function(){this.newrows=this.rows,this.newrows.unshift(this.starterData)},addDataRBZ:function(){this.newrows2=this.rows},convertDate:function(){var e=new Date;this.now_date=e.toISOString()},daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h,p,m,f,g=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.json_title_rbz=["EC-FORM-ADLA(I) "," ","INSTITUTION CODE: 0015000","FINANCIAL YEAR: ".concat(new Date(Date.now()).getFullYear()),"START DATE: ".concat(this.start_date),"END DATE: ".concat(this.end_date)," "],this.dialogdaterange=!1,this.SpecificRange="".concat(this.start_date," to ").concat(this.end_date),this.dialogloader=!0,t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),"1"!=this.toggle||"2"!=this.toggleDates){e.next=14;break}return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 12:return e.next=14,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 14:if("2"!=this.toggle||"2"!=this.toggleDates||null!=this.branch_id){e.next=20;break}return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=18,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 18:return e.next=20,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 20:if("2"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=26;break}return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=24,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:n}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 24:return e.next=26,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:n}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 26:if("2"!=this.toggle||"2"!=this.toggleDates||null==this.branch_id){e.next=32;break}return i={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=30,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:i}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 30:return e.next=32,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:i}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 32:if("1"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=38;break}return o={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=36,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:o}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 36:return e.next=38,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:o}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 38:if("1"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=44;break}return l={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=42,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:l}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 42:return e.next=44,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:l}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 44:if("2"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=50;break}return c={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=48,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:c}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 48:return e.next=50,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:c}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 50:if("2"!=this.toggle||"1"!=this.toggleDates||null==this.branch_id){e.next=56;break}return d={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=54,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:d}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 54:return e.next=56,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:d}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 56:if("3"!=this.toggle||"2"!=this.toggleDates||null!=this.user_id){e.next=60;break}return u={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=60,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:u}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 60:if("3"!=this.toggle||"2"!=this.toggleDates||null==this.user_id){e.next=66;break}return h={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=64,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 64:return e.next=66,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 66:if("3"!=this.toggle||"3"!=this.toggleDates||null!=this.user_id){e.next=70;break}return p={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=70,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:p}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 70:if("3"!=this.toggle||"3"!=this.toggleDates||null==this.user_id){e.next=76;break}return m={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=74,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:m}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 74:return e.next=76,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:m}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 76:if("4"!=this.toggle){e.next=80;break}return f={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=80,A.a.post(this.nodeApi+"/getAllReversalsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:f}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 80:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Reverse:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reverse transaction!"}).then((function(r){if(r.value){var s={id:e.id,rev_id:t.$session.get("user").userdetails.id,floatincrease:{col:"amount",value:e.disburse_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.disburse_currency_id},floatdecrease:{col:"amount",value:e.receive_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.received_currency_id}};A.a.post(t.nodeApi+"/reverseTransactionBuySell",s,{headers:a}).subscribe((function(e){e.data.message?t.$swal.fire({type:"error",title:"Transaction Reverse Failed",text:e.data.message}):(t.getAllTransactions(),t.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),t.dialogTransaction=!1,t.$emit("settlement","complete"))}),(function(e){t.$swal.fire({type:"error",title:"Transaction Adding Failed",text:res.data.message})}))}}))},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectedBranch:function(e){this.branch_id=e,"2"==this.toggle&&"1"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactions(e),this.getAllBranchTransactionsSum(e)),"2"==this.toggle&&"2"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactionsNowByID(e),this.getAllBranchTransactionsSumNow(e)),"2"==this.toggle&&"3"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactionsMonthNowByID(e),this.getAllBranchTransactionsSumMonthNow(e)),"2"==this.toggle&&"1"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e)),"2"==this.toggle&&"2"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e)),"2"==this.toggle&&"3"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e))},selectedTeller:function(e){this.user_id=e,"3"==this.toggle&&"1"==this.toggleDates&&(this.getAllTellerTransactions(e),this.getAllTellerTransactionsSum(e)),"3"==this.toggle&&"2"==this.toggleDates&&(this.getAllTellerTransactionsNowByID(e),this.getAllTellerTransactionsSumNow(e)),"3"==this.toggle&&"3"==this.toggleDates&&(this.getAllTellerTransactionsMonthNowByID(e),this.getAllTellerTransactionsSumMonthNow(e))},getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllWorldRemitApprovals",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Tn=kn,An=(a("2944"),Object(d["a"])(Tn,wn,Cn,!1,null,"00b7ec09",null)),Dn=An.exports;h()(An,{VBtn:U["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VLayout:W["a"],VProgressLinear:K["a"],VSpacer:Q["a"],VTextField:oe["a"]});var Sn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"","justify-end":""}},[r("h2",{staticStyle:{color:"grey"}},[e._v("Full Over-all Transaction Report")])]),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},e._l(e.tranTotals,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("2611")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"green"}},[e._v("Total "+e._s(t.transaction_typeT))]),r("h3",{staticStyle:{color:"blue"}},[e._v("\n                "+e._s(t.receive_currencyT)+"\n                "+e._s(parseFloat(t.receive_amountT).toFixed(2))+"\n              ")]),r("h3",{staticStyle:{color:"red"}},[e._v("\n                "+e._s(t.disbursed_currencyT)+"\n                "+e._s(parseFloat(t.disburse_amountT).toFixed(2))+"\n              ")])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md2:"","mb-2":"","mr-5":""}},[r("v-text-field",{attrs:{"append-icon":"search",label:"Search By Transaction ID#","single-line":"",type:"number","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAllTransactionsByID(t)}},model:{value:e.transactionID,callback:function(t){e.transactionID=t},expression:"transactionID"}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `3` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-5":""}},[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `2` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-5":""}},[r("v-select",{attrs:{items:e.tellers,label:"Select Teller","item-text":"username","item-value":"id"},on:{input:e.selectedTeller}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" All ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" Branches Only ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Tellers Only ")]),r("v-btn",{attrs:{flat:"",value:"4"}},[e._v(" Reversals ")])],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mt-1":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggleDates,callback:function(t){e.toggleDates=t},expression:"toggleDates"}},[r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" Today ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" This month ")])],1),r("v-btn",{staticClass:"white--text",attrs:{color:"#ECB530"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n        Specific Range\n      ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.rows,fields:e.json_fields,worksheet:"Tran_Worksheet",name:"TransactionsReport.xls"}},[r("v-icon",e._g({attrs:{color:"green darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export to excel")])])],1)],1),r("v-layout",{attrs:{row:"","justify-end":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id","must-sort":"",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("tr",[r("td",[e._v(e._s(t.item.id))]),r("td",[e._v(e._s(t.item.created_at))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle,expression:"toggle !== `3`"}]},[e._v(e._s(t.item.name))]),r("td",["Sell"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"Buy"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"FloatIn"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e(),"FloatOut"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                "+e._s(t.item.transaction_type)+"\n              ")]):e._e()],1),r("td",[e._v(e._s(parseFloat(t.item.rate).toFixed(1)))]),r("td",[e._v("\n              "+e._s(t.item.receive_currency+" "+parseFloat(t.item.receive_amount).toFixed(2))+"\n            ")]),r("td",[e._v("\n              "+e._s(t.item.disburse_currency+" "+parseFloat(t.item.disburse_amount).toFixed(2))+"\n            ")]),r("td",[e._v(e._s(t.item.first_name)+" "+e._s(t.item.last_name))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle,expression:"toggle !== `2`"}]},[e._v(e._s(t.item.created_by))]),r("td",{attrs:{id:"chip-usage-example"}},["canceled"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                "+e._s(t.item.status)+"\n              ")]):e._e(),"pending"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"gray"}},[e._v("\n                "+e._s(t.item.status)+"\n              ")]):e._e(),"declined"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                declined\n              ")]):e._e(),"reversed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                reversed\n              ")]):e._e(),"complete"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                "+e._s(t.item.status)+"\n              ")]):e._e(),"confirmed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{pill:"",color:"gray"}},[r("v-icon",{attrs:{left:"",color:"blue"}},[e._v("person_pin")]),e._v("\n\n                Teller\n              ")],1):e._e(),"GM"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{pill:"",color:"gray"}},[r("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n\n                Manager\n              ")],1):e._e(),"SP"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{color:"gray"}},[r("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                Supervisor\n              ")],1):e._e(),"TR"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{pill:"",color:"gray"}},[r("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                Treasury\n              ")],1):e._e()],1),r("td",["complete"==t.item.status.replace(/\s/g,"")&&"Sell"==t.item.transaction_type.replace(/\s/g,"")||"complete"==t.item.status.replace(/\s/g,"")&&"Buy"==t.item.transaction_type.replace(/\s/g,"")?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var s=a.on;return[r("v-btn",{attrs:{small:"",color:"success",icon:""},on:{click:function(a){return e.Reverse(t.item)}}},[r("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v(" cached ")])],1)]}}],null,!0)},[r("span",[e._v("Reverse Transaction")])]):e._e(),"reversed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                "+e._s(t.item.reversed_by)+" @ "+e._s(t.item.reversed_at)+"\n              ")]):e._e()],1)])]}},{key:"expand",fn:function(t){return[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1)],1)},Bn=[],Fn={data:function(){return{allRates:[],disable:!1,totalFloat:[],expand:!1,show_start_date:!1,dialogdaterange:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,transactionID:null,now_date:null,branch_id:null,user_id:null,selectedBranches:null,selectedTellers:null,branches:[],tellers:[],user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],tranTotals:[],text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},selected:[],filteredRow:[],symbol:"",toggle:"1",toggleDates:"2",json_fields:{"Transaction ID":"id","Transaction Date Time":"created_at","Transaction Type":"transaction_type","Client First Name":"first_name","Client Last Name":"last_name","Client ID Number":"id_number","Receive Currency":"receive_currency","Receive Amount":"receive_amount","Disbursed Currency":"disburse_currency","Disburse Amount":"disburse_amount",Rate:"rate","Transaction Status":"status","Created By":"created_by","Branch Name":"name",_____________:"space","Transaction Total Type":"transaction_typeT","Received Currency":"receive_currencyT","Total Received Amount":"receive_amountT","Disburse Currency":"disbursed_currencyT","Total Disbursed Amount":"disburse_amountT"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[]}},watch:{dialogdaterange:function(e){0==e&&(this.start_date=null,this.end_date=null)},toggle:function(e){"1"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"1"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"2"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllBranchTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"4"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"4"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow())},toggleDates:function(e){"2"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"3"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow()),"1"==e&&"1"==this.toggle&&(this.disable=!1,this.tranTotals=[],this.getAllTransactions()),"2"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"3"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"1"==e&&"2"==this.toggle&&(this.disable=!1,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactions()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllBranchTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"1"==e&&"3"==this.toggle&&(this.disable=!1,null==this.user_id?(this.tranTotals=[],this.getTellers(),this.getAllTransactions()):(this.getTellers(),this.selectedTeller(this.user_id))),"2"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id)))},tranTotals:function(e){e.length>0&&e.forEach((function(e){}))},rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{paymentHeaders:function(){if("1"==this.toggle){var e=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return e}if("2"==this.toggle){var t=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return t}if("3"==this.toggle){var a=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return a}if("4"==this.toggle){var r=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return r}var s=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return s}},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.convertDate(),this.getAllTransactions()},methods:{convertDate:function(){var e=new Date;this.now_date=e.toISOString()},daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),"1"!=this.toggle||"2"!=this.toggleDates){e.next=10;break}return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=8,A.a.post(this.nodeApi+"/getAllTransactionsSpecific",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 8:return e.next=10,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecific",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 10:if("2"!=this.toggle||"2"!=this.toggleDates||null!=this.branch_id){e.next=16;break}return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=14,A.a.post(this.nodeApi+"/getAllTransactionsSpecific",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 14:return e.next=16,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecific",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 16:if("2"!=this.toggle||"2"!=this.toggleDates||null==this.branch_id){e.next=22;break}return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=20,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecific",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:n}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 20:return e.next=22,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecific",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:n}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 22:if("2"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=28;break}return i={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=26,A.a.post(this.nodeApi+"/getAllTransactionsSpecific",{start:this.start_date,end:this.end_date},{headers:i}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 26:return e.next=28,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecific",{start:this.start_date,end:this.end_date},{headers:i}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 28:if("2"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=34;break}return o={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=32,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecific",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:o}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 32:return e.next=34,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecific",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:o}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 34:if("3"!=this.toggle||"2"!=this.toggleDates||null!=this.user_id){e.next=38;break}return l={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=38,A.a.post(this.nodeApi+"/getAllTransactionsSpecific",{start:this.start_date,end:this.end_date},{headers:l}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 38:if("3"!=this.toggle||"2"!=this.toggleDates||null==this.user_id){e.next=44;break}return c={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=42,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:c}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 42:return e.next=44,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:c}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 44:if("3"!=this.toggle||"3"!=this.toggleDates||null!=this.user_id){e.next=48;break}return d={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=48,A.a.post(this.nodeApi+"/getAllTransactionsSpecific",{start:this.start_date,end:this.end_date},{headers:d}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 48:if("3"!=this.toggle||"3"!=this.toggleDates||null==this.user_id){e.next=54;break}return u={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=52,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:u}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 52:return e.next=54,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:u}).subscribe((function(e){p.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 54:if("4"!=this.toggle){e.next=58;break}return h={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=58,A.a.post(this.nodeApi+"/getAllReversalsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){p.rows=e.data.data.one.recordset,p.dialogdaterange=!1}),(function(e){return console.log(e)}));case 58:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Reverse:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reverse transaction!"}).then((function(r){if(r.value){var s={id:e.id,rev_id:t.$session.get("user").userdetails.id,floatincrease:{col:"amount",value:e.disburse_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.disburse_currency_id},floatdecrease:{col:"amount",value:e.receive_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.received_currency_id}};A.a.post(t.nodeApi+"/reverseTransactionBuySell",s,{headers:a}).subscribe((function(e){e.data.message?t.$swal.fire({type:"error",title:"Transaction Reverse Failed",text:e.data.message}):(t.getAllTransactions(),t.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),t.dialogTransaction=!1,t.$emit("settlement","complete"))}),(function(e){t.$swal.fire({type:"error",title:"Transaction Adding Failed",text:res.data.message})}))}}))},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectedBranch:function(e){this.branch_id=e,"2"==this.toggle&&"1"==this.toggleDates&&(this.getAllBranchTransactions(e),this.getAllBranchTransactionsSum(e)),"2"==this.toggle&&"2"==this.toggleDates&&(this.getAllBranchTransactionsNowByID(e),this.getAllBranchTransactionsSumNow(e)),"2"==this.toggle&&"3"==this.toggleDates&&(this.getAllBranchTransactionsMonthNowByID(e),this.getAllBranchTransactionsSumMonthNow(e))},selectedTeller:function(e){this.user_id=e,"3"==this.toggle&&"1"==this.toggleDates&&(this.getAllTellerTransactions(e),this.getAllTellerTransactionsSum(e)),"3"==this.toggle&&"2"==this.toggleDates&&(this.getAllTellerTransactionsNowByID(e),this.getAllTellerTransactionsSumNow(e)),"3"==this.toggle&&"3"==this.toggleDates&&(this.getAllTellerTransactionsMonthNowByID(e),this.getAllTellerTransactionsSumMonthNow(e))},getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNow",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNow",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsMonthNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsByID",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTransactionsByID",{tran_id:this.transactionID},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsMonthNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowMonth",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactions",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowByID",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNow",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranchTransactionsMonthNow",{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsMonthNowByID",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactions",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsNowByID",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsMonthNowByID",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSum",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNow",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowByID",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumMonthNow",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSum",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumNow",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumMonthNow",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllManagerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllManagerTransactions",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){this.getAllTransactions()},exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"},{title:"Status",dataKey:"status"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}},Rn=Fn,$n=(a("0c77"),Object(d["a"])(Rn,Sn,Bn,!1,null,"3fc68ba6",null)),Un=$n.exports;h()($n,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var jn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"","justify-end":""}},[r("h2",{staticStyle:{color:"green"}},[e._v("Full Over-all Utilities Report")])]),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},e._l(e.tranTotals,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("2611")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"green"}},[e._v("Total "+e._s(t.transaction_typeT))]),r("h3",{staticStyle:{color:"blue"}},[e._v(e._s(t.receive_currencyT)+" "+e._s(parseFloat(t.receive_amountT).toFixed(2)))])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md2:"","mb-2":"","mr-5":""}},[r("v-text-field",{attrs:{"append-icon":"search",label:"Search By Transaction ID#","single-line":"",type:"number","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAllTransactionsByID(t)}},model:{value:e.transactionID,callback:function(t){e.transactionID=t},expression:"transactionID"}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `3` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-5":""}},[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `2` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-5":""}},[r("v-select",{attrs:{items:e.tellers,label:"Select Teller","item-text":"username","item-value":"id"},on:{input:e.selectedTeller}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                All\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                Branches Only\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n                Tellers Only\n              ")])],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mt-1":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggleDates,callback:function(t){e.toggleDates=t},expression:"toggleDates"}},[r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                Today\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n               This month\n              ")])],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n                Specific Range\n              ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.rows,fields:e.json_fields,worksheet:"Tran_Worksheet",name:"TransactionsReport.xls"}},[r("v-icon",e._g({attrs:{color:"green darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export to excel")])])],1)],1),r("v-layout",{attrs:{row:"","justify-end":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id","must-sort":"",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("tr",[r("td",[e._v(e._s(t.item.id))]),r("td",[e._v(e._s(t.item.created_at))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle,expression:"toggle !== `3`"}]},[e._v(e._s(t.item.branch_name))]),r("td",["Sell"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"Buy"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"FloatIn"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"FloatOut"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e(),"Utility"==t.item.transaction_type.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"purple","text-color":"white"}},[e._v("\n                            "+e._s(t.item.transaction_type)+"\n                          ")]):e._e()],1),r("td",[e._v(e._s(t.item.meter_number))]),r("td",[e._v(e._s(t.item.receive_currency+" "+parseFloat(t.item.receive_amount).toFixed(2)))]),r("td",[e._v("\n                        "+e._s(t.item.utility)+"\n                        "),"DStv"==t.item.utility?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                            "+e._s(t.item.product)+"\n                          ")]):e._e()],1),r("td",[e._v(e._s(t.item.first_name)+" "+e._s(t.item.last_name))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle,expression:"toggle !== `2` "}]},[e._v(e._s(t.item.created_by))]),r("td",{attrs:{id:"chip-usage-example"}},["canceled"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"pending"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"gray"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"declined"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                           declined\n                          ")]):e._e(),"reversed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                           reversed\n                          ")]):e._e(),"complete"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.status)+"\n                          ")]):e._e(),"confirmed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{pill:"",color:"gray"}},[r("v-icon",{attrs:{left:"",color:"blue"}},[e._v("person_pin")]),e._v("\n                            \n                           Teller\n                          ")],1):e._e(),"GM"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{pill:"",color:"gray"}},[r("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                            \n                             \n                           Manager\n                          ")],1):e._e(),"SP"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{color:"gray"}},[r("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                           Supervisor\n                          ")],1):e._e(),"TR"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{pill:"",color:"gray"}},[r("v-icon",{attrs:{left:"",color:"red"}},[e._v("person_pin")]),e._v("\n                            Treasury\n                          ")],1):e._e()],1),r("td",["complete"==t.item.status.replace(/\s/g,"")&&"Sell"==t.item.transaction_type.replace(/\s/g,"")||"complete"==t.item.status.replace(/\s/g,"")&&"Buy"==t.item.transaction_type.replace(/\s/g,"")?r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var s=a.on;return[r("v-btn",{attrs:{small:"",color:"success",icon:""},on:{click:function(a){return e.Reverse(t.item)}}},[r("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                      cached\n                                      ")])],1)]}}],null,!0)},[r("span",[e._v("Reverse Transaction")])]):e._e(),"reversed"==t.item.status.replace(/\s/g,"")?r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                            "+e._s(t.item.reversed_by)+" @ "+e._s(t.item.reversed_at)+"\n                          ")]):e._e()],1)])]}},{key:"expand",fn:function(t){return[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1)],1)},Pn=[],On={data:function(){return{allRates:[],disable:!1,totalFloat:[],expand:!1,show_start_date:!1,dialogdaterange:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,transactionID:null,now_date:null,branch_id:null,user_id:null,selectedBranches:null,selectedTellers:null,branches:[],tellers:[],user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],tranTotals:[],text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},selected:[],filteredRow:[],symbol:"",toggle:"1",toggleDates:"2",json_fields:{"Transaction ID":"id","Transaction Date Time":"created_at","Transaction Type":"transaction_type","Client First Name":"first_name","Client Last Name":"last_name","Client ID Number":"id_number","Receive Currency":"receive_currency","Receive Amount":"receive_amount","Transaction Status":"status","Created By":"created_by","Branch Name":"name",_____________:"space","Transaction Total Type":"transaction_typeT","Received Currency":"receive_currencyT","Total Received Amount":"receive_amountT"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[]}},watch:{dialogdaterange:function(e){0==e&&(this.start_date=null,this.end_date=null)},toggle:function(e){"1"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"1"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"2"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllBranchTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"4"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"4"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow())},toggleDates:function(e){"2"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"3"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow()),"1"==e&&"1"==this.toggle&&(this.disable=!1,this.tranTotals=[],this.getAllTransactions()),"2"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"3"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"1"==e&&"2"==this.toggle&&(this.disable=!1,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactions()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllBranchTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"1"==e&&"3"==this.toggle&&(this.disable=!1,null==this.user_id?(this.tranTotals=[],this.getTellers(),this.getAllTransactions()):(this.getTellers(),this.selectedTeller(this.user_id))),"2"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id)))},tranTotals:function(e){e.length>0&&e.forEach((function(e){}))},rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{paymentHeaders:function(){if("1"==this.toggle){var e=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Account Number",value:"meter_number"},{text:"Received $",value:"receive_amount"},{text:"Utility",value:"utility"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"}];return e}if("2"==this.toggle){var t=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Account Number",value:"meter_number"},{text:"Received $",value:"receive_amount"},{text:"Utility",value:"utility"},{text:"Client",value:"first_name"},{text:"Status",value:"status"}];return t}if("3"==this.toggle){var a=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Type",value:"transaction_type"},{text:"Account Number",value:"meter_number"},{text:"Received $",value:"receive_amount"},{text:"Utility",value:"utility"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"}];return a}if("4"==this.toggle){var r=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return r}var s=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return s}},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.convertDate(),this.getAllTransactions()},methods:{convertDate:function(){var e=new Date;this.now_date=e.toISOString()},daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),"1"!=this.toggle||"2"!=this.toggleDates){e.next=10;break}return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=8,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){c.rows=e.data.data.one.recordset,c.dialogdaterange=!1}),(function(e){return console.log(e)}));case 8:return e.next=10,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){c.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 10:if("2"!=this.toggle||"2"!=this.toggleDates||null!=this.branch_id){e.next=16;break}return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=14,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){c.rows=e.data.data.one.recordset,c.dialogdaterange=!1}),(function(e){return console.log(e)}));case 14:return e.next=16,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){c.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 16:if("2"!=this.toggle||"2"!=this.toggleDates||null==this.branch_id){e.next=22;break}return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=20,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:n}).subscribe((function(e){c.rows=e.data.data.one.recordset,c.dialogdaterange=!1}),(function(e){return console.log(e)}));case 20:return e.next=22,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:n}).subscribe((function(e){c.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 22:if("3"!=this.toggle||"2"!=this.toggleDates||null!=this.user_id){e.next=26;break}return i={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=26,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:i}).subscribe((function(e){c.rows=e.data.data.one.recordset,c.dialogdaterange=!1}),(function(e){return console.log(e)}));case 26:if("3"!=this.toggle||"2"!=this.toggleDates||null==this.user_id){e.next=32;break}return o={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=30,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:o}).subscribe((function(e){c.rows=e.data.data.one.recordset,c.dialogdaterange=!1}),(function(e){return console.log(e)}));case 30:return e.next=32,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:o}).subscribe((function(e){c.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 32:if("4"!=this.toggle){e.next=36;break}return l={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=36,A.a.post(this.nodeApi+"/getAllReversalsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:l}).subscribe((function(e){c.rows=e.data.data.one.recordset,c.dialogdaterange=!1}),(function(e){return console.log(e)}));case 36:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Reverse:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reverse transaction!"}).then((function(r){if(r.value){var s={id:e.id,rev_id:t.$session.get("user").userdetails.id,floatincrease:{col:"amount",value:e.disburse_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.disburse_currency_id},floatdecrease:{col:"amount",value:e.receive_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.received_currency_id}};A.a.post(t.nodeApi+"/reverseTransactionBuySell",s,{headers:a}).subscribe((function(e){e.data.message?t.$swal.fire({type:"error",title:"Transaction Reverse Failed",text:e.data.message}):(t.getAllTransactions(),t.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),t.dialogTransaction=!1,t.$emit("settlement","complete"))}),(function(e){t.$swal.fire({type:"error",title:"Transaction Adding Failed",text:res.data.message})}))}}))},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectedBranch:function(e){this.branch_id=e,"2"==this.toggle&&"1"==this.toggleDates&&(this.getAllBranchTransactions(e),this.getAllBranchTransactionsSum(e)),"2"==this.toggle&&"2"==this.toggleDates&&(this.getAllBranchTransactionsNowByID(e),this.getAllBranchTransactionsSumNow(e)),"2"==this.toggle&&"3"==this.toggleDates&&(this.getAllBranchTransactionsMonthNowByID(e),this.getAllBranchTransactionsSumMonthNow(e))},selectedTeller:function(e){this.user_id=e,"3"==this.toggle&&"1"==this.toggleDates&&(this.getAllTellerTransactions(e),this.getAllTellerTransactionsSum(e)),"3"==this.toggle&&"2"==this.toggleDates&&(this.getAllTellerTransactionsNowByID(e),this.getAllTellerTransactionsSumNow(e)),"3"==this.toggle&&"3"==this.toggleDates&&(this.getAllTellerTransactionsMonthNowByID(e),this.getAllTellerTransactionsSumMonthNow(e))},getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNowUtil",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowUtil",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNowUtil",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowUtil",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsMonthNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsByID",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTransactionsByID",{tran_id:this.transactionID},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsMonthNowUtil",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowByIDUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranchTransactionsMonthNowUtil",{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsMonthNowByIDUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsUtil",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsNowByIDUtil",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsMonthNowByIDUtil",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowByIDUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumMonthNowUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumUtil",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumNowUtil",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumMonthNowUtil",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllManagerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllManagerTransactions",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){this.getAllTransactions()},exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"},{title:"Status",dataKey:"status"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}},Nn=On,In=(a("1ed1"),Object(d["a"])(Nn,jn,Pn,!1,null,"cf5a9716",null)),En=In.exports;h()(In,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var Vn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"","justify-end":""}},[r("h2",{staticStyle:{"margin-right":"20px"}},[e._v("Show from  : "+e._s(e.SpecificRange))]),r("h2",{staticStyle:{color:"green"}},[e._v("Full Over-all World Remit Report")])]),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},e._l(e.tranTotals,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md3:"","pa-2":""}},[r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("2611")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"green"}},[e._v("Total "+e._s(t.transaction_typeT))]),r("h3",{staticStyle:{color:"blue"}},[e._v(e._s(t.receive_currencyT)+" "+e._s(parseFloat(t.receive_amountT).toFixed(2)))]),r("h3",{staticStyle:{color:"red"}},[e._v("Transactions# : "+e._s(t.counted)+" ")])])],1)],1)],1)],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md2:"","mb-2":"","mr-3":""}},[r("v-text-field",{attrs:{"append-icon":"search",label:"Search By Reference ID#","single-line":"",type:"number","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAllTransactionsByID(t)}},model:{value:e.transactionID,callback:function(t){e.transactionID=t},expression:"transactionID"}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `3` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-3":""}},[r("v-select",{attrs:{items:e.branches,label:"Select Branch","item-text":"branchname","item-value":"id"},on:{input:e.selectedBranch}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `2` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-3":""}},[r("v-select",{attrs:{items:e.tellers,label:"Select Teller","item-text":"username","item-value":"id"},on:{input:e.selectedTeller}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v("\n                All\n              ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                Branches Only\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n                Tellers Only\n              ")])],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","mt-1":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggleDates,callback:function(t){e.toggleDates=t},expression:"toggleDates"}},[r("v-btn",{attrs:{flat:"",value:"2"}},[e._v("\n                Today\n              ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v("\n               This month\n              ")])],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v("\n                Specific Range\n              ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.newrows,fields:e.json_fields,title:e.json_title,"before-generate":e.addData,worksheet:"Tran_Worksheet",name:"TransactionsReport.xls"}},[r("v-icon",e._g({attrs:{color:"green darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export to excel")])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.newrows2,fields:e.json_fields_rbz,title:e.json_title_rbz,"before-generate":e.addDataRBZ,worksheet:"Tran_Worksheet",name:"ReportRBZ.xls"}},[r("v-icon",e._g({attrs:{color:"red darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export RBZ excel")])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.newrows2,fields:e.json_fields_rbz2,"before-generate":e.addDataRBZ,worksheet:"Tran_Worksheet",name:"RBZ_Remittance.xls"}},[r("v-icon",e._g({attrs:{color:"yellow darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export RBZ Remittance")])]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.newrows2,fields:e.json_fields_rbz3,"before-generate":e.addDataRBZ,worksheet:"Tran_Worksheet",name:"RBZ_WorldRemit.xls"}},[r("v-icon",e._g({attrs:{color:"purple darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export WorldRemit")])])],1)],1),r("v-layout",{attrs:{row:"","justify-end":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"tran_id","must-sort":"",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("tr",[r("td",[0==t.item.rbz?r("v-chip",{attrs:{label:"",color:"grey","text-color":"white"},on:{click:function(a){return e.resendRBZ(t.item)}}},[e._v("\n                            "+e._s(t.item.reference)+"  \n                          ")]):e._e(),1==t.item.rbz?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"}},[e._v("\n                            "+e._s(t.item.reference)+"  \n                          ")]):e._e(),2==t.item.rbz?r("v-chip",{attrs:{label:"",color:"green","text-color":"white"},on:{click:function(a){return e.resendRBZ(t.item)}}},[e._v("\n                            "+e._s(t.item.reference)+"  \n                          ")]):e._e()],1),r("td",[e._v(e._s(new Date(t.item.createdAt).toLocaleString("en-GB")))]),r("td",[e._v(e._s(JSON.parse(t.item.senderData).firstName)+" "+e._s(JSON.parse(t.item.senderData).lastName))]),r("td",[e._v(e._s(new Date(JSON.parse(t.item.transactionData).wrtDateCreated).toLocaleString("en-GB")))]),r("td",[e._v(e._s(JSON.parse(t.item.transactionData).senderCurrency)+" "+e._s(JSON.parse(t.item.transactionData).senderAmount))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle,expression:"toggle !== `3`"}]},[e._v(e._s(t.item.branch_id))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle,expression:"toggle !== `2`"}]},[e._v(e._s(t.item.username))]),r("td",[r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                            "+e._s(t.item.payOutSymbol)+"  "+e._s(parseFloat(t.item.payOut).toFixed(2))+"\n                          ")])],1),r("td",[e._v(e._s(JSON.parse(t.item.recipiantData).firstName)+" "+e._s(JSON.parse(t.item.recipiantData).lastName))]),r("td",[e._v(e._s(JSON.parse(t.item.recipiantData).mobilePhone)+" ")])])]}},{key:"expand",fn:function(t){return[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#ECB530",dark:""}},[r("v-card-text",[e._v("\n                    Please stand by\n                    "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},zn=[],Mn={data:function(){var e;return{dialogloader:!1,SpecificRange:"",allRates:[],newrows:[],newrows2:[],disable:!1,totalFloat:[],expand:!1,show_start_date:!1,dialogdaterange:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,transactionID:null,now_date:null,branch_id:null,user_id:null,selectedBranches:null,selectedTellers:null,branches:[],tellers:[],user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],tranTotals:[],text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},selected:[],filteredRow:[],symbol:"",toggle:"1",toggleDates:"2",starterData:{createdAt:"DD/MM/YYYY",reference:"WorldRemit reference",branch_id:"PayOut Branch",username:"Banch Teller",id:"Your reference",clientCurrency:"e.g. INR, UGX, COP ",payOut:"Pay-out / Return amount in pay-out currency",fxRate:"Pay-out currency: Settlement currency",sentCurrency:"e.g. EUR, GBP, USD",sentAmount:"Transaction in settlement currency (including any funding applied)",commission:"Amount charged per transaction",transactionType:"e.g. Funding, Paid, Return",balance:"Cumulative running total in settlement currency"},starterDataRBZ:(e={createdAt:"Name of Sender",reference:"Name of Beneficiary",id:"Beneficiary Identity Number",clientCurrency:"Beneficiary Gender (M/F)",payOut:"Physical Address",fxRate:"Beneficiary District",sentCurrency:"International Partner Code",sentAmount:"Source Country Code",commission:"Transaction Purpose Code",transactionType:"Source of Funds",balance:"Currency Code"},Object(C["a"])(e,"balance","Amount"),Object(C["a"])(e,"balance","Mode of Payout (Cash/Account)"),e),json_fields:{"Transaction Date":{field:"createdAt",callback:function(e){if("DD/MM/YYYY"!=e){var t=new Date(e),a=t.getDate(),r=t.getMonth()+1,s=t.getFullYear();return"".concat(a,"/").concat(r,"/").concat(s)}return"DD/MM/YYYY"}},"Transaction ID":"reference",Branch:"branch_id",Teller:"username","Third Party Reference":"id","Pay Out Currency":"clientCurrency","Pay Out Amount":"payOut","FX Rate Applied":"fxRate","Sent Currency":"sentCurrency","Sent Amount":"sentAmount",Commission:"commission","Transaction Type":"transactionType"},json_fields_rbz:{"Name of Sender":"sentBy","Name of Beneficiary":"clientName","Beneficiary Identity Number":{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientID)}catch(a){return"No Data"}}},"Beneficiary Gender (M/F)":{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientGender[0])}catch(a){return"No Data"}}},"Physical Address":{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientAddress)}catch(a){return"No Data"}}},"Beneficiary District":{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientDistrict)}catch(a){return"No Data"}}},"International Partner Code":{field:"additionalInfo",callback:function(e){return e?"WR":"No Data"}},"Source Country Code":{field:"senderData",callback:function(e){try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.countryName)}catch(a){return"No Data"}}},"Transaction Purpose Code":{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.transactionPurpose)}catch(a){return"No Data"}}},"Source of Funds":{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.sourceFunds)}catch(a){return"No Data"}}},"Currency Code":"clientCurrency",Amount:"payOut","Mode of Payout (Cash/Account)":"transactionType"},json_fields_rbz2:{amount:"payOut",client_gender:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientGender[0])}catch(a){return"No Data"}}},client_id:{field:"additionalInfo",callback:function(e){return"No Data"}},client_name:"clientName",client_national_id:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientID)}catch(a){return"No Data"}}},city:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientDistrict)}catch(a){return"No Data"}}},street:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientAddress)}catch(a){return"No Data"}}},suburb:{field:"additionalInfo",callback:function(e){return"No Data"}},currency_code:"clientCurrency",district:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.clientDistrict)}catch(a){return"No Data"}}},international_partner_code:{field:"additionalInfo",callback:function(e){return e?"WR":"No Data"}},sender_name:"sentBy",source_country_code:{field:"senderData",callback:function(e){try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.countryName)}catch(a){return"No Data"}}},source_of_funds_code:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.sourceFunds)}catch(a){return"No Data"}}},transaction_date:{field:"createdAt",callback:function(e){if(!e)return"No Data";try{var t=new Date(e).toLocaleString("en-GB");return"".concat(t)}catch(a){return"No Data"}}},transaction_purpose_code:{field:"additionalInfo",callback:function(e){if(!e)return"No Data";try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.transactionPurpose)}catch(a){return"No Data"}}},transaction_mode:"transactionType",usd_equivalent_amount:{field:"additionalInfo",callback:function(e){return"No Data"}},international_partner_name:{field:"additionalInfo",callback:function(e){return e?"WorldRemit":"No Data"}},source_country_name:{field:"senderData",callback:function(e){try{var t=JSON.parse(e.replace(/\s/g,""));return"".concat(t.countryName)}catch(a){return"No Data"}}}},json_fields_rbz3:{Date:{field:"createdAt",callback:function(e){if(!e)return"No Data";try{var t=new Date(e).toLocaleDateString("en-GB");return"".concat(t)}catch(a){return"No Data"}}},Time:{field:"createdAt",callback:function(e){if(!e)return"No Data";try{var t=new Date(e).toLocaleTimeString("en-GB");return"".concat(t)}catch(a){return"No Data"}}},Amount:"payOut",CCY:"clientCurrency","Transaction Type":{field:"additionalInfo",callback:function(e){return"Remittance"}},"WR ID":"reference","WR ID (new version)":{field:"additionalInfo",callback:function(e){return" "}},"CORS ID":"id","Account Balance":{field:"additionalInfo",callback:function(e){return" "}},"Payout Amount":{field:"additionalInfo",callback:function(e){return" "}},"Payout CCY":"clientCurrency","Transaction commission":"commission","Transaction commission CCY":"sentCurrency"},json_title:["CONTICASH - WORLD REMIT TRANSACTION REPORT","Daily Reporting Template"," "],json_title_rbz:["EC-FORM-ADLA(I) "," ","INSTITUTION CODE: 0015000","FINANCIAL YEAR: ".concat(new Date(Date.now()).getFullYear()),"START DATE: ".concat(new Date(Date.now()).getDate(),"/").concat(new Date(Date.now()).getMonth()+1,"/").concat(new Date(Date.now()).getFullYear()),"END DATE: ".concat(new Date(Date.now()).getDate(),"/").concat(new Date(Date.now()).getMonth()+1,"/").concat(new Date(Date.now()).getFullYear())," "],json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[]}},watch:{dialogdaterange:function(e){e&&(this.start_date=null,this.end_date=null,this.SpecificRange="")},toggle:function(e){this.start_date=null,this.end_date=null,this.SpecificRange="","1"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"1"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"2"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"4"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"4"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow())},toggleDates:function(e){this.start_date=null,this.end_date=null,this.SpecificRange="","2"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"3"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow()),"1"==e&&"1"==this.toggle&&(this.disable=!1,this.tranTotals=[],this.getAllTransactions()),"2"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"3"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"1"==e&&"2"==this.toggle&&(this.disable=!1,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactions()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"1"==e&&"3"==this.toggle&&(this.disable=!1,null==this.user_id?(this.tranTotals=[],this.getTellers(),this.getAllTransactions()):(this.getTellers(),this.selectedTeller(this.user_id))),"2"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id)))},tranTotals:function(e){e.length>0&&e.forEach((function(e){}))},rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{paymentHeaders:function(){if("1"==this.toggle){var e=[{text:"Third Party Reference",value:"reference"},{text:"Transaction Date",value:"createdAt"},,{text:"Sent By",value:"createdAt"},{text:"Sent Date",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Branch",value:"branch_id"},{text:"Teller",value:"username"},{text:"Pay Out Amount",value:"payOut"},{text:"Client Name",value:"first_name"},{text:"Client Phone",value:"created_by"}];return e}if("2"==this.toggle){var t=[{text:"Third Party Reference",value:"reference"},{text:"Transaction Date",value:"createdAt"},,{text:"Sent By",value:"createdAt"},{text:"Sent Date",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Branch",value:"branch_id"},{text:"Pay Out Amount",value:"payOut"},{text:"Client Name",value:"first_name"},{text:"Client Phone",value:"created_by"}];return t}if("3"==this.toggle){var a=[{text:"Third Party Reference",value:"reference"},{text:"Transaction Date",value:"createdAt"},,{text:"Sent By",value:"createdAt"},{text:"Sent Date",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Teller",value:"username"},{text:"Pay Out Amount",value:"payOut"},{text:"Client Name",value:"first_name"},{text:"Client Phone",value:"created_by"}];return a}if("4"==this.toggle){var r=[{text:"Third Party Reference",value:"reference"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return r}var s=[{text:"Third Party Reference",value:"reference"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return s}},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.convertDate(),this.getAllTransactions()},methods:{resendRBZ:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s,n,i,o,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},r=JSON.parse(t.apiRespone),s=r.message.transaction,n=JSON.parse(t.additionalInfo),i=new Date,o={bdxName:"Test Bureau",bdxBranch:"Newlands HQ",transactionDate:i.toISOString(),apiUsername:this.$session.get("user").userdetails.rbz_username,password:this.$session.get("user").userdetails.rbz_password,operatorName:"".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name," Branch"),senderName:"".concat(s.sender.firstName," ").concat(s.sender.lastName),clientName:"".concat(s.recipient.firstName," ").concat(s.recipient.lastName),clientNationalId:n.clientID,clientGender:n.clientGender,clientPhysicalAddress:{street:n.clientAddress},district:n.clientDistrict,currencyCode:"".concat(s.transaction.beneficiaryCurrency),sourceCountryCode:"",internationalPartnerCode:"WR",sourceCountryName:s.sender.countryName,internationalPartnerName:"World Remit",sourceOfFundsCode:n.sourceFunds,transactionPurposeCode:n.transactionPurpose,transferMode:"CASH",amount:s.transaction.beneficiaryAmount,originalReference:s.transaction.wrtId},this.dialogloader=!0,e.next=9,A.a.post(this.nodeApi+"/postRBZ",o,{headers:a}).subscribe((function(e){e.data.statusCode?l.rbzTransactionUpdate(1,s.transaction.wrtId):l.rbzTransactionUpdate(2,s.transaction.wrtId)}),(function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),rbzTransactionUpdate:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t,a){var r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/postRBZUpdater",{data:t,reference:a},{headers:r}).subscribe((function(e){s.dialogloader=!1,1==e.data.data.one.recordset.affectedRows?s.$swal.fire("RBZ Sending Successful","You have successfully sent this transaction to the RBZ.","success"):s.$swal.fire("RBZ Sending Error","There was an error sending transction to the RBZ.","error"),console.log(e.data)}),(function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),getFullYear:function(){var e=new Date.now,t=(e.getDate(),e.getMonth(),e.getFullYear());return"".concat(t)},getFullDate:function(){var e=new Date.now,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(r)},addData:function(){this.newrows=this.rows,this.newrows.unshift(this.starterData)},addDataRBZ:function(){this.newrows2=this.rows},convertDate:function(){var e=new Date;this.now_date=e.toISOString()},daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h,p,m,f,g=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.json_title_rbz=["EC-FORM-ADLA(I) "," ","INSTITUTION CODE: 0015000","FINANCIAL YEAR: ".concat(new Date(Date.now()).getFullYear()),"START DATE: ".concat(this.start_date),"END DATE: ".concat(this.end_date)," "],this.dialogdaterange=!1,this.SpecificRange="".concat(this.start_date," to ").concat(this.end_date),this.dialogloader=!0,t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),"1"!=this.toggle||"2"!=this.toggleDates){e.next=14;break}return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 12:return e.next=14,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 14:if("2"!=this.toggle||"2"!=this.toggleDates||null!=this.branch_id){e.next=20;break}return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=18,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 18:return e.next=20,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 20:if("2"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=26;break}return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=24,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:n}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 24:return e.next=26,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:n}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 26:if("2"!=this.toggle||"2"!=this.toggleDates||null==this.branch_id){e.next=32;break}return i={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=30,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:i}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 30:return e.next=32,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:i}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 32:if("1"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=38;break}return o={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=36,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:o}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 36:return e.next=38,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date},{headers:o}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 38:if("1"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=44;break}return l={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=42,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:l}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 42:return e.next=44,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:l}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 44:if("2"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=50;break}return c={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=48,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:c}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 48:return e.next=50,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:c}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 50:if("2"!=this.toggle||"1"!=this.toggleDates||null==this.branch_id){e.next=56;break}return d={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=54,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:d}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 54:return e.next=56,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:d}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 56:if("3"!=this.toggle||"2"!=this.toggleDates||null!=this.user_id){e.next=60;break}return u={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=60,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:u}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 60:if("3"!=this.toggle||"2"!=this.toggleDates||null==this.user_id){e.next=66;break}return h={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=64,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 64:return e.next=66,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 66:if("3"!=this.toggle||"3"!=this.toggleDates||null!=this.user_id){e.next=70;break}return p={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=70,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:p}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 70:if("3"!=this.toggle||"3"!=this.toggleDates||null==this.user_id){e.next=76;break}return m={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=74,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:m}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 74:return e.next=76,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:m}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 76:if("4"!=this.toggle){e.next=80;break}return f={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=80,A.a.post(this.nodeApi+"/getAllReversalsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:f}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 80:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Reverse:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reverse transaction!"}).then((function(r){if(r.value){var s={id:e.id,rev_id:t.$session.get("user").userdetails.id,floatincrease:{col:"amount",value:e.disburse_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.disburse_currency_id},floatdecrease:{col:"amount",value:e.receive_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.received_currency_id}};A.a.post(t.nodeApi+"/reverseTransactionBuySell",s,{headers:a}).subscribe((function(e){e.data.message?t.$swal.fire({type:"error",title:"Transaction Reverse Failed",text:e.data.message}):(t.getAllTransactions(),t.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),t.dialogTransaction=!1,t.$emit("settlement","complete"))}),(function(e){t.$swal.fire({type:"error",title:"Transaction Adding Failed",text:res.data.message})}))}}))},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectedBranch:function(e){this.branch_id=e,"2"==this.toggle&&"1"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactions(e),this.getAllBranchTransactionsSum(e)),"2"==this.toggle&&"2"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactionsNowByID(e),this.getAllBranchTransactionsSumNow(e)),"2"==this.toggle&&"3"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactionsMonthNowByID(e),this.getAllBranchTransactionsSumMonthNow(e)),"2"==this.toggle&&"1"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e)),"2"==this.toggle&&"2"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e)),"2"==this.toggle&&"3"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e))},selectedTeller:function(e){this.user_id=e,"3"==this.toggle&&"1"==this.toggleDates&&(this.getAllTellerTransactions(e),this.getAllTellerTransactionsSum(e)),"3"==this.toggle&&"2"==this.toggleDates&&(this.getAllTellerTransactionsNowByID(e),this.getAllTellerTransactionsSumNow(e)),"3"==this.toggle&&"3"==this.toggleDates&&(this.getAllTellerTransactionsMonthNowByID(e),this.getAllTellerTransactionsSumMonthNow(e))},getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNowUtilWorldRemit",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowUtilWorldRemit",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNowUtilWorldRemit",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowUtilWorldRemit",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsMonthNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsByID",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTransactionsByIDWorldRemit",{tran_id:this.transactionID},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsMonthNowUtilWorldRemit",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowUtilWorldRemitMonth",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowByIDUtilWorldRemit",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranchTransactionsMonthNowUtil",{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsMonthNowByIDUtilWorldRemit",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsUtil",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsNowByIDUtilWorldRemit",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsMonthNowByIDUtilWorldRemit",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowUtilWorldRemit",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNowByIDSpec:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowByIDUtilWorldRemitSpec",{branch_id:t,start_date:this.start_date,end_date:this.end_date},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNowSpec:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowUtilWorldRemitSpec",{branch_id:t,start_date:this.start_date,end_date:this.end_date},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowByIDUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumMonthNowUtilWorldRemit",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumUtil",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumNowUtilWorldRemit",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumMonthNowUtilWorldRemit",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllManagerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllManagerTransactions",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){this.getAllTransactions()},exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"},{title:"Status",dataKey:"status"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}},Ln=Mn,Wn=(a("9859"),Object(d["a"])(Ln,Vn,zn,!1,null,"647dcea0",null)),Gn=Wn.exports;h()(Wn,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VProgressLinear:K["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var Yn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-layout",{attrs:{row:"","justify-end":""}},[r("h2",{staticStyle:{"margin-right":"20px"}},[e._v("Show from : "+e._s(e.SpecificRange))]),r("h2",{staticStyle:{color:"grey"}},[e._v("Full Over-all ContiSend Report")])]),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},e._l(e.tranTotals,(function(t){return r("v-flex",{key:t.id,attrs:{xs12:"",sm12:"",md4:"","pa-2":""}},[t.counted>0?r("v-card",{attrs:{hover:""}},[r("v-flex",{staticClass:"card cardRev3",attrs:{"mb-2":""}},[r("v-layout",{attrs:{"ma-1":""}},[r("img",{staticClass:"image",attrs:{src:a("2611")}}),r("v-flex",{staticStyle:{"text-align":"right",padding:"3px"}},[r("h2",{staticStyle:{color:"grey"}},[e._v("Total "+e._s(t.transaction_typeT))]),r("h3",{staticStyle:{color:"blue"}},[e._v("\n                "+e._s(t.receive_currencyT)+"\n                "+e._s(parseFloat(t.receive_amountT).toFixed(2))+" @\n                "),r("span",[e._v(e._s(t.receive_currencyT)+"\n                  "+e._s(parseFloat(t.receive_amount_charge).toFixed(2)))])]),r("h3",{staticStyle:{color:"red"}},[e._v("Transactions# : "+e._s(t.counted))])])],1)],1)],1):e._e()],1)})),1),r("v-layout",{attrs:{row:"",wrap:"","justify-end":""}},[r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"1"===e.toggle,expression:"toggle === `1`"}],attrs:{xs12:"",sm6:"",md2:"","mb-2":"","mr-5":""}},[r("v-text-field",{attrs:{"append-icon":"search",label:"Search By Reference ID#","single-line":"",type:"number","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAllTransactionsByID(t)}},model:{value:e.transactionID,callback:function(t){e.transactionID=t},expression:"transactionID"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md1:"","mb-2":"","mr-5":"","mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.togglePaid,callback:function(t){e.togglePaid=t},expression:"togglePaid"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" All ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" Paid ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Unpaid ")])],1)],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `3` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-5":""}},[r("v-combobox",{attrs:{items:["Harare","Bulawayo","Chitungwiza","Mutare","Epworth","Gweru","Kwekwe","Kadoma","Masvingo","Chinhoyi","Norton","Marondera","Ruwa","Chegutu","Zvishavane","Bindura","Beitbridge","Redcliff","Victoria Falls","Hwange","Rusape","Chiredzi","Kariba","Karoi","Chipinge","Gokwe","Shurugwi"],label:"Select City"},on:{input:e.selectedBranch},model:{value:e.selectedBranchCity,callback:function(t){e.selectedBranchCity=t},expression:"selectedBranchCity"}})],1),r("v-flex",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle&&"4"!==e.toggle&&"1"!==e.toggle,expression:"toggle !== `2` && toggle !== `4` && toggle !== `1`"}],attrs:{xs12:"",sm4:"",md2:"","mr-5":""}},[r("v-select",{attrs:{items:e.tellers,label:"Select Teller","item-text":"username","item-value":"id"},on:{input:e.selectedTeller}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md3:"","mt-2":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[r("v-btn",{attrs:{flat:"",value:"1"}},[e._v(" All ")]),r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" Branches Only ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" Tellers Only ")])],1)],1),r("v-flex",{attrs:{xs12:"",sm6:"",md4:"","mt-1":""}},[r("v-btn-toggle",{attrs:{mandatory:"",color:"primary"},model:{value:e.toggleDates,callback:function(t){e.toggleDates=t},expression:"toggleDates"}},[r("v-btn",{attrs:{flat:"",value:"2"}},[e._v(" Today ")]),r("v-btn",{attrs:{flat:"",value:"3"}},[e._v(" This month ")])],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialogdaterange=!0}}},[e._v(" Specific Range ")]),r("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",{attrs:{icon:""},on:{click:e.exportExcel}},[r("export-excel",{staticClass:"btn btn-default",attrs:{data:e.newrows,fields:e.json_fields,title:e.json_title,"before-generate":e.addData,worksheet:"Tran_Worksheet",name:"ContiSendReport.xls"}},[r("v-icon",e._g({attrs:{color:"green darken-2"}},a),[e._v("library_add")])],1)],1)]}}])},[r("span",[e._v("Export to excel")])])],1)],1),r("v-layout",{attrs:{row:"","justify-end":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.paymentHeaders,items:e.rows,"item-key":"id","must-sort":"",pagination:e.pagination,width:"10",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[r("tr",[r("td",[e._v(e._s(t.item.id))]),r("td",[e._v(e._s(t.item.city_name))]),r("td",[e._v("\n              "+e._s(t.item.sender_first_name)+" "+e._s(t.item.sender_last_name)+"\n            ")]),r("td",[e._v(e._s(new Date(t.item.created_at).toLocaleString("en-GB")))]),r("td",[e._v(e._s(t.item.currency_symbol)+" "+e._s(t.item.receive_amount))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"3"!==e.toggle,expression:"toggle !== `3`"}]},[e._v(e._s(t.item.branch_id))]),r("td",{directives:[{name:"show",rawName:"v-show",value:"2"!==e.toggle,expression:"toggle !== `2`"}]},[e._v(e._s(t.item.username))]),r("td",[t.item.disburse_amount?r("v-chip",{attrs:{label:"",color:"blue","text-color":"white"}},[e._v("\n                "+e._s(t.item.currency_symbol)+"\n                "+e._s(parseFloat(t.item.disburse_amount).toFixed(2))+"\n              ")]):e._e(),t.item.disburse_amount?e._e():r("v-chip",{attrs:{label:"",color:"red","text-color":"white"}},[e._v("\n                "+e._s(t.item.currency_symbol)+"\n                "+e._s(parseFloat(t.item.disburse_amount).toFixed(2))+"\n              ")])],1),r("td",[e._v(e._s(t.item.refNumber))]),r("td",[e._v("\n              "+e._s(t.item.recipientFirstName)+" "+e._s(t.item.recipientLastName)+"\n            ")]),t.item.disburse_amount?r("td",[e._v("\n              "+e._s(new Date(t.item.collect_at).toLocaleString("en-GB"))+"\n            ")]):e._e()])]}},{key:"expand",fn:function(t){return[r("v-card",{attrs:{flat:""}},[r("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1)],1),r("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:e.dialogdaterange,callback:function(t){e.dialogdaterange=t},expression:"dialogdaterange"}},[r("v-card",{staticClass:"mx-auto"},[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Select Report Date Range")])]),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:"","mt-3":"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter from date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.start_date,callback:function(t){e.start_date=t},expression:"start_date"}})],1),r("v-flex",{attrs:{xs12:"","mr-3":"","ml-3":""}},[r("v-text-field",{staticStyle:{"text-align":"center"},attrs:{autofocus:"",type:"date",label:"Please enter to date",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.daterange(t)}},model:{value:e.end_date,callback:function(t){e.end_date=t},expression:"end_date"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogdaterange=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:e.daterange}},[e._v("Filter")])],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#ECB530",dark:""}},[r("v-card-text",[e._v("\n        Please stand by\n        "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},Hn=[],qn={data:function(){var e;return{switch1:!0,dialogloader:!1,SpecificRange:"",allRates:[],newrows:[],newrows2:[],disable:!1,totalFloat:[],expand:!1,selectedBranchCity:"",show_start_date:!1,dialogdaterange:!1,nodeApi:"http://localhost:8081",start_date:null,is_charged:null,show_end_date:!1,end_date:null,transactionID:null,now_date:null,branch_id:null,user_id:null,selectedBranches:null,selectedTellers:null,branches:[],tellers:[],user_type:0,center_id:"",centreCurrency:"",rowsFilter:[],tranTotals:[],text:"center",icon:"justify",toggle_none:null,toggle_one:0,toggle_exclusive:2,toggle_multiple:[0,1,2],search:"",filters:{search:"",added_by:"",start_date:null,end_date:null},authors:["Buy","Sell"],pagination:{sortBy:"id",descending:!0,rowsPerPage:15},selected:[],filteredRow:[],symbol:"",togglePaid:"1",toggle:"1",toggleDates:"2",starterData:{createdAt:"DD/MM/YYYY",reference:"WorldRemit reference",branch_id:"PayOut Branch",username:"Banch Teller",id:"Your reference",clientCurrency:"e.g. INR, UGX, COP ",payOut:"Pay-out / Return amount in pay-out currency",fxRate:"Pay-out currency: Settlement currency",sentCurrency:"e.g. EUR, GBP, USD",sentAmount:"Transaction in settlement currency (including any funding applied)",commission:"Amount charged per transaction",transactionType:"e.g. Funding, Paid, Return",balance:"Cumulative running total in settlement currency"},starterDataRBZ:(e={createdAt:"Name of Sender",reference:"Name of Beneficiary",id:"Beneficiary Identity Number",clientCurrency:"Beneficiary Gender (M/F)",payOut:"Physical Address",fxRate:"Beneficiary District",sentCurrency:"International Partner Code",sentAmount:"Source Country Code",commission:"Transaction Purpose Code",transactionType:"Source of Funds",balance:"Currency Code"},Object(C["a"])(e,"balance","Amount"),Object(C["a"])(e,"balance","Mode of Payout (Cash/Account)"),e),json_fields:{"Third Party Reference":"id","Transaction ID":"refNumber","Transaction Date":{field:"created_at",callback:function(e){if("DD/MM/YYYY"!=e){var t=new Date(e),a=t.getDate(),r=t.getMonth()+1,s=t.getFullYear();return"".concat(a,"/").concat(r,"/").concat(s)}return"DD/MM/YYYY"}},Branch:"branch_id",Teller:"username","Recipient FirstName":"recipientFirstName","Recipient LastName":"recipientLastName","Pay Out Currency":"currency_symbol","Pay Out Amount":"disburse_amount","Sender LirstName":"sender_first_name","Sender LastName":"sender_last_name","Sent Currency":"currency_symbol","Sent Amount":"receive_amount",Commission:"charge","Transaction Type":"sendTypeData",Balance:"balance"},json_title:["CONTICASH - CONTISEND TRANSACTION REPORT"," "],json_title_rbz:["EC-FORM-ADLA(I) "," ","INSTITUTION CODE: 0015000","FINANCIAL YEAR: ".concat(new Date(Date.now()).getFullYear()),"START DATE: ".concat(new Date(Date.now()).getDate(),"/").concat(new Date(Date.now()).getMonth()+1,"/").concat(new Date(Date.now()).getFullYear()),"END DATE: ".concat(new Date(Date.now()).getDate(),"/").concat(new Date(Date.now()).getMonth()+1,"/").concat(new Date(Date.now()).getFullYear())," "],json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],rows:[],main_rows:[],temp_rows:[],temp_tranTotals:[]}},watch:{togglePaid:function(e){if(1==e){this.rows=this.main_rows,this.tranTotals=[];var t=this.rows,a=0,r=0,s=0,n="Bond",i="Bond";t.forEach((function(e){"Bond"==e.currency_symbol&&(a+=1,r+=e.disburse_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i});a=0,r=0,s=0,n="Rand",i="Rand";t.forEach((function(e){"Rand"==e.currency_symbol&&(a+=1,r+=e.disburse_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i});a=0,r=0,s=0,n="USD",i="USD";t.forEach((function(e){"USD"==e.currency_symbol&&(a+=1,r+=e.disburse_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i})}if(2==e){this.rows=this.main_rows,this.tranTotals=[];t=this.rows.filter((function(e){return null!=e.disburse_amount}));this.rows=t;a=0,r=0,s=0,n="Bond",i="Bond";t.forEach((function(e){"Bond"==e.currency_symbol&&(a+=1,r+=e.disburse_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i});a=0,r=0,s=0,n="Rand",i="Rand";t.forEach((function(e){"Rand"==e.currency_symbol&&(a+=1,r+=e.disburse_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i});a=0,r=0,s=0,n="USD",i="USD";t.forEach((function(e){"USD"==e.currency_symbol&&(a+=1,r+=e.disburse_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i})}if(3==e){this.rows=this.main_rows,this.tranTotals=[];t=this.rows.filter((function(e){return null==e.disburse_amount}));this.rows=t;a=0,r=0,s=0,n="Bond",i="Bond";t.forEach((function(e){"Bond"==e.currency_symbol&&(a+=1,r+=e.receive_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i});a=0,r=0,s=0,n="Rand",i="Rand";t.forEach((function(e){"Rand"==e.currency_symbol&&(a+=1,r+=e.receive_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i});a=0,r=0,s=0,n="USD",i="USD";t.forEach((function(e){"USD"==e.currency_symbol&&(a+=1,r+=e.receive_amount,s+=e.charge)})),this.tranTotals.push({counted:a,receive_amountT:r,receive_amount_charge:s,receive_currencyT:n,transaction_typeT:i})}},dialogdaterange:function(e){e&&(this.start_date=null,this.end_date=null,this.SpecificRange="")},toggle:function(e){this.start_date=null,this.end_date=null,this.SpecificRange="","1"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"1"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"2"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggleDates&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"4"==e&&"2"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"4"==e&&"3"==this.toggleDates&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow())},toggleDates:function(e){this.start_date=null,this.end_date=null,this.SpecificRange="","2"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsNow()),"3"==e&&"4"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllReversalsMonthNow()),"1"==e&&"1"==this.toggle&&(this.disable=!1,this.tranTotals=[],this.getAllTransactions()),"2"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsNow()),"3"==e&&"1"==this.toggle&&(this.disable=!0,this.tranTotals=[],this.getAllTransactionsMonthNow()),"1"==e&&"2"==this.toggle&&(this.disable=!1,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactions()):(this.getBranches(),this.selectedBranch(this.branch_id))),"2"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"3"==e&&"2"==this.toggle&&(this.disable=!0,null==this.branch_id?(this.getBranches(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getBranches(),this.selectedBranch(this.branch_id))),"1"==e&&"3"==this.toggle&&(this.disable=!1,null==this.user_id?(this.tranTotals=[],this.getTellers(),this.getAllTransactions()):(this.getTellers(),this.selectedTeller(this.user_id))),"2"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsNow()):(this.getTellers(),this.selectedTeller(this.user_id))),"3"==e&&"3"==this.toggle&&(this.disable=!0,null==this.user_id?(this.getTellers(),this.tranTotals=[],this.getAllTransactionsMonthNow()):(this.getTellers(),this.selectedTeller(this.user_id)))},tranTotals:function(e){e.length>0&&e.forEach((function(e){}))},rowsFilter:function(e){},customFilter:function(e){},rows:function(e){},filters:function(e){}},beforeMount:function(){},computed:{paymentHeaders:function(){if("1"==this.toggle){var e=[{text:"Tran ID",value:"id"},{text:"City",value:"createdAt"},,{text:"Sender",value:"createdAt"},{text:"Sent Date",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Branch",value:"branch_id"},{text:"Teller",value:"username"},{text:"Pay Out",value:"payOut"},{text:"Reference",value:"reference"},{text:"Receiver",value:"first_name"},{text:"Collected",value:"created_by"}];return e}if("2"==this.toggle){var t=[{text:"Tran ID",value:"id"},{text:"City",value:"createdAt"},,{text:"Sender",value:"createdAt"},{text:"Sent Date",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Branch",value:"branch_id"},{text:"Pay Out",value:"payOut"},{text:"Reference",value:"reference"},{text:"Receiver",value:"first_name"},{text:"Collected",value:"created_by"}];return t}if("3"==this.toggle){var a=[{text:"Tran ID",value:"id"},{text:"City",value:"createdAt"},,{text:"Sender",value:"createdAt"},{text:"Sent Date",value:"createdAt"},{text:"Sent Amount",value:"createdAt"},{text:"Teller",value:"username"},{text:"Pay Out",value:"payOut"},{text:"Reference",value:"reference"},{text:"Receiver",value:"first_name"},{text:"Collected",value:"created_by"}];return a}if("4"==this.toggle){var r=[{text:"Tran id",value:"id"},{text:"City",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return r}var s=[{text:"Tran id",value:"id"},{text:"Date",value:"created_at"},{text:"Branch",value:"name"},{text:"Type",value:"transaction_type"},{text:"Rate Cost",value:"rate"},{text:"Received $",value:"receive_amount"},{text:"Disbursed $",value:"disburse_amount"},{text:"Client",value:"first_name"},{text:"Teller",value:"created_by"},{text:"Status",value:"status"},{text:"Action",value:"status"}];return s}},mounted:function(){this.getAllRates(),this.user_type=this.$session.get("user").userdetails.user_type,this.convertDate(),this.getAllTransactions()},methods:{getFullYear:function(){var e=new Date.now,t=(e.getDate(),e.getMonth(),e.getFullYear());return"".concat(t)},getFullDate:function(){var e=new Date.now,t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(r)},addData:function(){this.newrows=this.rows},addDataRBZ:function(){this.newrows2=this.rows},convertDate:function(){var e=new Date;this.now_date=e.toISOString()},daterange:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i,o,l,c,d,u,h,p,m,f,g=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.dialogdaterange=!1,this.SpecificRange="".concat(this.start_date," to ").concat(this.end_date),this.dialogloader=!0,t=new Date(this.end_date),t.setDate(t.getDate()+1),a=t.toISOString(),this.end_date=a.substring(0,10),"1"!=this.toggle||"2"!=this.toggleDates){e.next=13;break}return r={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=11,A.a.post(this.nodeApi+"/getAllTransactionsSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 11:return e.next=13,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:r}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 13:if("2"!=this.toggle||"2"!=this.toggleDates||null!=this.branch_id){e.next=19;break}return s={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=17,A.a.post(this.nodeApi+"/getAllTransactionsSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 17:return e.next=19,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:s}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 19:if("2"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=25;break}return n={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=23,A.a.post(this.nodeApi+"/getAllTransactionsSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:n}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 23:return e.next=25,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:n}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 25:if("2"!=this.toggle||"2"!=this.toggleDates||null==this.branch_id){e.next=31;break}return i={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=29,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:i}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 29:return e.next=31,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:i}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 31:if("1"!=this.toggle||"3"!=this.toggleDates||null!=this.branch_id){e.next=37;break}return o={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=35,A.a.post(this.nodeApi+"/getAllTransactionsSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:o}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 35:return e.next=37,A.a.post(this.nodeApi+"/getAllTransactionsSumSpecificContiSend",{start:this.start_date,end:this.end_date},{headers:o}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 37:if("1"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=43;break}return l={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=41,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:l}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 41:return e.next=43,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:l}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 43:if("2"!=this.toggle||"3"!=this.toggleDates||null==this.branch_id){e.next=49;break}return c={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=47,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:c}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 47:return e.next=49,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:c}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 49:if("2"!=this.toggle||"1"!=this.toggleDates||null==this.branch_id){e.next=55;break}return d={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=53,A.a.post(this.nodeApi+"/getAllBranchTransactionsSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:d}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 53:return e.next=55,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumSpecificUtilWorldRemit",{start:this.start_date,end:this.end_date,branch_id:this.branch_id},{headers:d}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 55:if("3"!=this.toggle||"2"!=this.toggleDates||null!=this.user_id){e.next=59;break}return u={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=59,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:u}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 59:if("3"!=this.toggle||"2"!=this.toggleDates||null==this.user_id){e.next=65;break}return h={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=63,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 63:return e.next=65,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:h}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 65:if("3"!=this.toggle||"3"!=this.toggleDates||null!=this.user_id){e.next=69;break}return p={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=69,A.a.post(this.nodeApi+"/getAllTransactionsSpecificUtil",{start:this.start_date,end:this.end_date},{headers:p}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 69:if("3"!=this.toggle||"3"!=this.toggleDates||null==this.user_id){e.next=75;break}return m={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=73,A.a.post(this.nodeApi+"/getAllTellerTransactionsSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:m}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 73:return e.next=75,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumSpecificUtil",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:m}).subscribe((function(e){g.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 75:if("4"!=this.toggle){e.next=79;break}return f={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=79,A.a.post(this.nodeApi+"/getAllReversalsSpecific",{start:this.start_date,end:this.end_date,user_id:this.user_id},{headers:f}).subscribe((function(e){g.rows=e.data.data.one.recordset,g.main_rows=e.data.data.one.recordset,g.dialogdaterange=!1,g.dialogloader=!1}),(function(e){return console.log(e)}));case 79:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),Reverse:function(e){var t=this,a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token};this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Reverse transaction!"}).then((function(r){if(r.value){var s={id:e.id,rev_id:t.$session.get("user").userdetails.id,floatincrease:{col:"amount",value:e.disburse_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.disburse_currency_id},floatdecrease:{col:"amount",value:e.receive_amount,wcol:"user_id",wvalue:e.user_id,wcol2:"currency_id",wvalue2:e.received_currency_id}};A.a.post(t.nodeApi+"/reverseTransactionBuySell",s,{headers:a}).subscribe((function(e){e.data.message?t.$swal.fire({type:"error",title:"Transaction Reverse Failed",text:e.data.message}):(t.getAllTransactions(),t.$swal.fire({type:"success",title:"Transaction Added",text:"Transaction was added successfully"}),t.dialogTransaction=!1,t.$emit("settlement","complete"))}),(function(e){t.$swal.fire({type:"error",title:"Transaction Adding Failed",text:res.data.message})}))}}))},getBranches:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranches",{headers:t}).subscribe((function(e){a.branches=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTellers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTellerUsers",{headers:t}).subscribe((function(e){a.tellers=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectedBranch:function(e){this.branch_id=e,"2"==this.toggle&&"1"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactions(e),this.getAllBranchTransactionsSum(e)),"2"==this.toggle&&"2"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactionsNowByID(e),this.getAllBranchTransactionsSumNow(e)),"2"==this.toggle&&"3"==this.toggleDates&&""==this.SpecificRange&&(this.getAllBranchTransactionsMonthNowByID(e),this.getAllBranchTransactionsSumMonthNow(e)),"2"==this.toggle&&"1"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e)),"2"==this.toggle&&"2"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e)),"2"==this.toggle&&"3"==this.toggleDates&&""!=this.SpecificRange&&(this.getAllBranchTransactionsNowByIDSpec(e),this.getAllBranchTransactionsSumNowSpec(e))},selectedTeller:function(e){this.user_id=e,"3"==this.toggle&&"1"==this.toggleDates&&(this.getAllTellerTransactions(e),this.getAllTellerTransactionsSum(e)),"3"==this.toggle&&"2"==this.toggleDates&&(this.getAllTellerTransactionsNowByID(e),this.getAllTellerTransactionsSumNow(e)),"3"==this.toggle&&"3"==this.toggleDates&&(this.getAllTellerTransactionsMonthNowByID(e),this.getAllTellerTransactionsSumMonthNow(e))},getAllRates:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllRates",{headers:t}).subscribe((function(e){a.allRates=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNowContiSend",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset,a.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowConitSend",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsNowContiSend",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset,a.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowConitSend",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset,a.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllReversalsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllReversalsMonthNow",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset,a.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsByID",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTransactionsByIDContiSend",{tran_id:this.transactionID},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllTransactionsMonthNowContiSend",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset,a.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:return e.next=5,A.a.get(this.nodeApi+"/getAllTransactionsSumNowContiSendMonth",{headers:t}).subscribe((function(e){a.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllBranchTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowContiSend",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllBranchTransactionsMonthNowUtil",{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsMonthNowByIDConitSend",{branch_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsUtil",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsNowByIDContiSend",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsMonthNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsMonthNowByIDContiSend",{user_id:t},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset,r.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowContiSend",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsNowByIDSpec:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsNowByIDUtilWorldRemitSpec",{branch_id:t,start_date:this.start_date,end_date:this.end_date},{headers:a}).subscribe((function(e){r.rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNowSpec:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowUtilWorldRemitSpec",{branch_id:t,start_date:this.start_date,end_date:this.end_date},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumNowByID:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumNowByIDUtil",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllBranchTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllBranchTransactionsSumMonthNowContiSend",{branch_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset,r.totalFloat.forEach((function(e){r.rows.push(e)}))}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSum:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumUtil",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumNowContiSend",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllTellerTransactionsSumMonthNow:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.post(this.nodeApi+"/getAllTellerTransactionsSumMonthNowContiSend",{user_id:t},{headers:a}).subscribe((function(e){r.tranTotals=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),getAllManagerTransactions:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=3,A.a.get(this.nodeApi+"/getAllManagerTransactions",{headers:t}).subscribe((function(e){a.rows=e.data.data.one.recordset,a.main_rows=e.data.data.one.recordset}),(function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),refresh:function(){this.getAllTransactions()},exportPdf:function(){var e=this,t=[{title:"Tran Ref",dataKey:"id"},{title:"Date",dataKey:"created_at"},{title:"Received $",dataKey:"receive_amount"},{title:"Disbursed $",dataKey:"disburse_amount"},{title:"Rate",dataKey:"rate"},{title:"Branch",dataKey:"name"},{title:"Disburse Curr.",dataKey:"disburse_currency"},{title:"Receive Curr.",dataKey:"receive_currency"},{title:"Client Name",dataKey:"first_name"},{title:"Client ID",dataKey:"id_number"},{title:"Type",dataKey:"transaction_type"},{title:"Status",dataKey:"status"}],a=new k("l","pt"),r="{total_pages_count_string}";a.setTextColor(100),a.autoTable(t,e.rowsFilter,{didDrawPage:function(e){a.setFontSize(20),a.setTextColor(40),a.setFontStyle("normal"),a.text("ContiCash Transaction Report",e.settings.margin.left+15,22);var t="Page "+a.internal.getNumberOfPages();"function"===typeof a.putTotalPages&&(t=t+" of "+r+"                                                                                                                                                                                                                                 @countitouch 2019"),a.setFontSize(10);var s=a.internal.pageSize,n=s.height?s.height:s.getHeight();a.text(t,e.settings.margin.left,n-10)},margin:{top:30}}),"function"===typeof a.putTotalPages&&a.putTotalPages(r),a.save("TransactionReport.pdf")},exportExcel:function(){},customFilter:function(e,t,a,r){var s=new this.$MultiFilters(e,t,a,r);return s.registerFilter("search",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),e)})),s.registerFilter("added_by",(function(e,t){return""===e.trim()?t:t.filter((function(t){return t.transaction_type.toLowerCase()===e.toLowerCase()}),e)})),s.registerFilter("start_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date>=e}),e)})),s.registerFilter("end_date",(function(e,t){return null===e?t:t.filter((function(t){return t.tran_date<=e}),e)})),this.rowsFilter=s.runFilters(),s.runFilters()},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.rows.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},filterSearch:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{search:e})},filterAuthor:function(e){this.filters=this.$MultiFilters.updateFilters(this.filters,{added_by:e})},filterStartDate:function(e){this.$refs.show_start_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{start_date:e})},filterEndDate:function(e){this.$refs.show_end_date.save(e),this.filters=this.$MultiFilters.updateFilters(this.filters,{end_date:e})}},filters:{formatDate:function(e){return e?new Date(e).toLocaleDateString("es-ES"):""}}},Zn=qn,Kn=(a("f207"),Object(d["a"])(Zn,Yn,Hn,!1,null,"3235eaa4",null)),Jn=Kn.exports;h()(Kn,{VBtn:U["a"],VBtnToggle:rr["a"],VCard:j["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VCombobox:I["a"],VDataTable:E["a"],VDialog:V["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VProgressLinear:K["a"],VSelect:J["a"],VSpacer:Q["a"],VTextField:oe["a"],VTooltip:ue["a"]});var Qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",color:"primary"}},[a("v-toolbar-title",[a("h3",{staticClass:"font-weight-bold display-3 white--text"},[e._v("ConitCash FX Booking")])])],1),a("v-tabs",{attrs:{color:"primary",grow:"",dark:"","slider-color":"white"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab",{key:t},[e._v("\n            "+e._s(t)+"\n        ")])})),1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",[a("v-flex",{attrs:{xs12:"","ml-2":"","mr-5":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line7":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.usersHeaders,items:e.userData,"item-key":"id",pagination:e.pagination,width:"10","must-sort":"",search:e.search},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.firstName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.lastName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.emailAddress))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.phoneNumber))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.nationalId))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.usertype))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),a("td",{staticClass:"text-xs-left"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"blue",icon:""},on:{click:function(a){return e.ResetPin(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            vpn_key\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Rest Pin")])]),13==t.item.active?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"red",icon:""},on:{click:function(a){return e.DeActivateUser(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            person_add_disabled\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("De-Activate")])]):e._e(),14==t.item.active?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"green",icon:""},on:{click:function(a){return e.ActivateUser(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            how_to_reg\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Activate")])]):e._e()],1)])]}}])})],1),a("v-tab-item",[a("v-layout",{attrs:{rows:""}},[a("v-flex",{attrs:{xs8:"","ml-2":"","mr-5":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line7":"","hide-details":""},model:{value:e.search2,callback:function(t){e.search2=t},expression:"search2"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.pendingVerifyHeaders,items:e.pendingVerifyData,"item-key":"id",pagination:e.pagination,width:"10","must-sort":"",search:e.search2},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.clickTable(t.item)}}},[e._v(e._s(t.item.userId))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.clickTable(t.item)}}},[e._v(e._s(t.item.firstName))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.clickTable(t.item)}}},[e._v(" "+e._s(t.item.lastName))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.clickTable(t.item)}}},[e._v(e._s(t.item.status))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.clickTable(t.item)}}},[e._v(e._s(t.item.imageType))]),a("td",{staticClass:"text-xs-left",on:{click:function(a){return e.clickTable(t.item)}}},[e._v(e._s(new Date(t.item.createdAt).toLocaleString("en-GB")))]),a("td",{staticClass:"text-xs-left"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"blue",icon:""},on:{click:function(a){return e.verified(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_up_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Positive Verification")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"red",icon:""},on:{click:function(a){return e.decline(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_down_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Decline Verification")])])],1)])]}}])})],1),""!=e.avatar?a("v-flex",{attrs:{xs4:""}},[a("v-card",{staticClass:"mx-auto ma-2",attrs:{hover:"","max-width":"300",color:"blue lighten-5"}},[a("v-flex",{attrs:{"pa-2":""}},[a("img",{staticClass:"bounceIn",attrs:{src:e.avatar,alt:"Photo",width:"100%"}})])],1)],1):e._e()],1)],1),a("v-tab-item",[a("v-flex",{attrs:{xs12:"","ml-2":"","mr-5":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line7":"","hide-details":""},model:{value:e.search3,callback:function(t){e.search3=t},expression:"search3"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersAuthBookings,items:e.authBookings,"item-key":"id",pagination:e.pagination,width:"10","must-sort":"",search:e.search3},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(new Date(t.item.expireDateTime).toLocaleString("en-GB")))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.firstName)+" "+e._s(t.item.lastName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.sellCurrency))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.amount).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.rate).toFixed(4)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.buyCurrency)+" "+e._s(parseFloat(t.item.expectedAmount).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[2==t.item.isForex?a("v-chip",{staticClass:"mb-2",attrs:{color:"red",label:"","text-color":"white"}},[e._v("\n                                        "+e._s(t.item.sellCurrency)+"\n                      "+e._s(parseFloat(.01*t.item.amount).toFixed(2))+"\n                      ")]):e._e(),1==t.item.isForex?a("v-chip",{staticClass:"mb-2",attrs:{color:"red",label:"","text-color":"white"}},[e._v("\n                                        "+e._s(t.item.buyCurrency)+"\n                      "+e._s(parseFloat(.01*t.item.expectedAmount).toFixed(2))+"\n                      ")]):e._e()],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.statusName))]),a("td",{staticClass:"text-xs-left"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"blue",icon:""},on:{click:function(a){return e.AuthApprove(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_up_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Approve")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"red",icon:""},on:{click:function(a){return e.AuthDecline(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_down_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Decline")])])],1)])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1),a("v-tab-item",[a("v-flex",{attrs:{xs12:"","ml-2":"","mr-5":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line7":"","hide-details":""},model:{value:e.search3,callback:function(t){e.search3=t},expression:"search3"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headersAuthBuysBookings,items:e.authBookingsBuy,"item-key":"id",pagination:e.pagination,width:"10","must-sort":"",search:e.search3},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(new Date(t.item.expireDateTime).toLocaleString("en-GB")))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(new Date(t.item.createdAt).toLocaleString("en-GB")))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.firstName)+" "+e._s(t.item.lastName))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.buyCurrency)+" "+e._s(parseFloat(t.item.buyerAmount).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[2==t.item.isForex?a("v-chip",{staticClass:"mb-2",attrs:{color:"red",label:"","text-color":"white"}},[e._v("\n                                        "+e._s(t.item.sellCurrency)+"\n                      "+e._s(parseFloat(t.item.buyerAmount/t.item.sellerRate*.01).toFixed(2))+"\n                      ")]):e._e(),1==t.item.isForex?a("v-chip",{staticClass:"mb-2",attrs:{color:"red",label:"","text-color":"white"}},[e._v("\n                                        "+e._s(t.item.buyCurrency)+"\n                      "+e._s(parseFloat(.01*t.item.buyerAmount).toFixed(2))+"\n                      ")]):e._e()],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.sellCurrency)+" "+e._s(parseFloat(t.item.buyerAmount/t.item.sellerRate).toFixed(2)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(parseFloat(t.item.sellerRate).toFixed(4)))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.statusName))]),a("td",{staticClass:"text-xs-left"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"blue",icon:""},on:{click:function(a){return e.AuthApproveBuy(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_up_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Approve")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"red",icon:""},on:{click:function(a){return e.AuthDeclineBuy(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_down_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Decline")])])],1)])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1),a("v-tab-item",[a("v-flex",{attrs:{xs12:"","ml-2":"","mr-5":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line7":"","hide-details":""},model:{value:e.search3,callback:function(t){e.search3=t},expression:"search3"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.withdrawalrequests,items:e.withdrawalRequests,"item-key":"id",pagination:e.pagination,width:"10","must-sort":"",search:e.search3},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.id))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(new Date(t.item.createdAt).toLocaleString("en-GB")))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.reference))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.description)+" ")]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.firstName)+" ")]),a("td",{staticClass:"text-xs-left"},[e._v(" "+e._s(t.item.lastName))]),a("td",{staticClass:"text-xs-left"},[e._v(" "+e._s(t.item.phoneNumber))]),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.iso_code)+" ")]),a("td",{staticClass:"text-xs-left"},[a("v-chip",{staticClass:"mb-2",attrs:{color:"red",label:"","text-color":"white"}},[e._v("\n                                        \n                      "+e._s(parseFloat(t.item.amount).toFixed(2))+"\n                      ")])],1),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),a("td",{staticClass:"text-xs-left"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"blue",icon:""},on:{click:function(a){return e.ApproveWithdraw(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_up_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Approve")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(r){var s=r.on;return[a("v-btn",{attrs:{small:"",color:"red",icon:""},on:{click:function(a){return e.DeclineWithdraw(t.item)}}},[a("v-icon",e._g({staticClass:"white--text",attrs:{medium:""}},s),[e._v("\n                                            thumb_down_alt\n                                            ")])],1)]}}],null,!0)},[a("span",[e._v("Decline")])])],1)])]}},{key:"expand",fn:function(t){return[a("v-card",{attrs:{flat:""}},[a("v-card-text",[e._v(e._s(t.item.tran_description))])],1)]}}])})],1),a("v-tab-item")],1)],1),a("v-dialog",{staticClass:"mx-auto",attrs:{"max-width":"350"},model:{value:e.dialogDecline,callback:function(t){e.dialogDecline=t},expression:"dialogDecline"}},[a("v-card",[a("v-card-title",{staticClass:"headline blue white--text",attrs:{"primary-title":"",dark:""}},[e._v("\n                Reason for decline\n                ")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pa-2":""}},[a("v-textarea",{attrs:{solo:"",outlined:"",label:"Reason"},model:{value:e.declineReason,callback:function(t){e.declineReason=t},expression:"declineReason"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green",dark:""},on:{click:e.saveDecline}},[e._v("\n                    Save\n                ")])],1)],1)],1),a("v-dialog",{staticClass:"mx-auto",attrs:{"max-width":"350"},model:{value:e.dialogMiniDeposit,callback:function(t){e.dialogMiniDeposit=t},expression:"dialogMiniDeposit"}},[a("v-card",[a("v-card-title",{staticClass:"headline blue white--text",attrs:{"primary-title":"",dark:""}},[e._v("\n               Minimum Deposit Form\n                ")]),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"","pa-2":""}},[a("v-text-field",{attrs:{outlined:"",dense:"",type:"number",label:"Enter Minimum Deposit"},model:{value:e.miniDeposit,callback:function(t){e.miniDeposit=t},expression:"miniDeposit"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green",dark:""},on:{click:e.saveMiniDeposit}},[e._v("\n                    Save\n                ")])],1)],1)],1)],1)},Xn=[],ei={data:function(){return{avatar:"",declineReason:"",tab:null,miniDeposit:"",dialogMiniDeposit:!1,dialogDecline:!1,dialogDeclineSell:!1,dialogDeclineBuy:!1,nodeAPI:"https://b.contitouch.co.zw",pagination:{sortBy:"id",descending:!0,rowsPerPage:15},items:["User Administration","Pending Verifications","Authorize Sell Bookings","Authorize Buy Bookings","Withdrawal Requests","Deposits"],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",search:"",search2:"",search3:"",headers:[{text:"Dessert (100g serving)",align:"start",sortable:!1,value:"name"},{text:"Calories",value:"calories"},{text:"Fat (g)",value:"fat"},{text:"Carbs (g)",value:"carbs"},{text:"Protein (g)",value:"protein"},{text:"Iron (%)",value:"iron"}],headersAuthBookings:[{text:"Booking ID",value:"id"},{text:"Expecting By",value:"expireDateTime"},{text:"First Name",value:"firstName"},{text:"Booked Currency",value:"sellCurrency"},{text:"Booked Amount",value:"amount"},{text:"Asking Rate",value:"rate"},{text:"Asking Value",value:"expectedAmount"},{text:"Charge"},{text:"Status",value:"statusName"},{text:"Action",sortable:!1}],headersAuthBuysBookings:[{text:"Booking ID",value:"id"},{text:"Sell Expecting By",value:"expireDateTime"},{text:"Buyer Date",value:"createdAt"},{text:"First Name",value:"firstName"},{text:"Buy Amount",value:"buyerAmount"},{text:"Charge"},{text:"Buy Value",value:"amount"},{text:"Seller Rate",value:"sellerRate"},{text:"Status",value:"statusName"},{text:"Action",sortable:!1}],usersHeaders:[{text:"User ID",align:"start",sortable:!1,value:"id"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Email",value:"emailAddress"},{text:"Phone Number",value:"phoneNumber"},{text:"National ID",value:"nationalId"},{text:"User Type",value:"usertype"},{text:"Status",value:"status"},{text:"Action",sortable:!1}],pendingVerifyHeaders:[{text:"User ID",align:"start",sortable:!1,value:"userId"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Status",value:"status"},{text:"Image Type",value:"imageType"},{text:"Upload Date",value:"createdAt"},{text:"Action",sortable:!1}],withdrawalrequests:[{text:"Request ID",align:"start",sortable:!1,value:"id"},{text:"Date",value:"createdAt"},{text:"Reference",value:"reference"},{text:"Description",value:"description"},{text:"First Name",value:"firstName"},{text:"Last Name",value:"lastName"},{text:"Cell Number",value:"phoneNumber"},{text:"Currency",value:"iso_code"},{text:"Withdrawal Amount",value:"amount"},{text:"Status",value:"status"},{text:"Action",sortable:!1}],desserts:[],userData:[],pendingVerifyData:[],declineItem:null,declineItemBuy:null,declineItemSell:null,authBookings:[],authBookingsBuy:[],withdrawalRequests:[],authData:null,newPin:"",firstNameSMS:"",lastNameSMS:""}},mounted:function(){var e=this;this.getAllUsers(),this.getAllPendingVerifications(),this.$socket.off("authBookings"),this.$socket.off("authBookingsBuy"),this.$socket.off("withdrawalRequests"),this.$socket.on("authBookings",(function(t){e.authBookings=t.data})),this.$socket.on("authBookingsBuy",(function(t){e.authBookingsBuy=t.data})),this.$socket.on("withdrawalRequests",(function(t){e.withdrawalRequests=t.data})),this.$socket.off("authBookingsConfirmed"+this.$session.get("user").userdetails.id),this.$socket.on("authBookingsConfirmed"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?1==t.authorized?(e.dialogMiniDeposit=!1,e.$swal.fire("Authorization Successful","You have successfully authorized this booking.","success")):e.$swal.fire("Decline Successful","You have successfully declined this booking.","success"):e.$swal.fire("Authorization Failed","Authorization failed due to some technical problem.","error")})),this.$socket.off("authBookingsBuyConfirmed"+this.$session.get("user").userdetails.id),this.$socket.on("authBookingsBuyConfirmed"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?1==t.authorized?e.$swal.fire("Authorization Successful","You have successfully authorized this booking.","success"):e.$swal.fire("Decline Successful","You have successfully declined this booking.","success"):e.$swal.fire("Authorization Failed","Authorization failed due to some technical problem.","error")})),this.$socket.off("DeActivateUser"+this.$session.get("user").userdetails.id),this.$socket.on("DeActivateUser"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?(e.$swal.fire("User De-Activation Successful","You have successfully De-Activated this user.","success"),e.getAllUsers()):e.$swal.fire("User De-Activation Failed","User De-Activation failed due to some technical problem.","error")})),this.$socket.off("ActivateUser"+this.$session.get("user").userdetails.id),this.$socket.on("ActivateUser"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?(e.$swal.fire("User Activation Successful","You have successfully Activated this user.","success"),e.getAllUsers()):e.$swal.fire("User Activation Failed","User Activation failed due to some technical problem.","error")})),this.$socket.off("ResetPin"+this.$session.get("user").userdetails.id),this.$socket.on("ResetPin"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?(e.$swal.fire("ResetPin Successful","You have successfully Reset Pin.","success"),e.getAllUsers(),e.sendPinSMS()):e.$swal.fire("ResetPin Failed","ResetPin failed due to some technical problem.","error")})),this.$socket.off("approveWithdrawal"+this.$session.get("user").userdetails.id),this.$socket.on("approveWithdrawal"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?e.$swal.fire("Approve Withdrawal","You have successfully Approve Withdrawal.","success"):e.$swal.fire("Approve Withdrawal","Approve Withdrawal failed due to some technical problem.","error")})),this.$socket.off("declineWithdrawal"+this.$session.get("user").userdetails.id),this.$socket.on("declineWithdrawal"+this.$session.get("user").userdetails.id,(function(t){"Success"==t.message?e.$swal.fire("Decline Withdrawal","You have successfully Declined Withdrawal.","success"):e.$swal.fire("Decline Withdrawal","Decline Withdrawal failed due to some technical problem.","error")})),this.getAuthorisations()},methods:{ApproveWithdraw:function(e){var t={id:e.id,walletId:e.walletId,decision:"Authorized by ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name),status:21,description:e.description,userId:this.$session.get("user").userdetails.id,fxuserId:e.userId,amount:e.amount,currencyId:e.currencyId};this.$socket.emit("approveWithdrawal",t)},DeclineWithdraw:function(e){var t={id:e.id,walletId:e.walletId,decision:"Declined By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name),status:22,description:e.description,userId:this.$session.get("user").userdetails.id,fxuserId:e.userId,amount:e.amount,currencyId:e.currencyId};this.$socket.emit("declineWithdrawal",t)},sendPinSMS:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="Good day ".concat(this.firstNameSMS," ").concat(this.lastNameSMS,"%0A%0AYour Pin was rest by ContiCash%0Ayour new pin is ").concat(this.newPin,"%0A%0AContiCash Booking System"),a=encodeURI(t),e.next=4,fetch("https://sms.contitouch.co.zw/api.json?cmd=send&username=booking&password=kKiXdhhf&senderid=Booking&gsm="+this.pinPhoneNumber+"&msg="+a,{method:"GET",mode:"no-cors"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status+" error: "+e.text)})).catch((function(e){console.log("Fetch Error :-S",e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),DeActivateUser:function(e){var t={id:e.id,userId:this.$session.get("user").userdetails.id};this.$socket.emit("DeActivateUser",t)},ActivateUser:function(e){var t={id:e.id,userId:this.$session.get("user").userdetails.id};this.$socket.emit("ActivateUser",t)},ResetPin:function(e){this.newPin=Math.floor(1e3+9e3*Math.random()),this.pinPhoneNumber=e.phoneNumber,this.firstNameSMS=e.firstName,this.lastNameSMS=e.lastName;var t={bookingId:e.id,newPin:this.newPin,createdBy:this.$session.get("user").userdetails.id,oldPin:"Rest By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name)};this.$socket.emit("ResetPin",t)},getAuthorisations:function(){this.$socket.emit("authBookings"),this.$socket.emit("authBookingsBuy")},saveMiniDeposit:function(){var e=0;if(12==this.authData.status&&(e=1),17==this.authData.status&&(e=6),""!=this.miniDeposit){var t={id:this.authData.id,isForex:this.authData.isForex,authorizedBy:"Authorized By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name),authorizedAt:Date.now(),status:e,authorized:1,userId:this.$session.get("user").userdetails.id,fxuserId:this.authData.userId,amount:this.authData.amount,currencyId:this.authData.sellCurrencyID,currency:this.authData.sellCurrency,minimumDeposit:this.miniDeposit};this.$socket.emit("authBookingsUpdate",t)}else this.$swal.fire({type:"error",title:"Minimum Deposit Failure",text:"Please enter a valid minimum deposit for this booking."})},AuthApprove:function(e){this.dialogMiniDeposit=!0,this.authData=e},AuthDecline:function(e){var t={id:e.id,isForex:e.isForex,authorizedBy:"Declined By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name),authorizedAt:Date.now(),authorized:2,status:16,userId:this.$session.get("user").userdetails.id,fxuserId:e.userId,amount:e.amount,currencyId:e.sellCurrencyID};this.$socket.emit("authBookingsUpdate",t)},AuthApproveBuy:function(e){var t=0;18==e.status&&(t=2),19==e.status&&(t=6);var a={id:e.id,bookingID:e.bookingID,isForex:e.isForex,authorizedBy:"Authorized by ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name),authorizedAt:Date.now(),authorized:1,status:t,newStatus:1,userId:this.$session.get("user").userdetails.id,sellerID:e.sellerID,buyerUserID:e.buyerUserId,buyerAmount:e.buyerAmount,buyerAmountBB:e.buyerAmount/e.sellerRate,sellerAmount:e.amount,sellCurrencyID:e.sellCurrencyID,buyCurrencyID:e.buyCurrencyID};this.$socket.emit("authBookingsUpdateBuy",a)},AuthDeclineBuy:function(e){var t=0;18==e.status&&(t=1),19==e.status&&(t=6);var a={id:e.id,bookingID:e.bookingID,isForex:e.isForex,authorizedBy:"Declined By ".concat(this.$session.get("user").userdetails.username," from  ").concat(this.$session.get("user").userdetails.branch_name),authorizedAt:Date.now(),authorized:2,status:16,newStatus:t,userId:this.$session.get("user").userdetails.id,sellerID:e.sellerID,buyerUserID:e.buyerUserId,buyerAmount:e.buyerAmount,sellerAmount:e.amount,sellCurrencyID:e.sellCurrencyID,buyCurrencyID:e.buyCurrencyID};this.$socket.emit("authBookingsUpdateBuy",a)},sendVerifyWhatsApp:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="Good day ".concat(t.firstName," ").concat(t.lastName,"%0A%0AYour ").concat(t.imageType,"%0Ahas just been verified.%0A%0AContiCash Booking System"),r=encodeURI(a),e.next=4,fetch("https://sms.contitouch.co.zw/api.json?cmd=sendwapp&username=booking&password=kKiXdhhf&senderid=Booking&gsm="+t.phoneNumber+"&msg="+r,{method:"GET",mode:"no-cors"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status+" error: "+e.text)})).catch((function(e){console.log("Fetch Error :-S",e)}));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),sendDeclineWhatsApp:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="Good day ".concat(this.declineItem.firstName," ").concat(this.declineItem.lastName,"%0A%0AYour ").concat(this.declineItem.imageType,"%0Ahas been declined.%0A%0AReason%0A%0A").concat(this.declineReason),a=encodeURI(t),e.next=4,fetch("https://sms.contitouch.co.zw/api.json?cmd=sendwapp&username=booking&password=kKiXdhhf&senderid=Booking&gsm="+this.declineItem.phoneNumber+"&msg="+a,{method:"GET",mode:"no-cors"}).then((function(e){200===e.status?e.json().then((function(e){console.log(e)})):console.log("Looks like there was a problem. Status Code: "+e.status+" error: "+e.text)})).catch((function(e){console.log("Fetch Error :-S",e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),verified:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(t){var a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=this.$jwt.sign({status:11,userId:t.userId,updatedBy:" ".concat(this.$session.get("user").userdetails.first_name," ").concat(this.teller_last_name=this.$session.get("user").userdetails.last_name," from ").concat(this.teller_branch=this.$session.get("user").userdetails.branch_name)},"fxbooking@@11",{expiresIn:15}),r={payload:a},e.next=4,A.a.put(this.nodeAPI+"/verify/"+t.id,r).subscribe((function(e){if("success"==e.data.message){s.getAllPendingVerifications(),s.sendVerifyWhatsApp(t),s.avatar="";var a=s.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});a.fire({icon:"success",title:"Image Verified successfully"})}else s.overlay=!1,s.$swal.fire({type:"error",title:"Image Verification Failure",text:"Failed to verify image, please try again."})}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),decline:function(e){this.dialogDecline=!0,this.declineItem=e},declineBuy:function(e){this.dialogDeclineBuy=!0,this.declineItem=e},declineSell:function(e){this.dialogDeclineSell=!0,this.declineItem=e},saveDecline:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$jwt.sign({status:9,userId:this.declineItem.userId,updatedBy:" ".concat(this.$session.get("user").userdetails.first_name," ").concat(this.teller_last_name=this.$session.get("user").userdetails.last_name," from ").concat(this.teller_branch=this.$session.get("user").userdetails.branch_name)},"fxbooking@@11",{expiresIn:15}),a={payload:t},e.next=4,A.a.put(this.nodeAPI+"/verifyDecline/"+this.declineItem.id,a).subscribe((function(e){if("success"==e.data.message){r.getAllPendingVerifications(),r.avatar="",r.sendDeclineWhatsApp(),r.dialogDecline=!1,r.declineReason="";var t=r.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});t.fire({icon:"success",title:"Image Declined successfully"})}else r.overlay=!1,r.$swal.fire({type:"error",title:"Image Verification Failure",text:"Failed to verify image, please try again."})}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveDeclineSell:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$jwt.sign({status:9,userId:this.declineItem.userId,updatedBy:" ".concat(this.$session.get("user").userdetails.first_name," ").concat(this.teller_last_name=this.$session.get("user").userdetails.last_name," from ").concat(this.teller_branch=this.$session.get("user").userdetails.branch_name)},"fxbooking@@11",{expiresIn:15}),a={payload:t},e.next=4,A.a.put(this.nodeAPI+"/verifyDecline/"+this.declineItem.id,a).subscribe((function(e){if("success"==e.data.message){r.getAllPendingVerifications(),r.avatar="",r.sendDeclineWhatsApp(),r.dialogDeclineSell=!1,r.declineReasonSell="";var t=r.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});t.fire({icon:"success",title:"Image Declined successfully"})}else r.overlay=!1,r.$swal.fire({type:"error",title:"Image Verification Failure",text:"Failed to verify image, please try again."})}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),saveDeclineBuy:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$jwt.sign({status:9,userId:this.declineItem.userId,updatedBy:" ".concat(this.$session.get("user").userdetails.first_name," ").concat(this.teller_last_name=this.$session.get("user").userdetails.last_name," from ").concat(this.teller_branch=this.$session.get("user").userdetails.branch_name)},"fxbooking@@11",{expiresIn:15}),a={payload:t},e.next=4,A.a.put(this.nodeAPI+"/verifyDecline/"+this.declineItem.id,a).subscribe((function(e){if("success"==e.data.message){r.getAllPendingVerifications(),r.avatar="",r.sendDeclineWhatsApp(),r.dialogDeclineBuy=!1,r.declineReasonBuy="";var t=r.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});t.fire({icon:"success",title:"Image Declined successfully"})}else r.overlay=!1,r.$swal.fire({type:"error",title:"Image Verification Failure",text:"Failed to verify image, please try again."})}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clickTable:function(e){this.avatar=e.image},getAllUsers:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$jwt.sign({userId:1},"fxbooking@@11",{expiresIn:15}),a={payload:t},e.next=4,A.a.post(this.nodeAPI+"/getAllUser",a).subscribe((function(e){if(e.data){var t=r.$jwt.decode(e.data.token,{complete:!0});r.userData=t.payload.rows}else console.log("failed to load data")}),(function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllPendingVerifications:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$jwt.sign({userId:1},"fxbooking@@11",{expiresIn:15}),a={payload:t},e.next=4,A.a.post(this.nodeAPI+"/getAllPendingVerification",a).subscribe((function(e){if(e.data){var t=r.$jwt.decode(e.data.token,{complete:!0});r.pendingVerifyData=t.payload.rows}else console.log("failed to load data")}),(function(e){r.overlay=!1,console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},ti=ei,ai=(a("a111"),a("aac8")),ri=Object(d["a"])(ti,Qn,Xn,!1,null,"0f569061",null),si=ri.exports;h()(ri,{VBtn:U["a"],VCard:j["a"],VCardActions:P["a"],VCardText:P["b"],VCardTitle:O["a"],VChip:Ye["a"],VDataTable:E["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VIcon:L["a"],VLayout:W["a"],VSpacer:Q["a"],VTab:se["a"],VTabItem:ne["a"],VTabs:ie["a"],VTabsItems:ai["a"],VTextField:oe["a"],VTextarea:le["a"],VToolbar:ce["a"],VToolbarTitle:de["b"],VTooltip:ue["a"]});var ni={name:"App",components:{ToolBar:pe,Footer:ye,NavBar:Ae,RightActionBar:je,BookingChart:ze,"dashboard-page":qe,"overall-page":Un,"overall_utility-page":En,"overall_world-page":Gn,"approval-page":Dn,"dashboardbranch-page":qe,"booking_admin-page":si,"contisend-page":Jn,"exchange-page":rn,"market-page":Va,"reports-page":et,"profile-page":Sa,"dash-super":nr,"dash-manager":Ws,"dash-teller":Js,"support-page":wa,"rates-page":dn,"floatmove-page":gn},data:function(){return{page:"",CurrencyPairData:""}},mounted:function(){if(this.$session.exists()){var e=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3});e.fire({type:"success",title:"Signed in successfully"})}else this.$router.push({name:"login"})},watch:{CurrencyPairData:function(e){console.log(e)}},methods:{getData:function(e){console.log(e)},selectedCurrencyPair:function(e){this.CurrencyPairData=e},selectedMenu:function(e){"Exit"!=e?(this.page="",this.page=e):console.log(e)}}},ii=ni,oi=(a("cccb"),a("549c")),li=Object(d["a"])(ii,v,_,!1,null,null,null),ci=li.exports;h()(li,{VApp:p["a"],VContent:oi["a"],VFlex:M["a"],VLayout:W["a"]});var di=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{staticStyle:{"margin-bottom":"100px"},attrs:{xs12:"",sm8:"",md4:""}},[r("img",{staticClass:"img1 bounceIn",attrs:{src:a("5078"),alt:"logo"}}),r("div",{staticStyle:{"text-align":"center"}},[r("h2",[e._v("Sahwira Money Transfer Agency")]),r("h4",[e._v("REGISTERED BUREAU DE CHANGE")])]),r("br"),r("v-card",{staticClass:"elevation-12 bounceIn"},[r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{"prepend-inner-icon":"person",name:"login",label:"Email",type:"text",autocomplete:"off"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.user_email,callback:function(t){e.user_email=t},expression:"user_email"}}),r("v-text-field",{attrs:{"prepend-inner-icon":"lock",name:"password",label:"Password",id:"password",type:"password",autocomplete:"off"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.user_password,callback:function(t){e.user_password=t},expression:"user_password"}})],1)],1),r("v-card-actions",[r("v-spacer"),e.active?r("v-btn",{attrs:{color:"#ECB530",loading:e.loading,disabled:e.loading},on:{click:e.login}},[e._v("\n              Sign-In\n            ")]):e._e(),e.active?e._e():r("v-btn",{attrs:{color:"#ECB530",loading:e.loading,disabled:e.active}},[e._v("\n              Licence exired\n            ")])],1)],1),r("br")],1)],1)],1),r("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogUser,callback:function(t){e.dialogUser=t},expression:"dialogUser"}},[r("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[r("v-stepper-header",[r("v-stepper-step",{attrs:{editable:"",complete:e.e1>1,step:"1"}},[e._v("Personal Information")]),r("v-divider"),r("v-stepper-step",{attrs:{editable:"",step:"2"}},[e._v("System User Configuration")])],1),r("v-stepper-items",[r("v-stepper-content",{attrs:{step:"1"}},[r("v-layout",{attrs:{wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"First Name"},model:{value:e.editedUser.first_name,callback:function(t){e.$set(e.editedUser,"first_name",t)},expression:"editedUser.first_name"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Last Name"},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-text-field",{attrs:{label:"Email Address"},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("vue-tel-input",{staticStyle:{"margin-top":"15px"},style:{color:e.isActive?"red":"blue"},on:{input:e.getTelePhone},model:{value:e.editedUser.phone_number,callback:function(t){e.$set(e.editedUser,"phone_number",t)},expression:"editedUser.phone_number"}})],1)],1),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e1=2}}},[e._v(" Continue ")])],1),r("v-stepper-content",{attrs:{step:"2"}},[r("v-layout",{attrs:{wrap:"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[r("v-select",{attrs:{label:"User Type","item-text":"name","item-value":"id",items:e.usertypeData},model:{value:e.user_type,callback:function(t){e.user_type=t},expression:"user_type"}})],1),r("v-flex",{attrs:{xs12:"",sm:"",md12:""}},[r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.editCheck,expression:"editCheck"}],attrs:{label:"Company Name"},model:{value:e.company,callback:function(t){e.company=t},expression:"company"}})],1)],1),r("v-btn",{attrs:{color:"primary"},on:{click:e.saveNewUser}},[e._v(" Save ")]),r("v-btn",{attrs:{text:""},on:{click:function(t){e.e1=1}}},[e._v("back")])],1)],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialogloader,callback:function(t){e.dialogloader=t},expression:"dialogloader"}},[r("v-card",{attrs:{color:"#ECB530",dark:""}},[r("v-card-text",[e._v("\n        Please stand by\n        "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),r("v-dialog",{attrs:{"max-width":"400px"},model:{value:e.dialogPassword,callback:function(t){e.dialogPassword=t},expression:"dialogPassword"}},[r("v-card",[r("v-card-title",{staticClass:"yellow darken-2 white--text"},[r("span",{staticClass:"headline"},[e._v("Security Change Form")]),r("v-spacer")],1),r("v-tabs",{attrs:{color:"yellow darken-4","slider-color":"white"}},[r("v-tab",{staticClass:"white--text"},[e._v(" Password Change ")]),r("v-tab-item",[r("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Old Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.passwordold,callback:function(t){e.passwordold=t},expression:"passwordold"}})],1),r("v-flex",{attrs:{xs12:""}},[r("password",{attrs:{toggle:!0},on:{score:e.showScore,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1),r("v-flex",{attrs:{xs12:""}},[r("password",{attrs:{toggle:!0},on:{score:e.showScore,keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.confirm,callback:function(t){e.confirm=t},expression:"confirm"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogPassword=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.AddPassword}},[e._v("Save")])],1),r("v-tab",{staticClass:"white--text"},[e._v(" Pin Change ")]),r("v-tab-item",[r("v-layout",{attrs:{row:"",wrap:"","ma-3":""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Old Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pinold,callback:function(t){e.pinold=t},expression:"pinold"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pin,callback:function(t){e.pin=t},expression:"pin"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{placeholder:"Enter Security Pin",type:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updatePin(t)}},model:{value:e.pinconfirm,callback:function(t){e.pinconfirm=t},expression:"pinconfirm"}})],1)],1),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:"red"},on:{click:function(t){e.dialogPassword=!1}}},[e._v("Close")]),r("v-btn",{staticClass:"white--text",attrs:{color:"green"},on:{click:e.updatePin}},[e._v("Save")])],1)],1)],1)],1)],1)},ui=[],hi={components:{Password:S.a},data:function(){return{nodeApi:"http://localhost:8081",e1:0,pinold:"",passwordold:"",newPassword:"",confirm:"",pinconfirm:"",pin:"",dialogPassword:!1,dialogloader:!1,user_email:"",user_password:"",editCheck:0,loader:null,loading:!1,dialogUser:!1,isActive:!0,isValidPhone:!1,usertypeData:[{id:0,name:"Personal User"},{id:1,name:"Company User"}],active:!1,leftDays:0,user_type:0,passwordScore:0,editedUser:{first_name:"",last_name:"",email:"",phone_number:"",status:1,company_id:6,user_type:0,country:"",country_code:""},company:"",ClearUser:{first_name:"",last_name:"",email:"",phone_number:"",status:1,company_id:0,user_type:0,country:"",country_code:""}}},mounted:function(){this.check(),console.log(this.$route.params.id)},watch:{user_type:function(e){1==e?(this.editCheck=1,this.editedUser.user_type=e):(this.editCheck=0,this.editedUser.user_type=e)}},methods:{check:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A.a.get(this.nodeApi+"/getAdmin").subscribe((function(e){e.data.data.one.recordset[0].leftDays>0?(t.active=!0,t.leftDays=e.data.data.one.recordset[0].leftDays):t.active=!1}),(function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updatePin:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.pin==this.pinconfirm){e.next=4;break}this.$swal.fire({type:"error",title:"Pin Update Failed",text:"Your two passwords do not match"}),e.next=12;break;case 4:if(this.pinold){e.next=8;break}this.$swal.fire({type:"error",title:"Pin Update Failed",text:"Please enter old pin"}),e.next=12;break;case 8:return t={id:this.$session.get("user").userdetails.id,pin:this.pinold},a={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},e.next=12,A.a.post(this.nodeApi+"/checkPin",t,{headers:a}).subscribe((function(e){0!=e.data.data.one.recordset.length?(r.dialogcheckPin=!1,A.a.put(r.nodeApi+"/updateUsersByCol",{col:"pin",value:r.pin,wcol:"email",wvalue:r.$session.get("user").userdetails.email},{headers:a}).subscribe((function(e){e.data.data.one?(r.dialogAddBranch=!1,r.pin="",r.pinconfirm="",r.pinold="",r.$swal.fire({type:"success",title:"Pin Update",text:"User pin was updated successfully"})):r.$swal.fire({type:"error",title:"Pin Update Failed",text:e.data.message})}),(function(e){r.$swal.fire("Pin Update Failed",e,"error")}))):(r.dialogloader=!1,r.$swal.fire({type:"error",title:"Pin Update Failed",text:"Wrong old pin please try again"}))}),(function(e){return console.log(e)}));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showScore:function(e){this.score=e},AddPassword:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.score<3)){e.next=4;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Please enter a stronger password"}),e.next=16;break;case 4:if(this.newPassword==this.confirm){e.next=8;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Your two passwords do not match"}),e.next=16;break;case 8:if(this.passwordold){e.next=12;break}this.$swal.fire({type:"error",title:"Password Update Failed",text:"Please enter old password"}),e.next=16;break;case 12:return t={"Content-Type":"application/json",Authorization:"Bearer "+this.$session.get("user").token},a={email:this.$session.get("user").userdetails.email,password:this.passwordold},e.next=16,A.a.post(this.nodeApi+"/checkloginUser",a).subscribe((function(e){"Success"==e.data.message?A.a.post(r.nodeApi+"/updateUserPassword",{email:r.$session.get("user").userdetails.email,password:r.newPassword},{headers:t}).subscribe((function(e){e.data.message.one?(r.dialogAddBranch=!1,r.newPassword="",r.confirm="",r.passwordold="",r.$swal.fire({type:"success",title:"Password Update",text:"User Password was updated successfully"}),r.dialogPassword=!1):r.$swal.fire({type:"error",title:"Password Update Failed",text:e.data.message})}),(function(e){r.$swal.fire("Password Update Failed",e,"error")})):r.$swal.fire({type:"error",title:"Password Update Failed",text:e.data.message})}),(function(e){r.$swal.fire({type:"Old Password Check",title:"Old password check try again",text:e})}));case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),showScorePass:function(e){this.passwordScore=e},saveNewUser:function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,n,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.editedUser.first_name&&this.editedUser.last_name){e.next=4;break}this.$swal.fire("Name Error","Please enter Firt Name and Last Name.","error"),e.next=35;break;case 4:if(this.editedUser.email){e.next=8;break}this.$swal.fire("Email Error","Please enter an email.","error"),e.next=35;break;case 8:if(this.editedUser.phone_number){e.next=12;break}this.$swal.fire("Phone Error","Please enter a cell number.","error"),e.next=35;break;case 12:if(this.validateEmail(this.editedUser.email)){e.next=16;break}this.$swal.fire("Email Error","Please enter a valid email address.","error"),e.next=35;break;case 16:if(this.isValidPhone){e.next=20;break}this.$swal.fire("Phone Error","Please enter a valid phone number.","error"),e.next=35;break;case 20:if(0!=this.editedUser.user_type){e.next=29;break}return{name:"ContiCash"},t={password:""},a={email:this.editedUser.email},this.dialogloader=!0,e.next=27,A.a.post(this.nodeApi+"/conticash/addUser",this.editedUser).subscribe((function(e){e.data.affectedRows>0?(i.closeUser(),A.a.post(i.nodeApi+"/conticash/sendEmail",i.editedUser).subscribe((function(e){t.password=e.data,A.a.put(i.nodeApi+"/conticash/updateUsersPassword",{temp_pass:t,user_data:a}).subscribe((function(e){i.dialogloader=!1,i.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})}),(function(e){i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e})}))}),(function(e){i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e})}))):0==e.data.affectedRows?(i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:"Record was not added"})):(i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e.data.sqlMessage}))}),(function(e){i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e})}));case 27:e.next=35;break;case 29:return r={name:this.company},s={password:""},n={email:this.editedUser.email},this.dialogloader=!0,e.next=35,A.a.post(this.nodeApi+"/conticash/addCompanyUser",{company:r,userdetails:this.editedUser}).subscribe((function(e){e.data.affectedRows>0?(i.closeUser(),A.a.post(i.nodeApi+"/conticash/sendEmail",i.editedUser).subscribe((function(e){s.password=e.data,A.a.put(i.nodeApi+"/conticash/updateUsersPassword",{temp_pass:s,user_data:n}).subscribe((function(e){i.dialogloader=!1,i.$swal.fire({type:"success",title:"User Added",text:"User was added successfully"})}),(function(e){i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e})}))}),(function(e){i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e})}))):0==e.data.affectedRows?(i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:"Record was not added"})):(i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e.data.sqlMessage}))}),(function(e){i.closeUser(),i.$swal.fire({type:"error",title:"User Adding Failed",text:e})}));case 35:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),closeUser:function(){this.dialogUser=!1,this.editedUser=this.ClearUser,this.company="",this.dialogloader=!1},validateEmail:function(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())},login:function(){var e=this;this.loader="loading",this.dialogloader=!0;var t={email:this.user_email,password:this.user_password};A.a.post(this.nodeApi+"/loginUser",t).subscribe((function(t){t.data.token?"123456789"==e.user_password?(e.$session.start(),e.$session.set("user",t.data),e.$swal.fire({title:"Login Error",text:"Your password is still the default system password and is a security risk to your account. Please click Yes to change your password with a new one.",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes!"}).then((function(t){t.value&&(e.dialogPassword=!0,e.dialogloader=!1)}))):1==t.data.userdetails.user_type||t.data.userdetails.user_type>=4?(e.closeUser(),e.$swal.fire({type:"success",title:"Login Success",text:"User logged in successfully",showConfirmButton:!1,timer:1500}),e.$session.start(),e.$session.set("user",t.data),e.$router.push("/home")):t.data.userdetails.branch_id<1?(e.closeUser(),e.$swal.fire({type:"error",title:"Login Failure",text:"Sorry your user has not been allocated a branch"})):(e.closeUser(),e.$swal.fire({type:"success",title:"Login Success",text:"User logged in successfully"}),e.$session.start(),e.$session.set("user",t.data),e.$router.push("/home")):(e.closeUser(),e.$swal.fire({type:"error",title:"Login Failure",text:t.data.message}))}),(function(t){e.closeUser(),e.$swal.fire({type:"Login Failure",title:"Login has failed please try again",text:t})}))},signup:function(){this.dialogUser=!0},getTelePhone:function(e,t){t.isValid&&(this.isActive=!1,this.isValidPhone=t.isValid,this.editedUser.country=t.country.name,this.editedUser.country_code=t.country.iso2),t.isValid||(this.isActive=!0)}}},pi=hi,mi=(a("61a0"),a("a523")),fi=a("4bd4"),gi=Object(d["a"])(pi,di,ui,!1,null,"f1ec2ea0",null),vi=gi.exports;h()(gi,{VBtn:U["a"],VCard:j["a"],VCardActions:P["a"],VCardText:P["b"],VCardTitle:O["a"],VContainer:mi["a"],VDialog:V["a"],VDivider:z["a"],VFlex:M["a"],VForm:fi["a"],VLayout:W["a"],VProgressLinear:K["a"],VSelect:J["a"],VSpacer:Q["a"],VStepper:X["a"],VStepperContent:ee["a"],VStepperHeader:te["a"],VStepperItems:te["b"],VStepperStep:ae["a"],VTab:se["a"],VTabItem:ne["a"],VTabs:ie["a"],VTextField:oe["a"]});var _i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},bi=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Broad")])])}],yi={},xi=yi,wi=Object(d["a"])(xi,_i,bi,!1,null,"19017618",null),Ci=wi.exports;r["default"].use(g["a"]);var ki=new g["a"]({routes:[{path:"/home",name:"home",component:ci},{path:"/:id?",name:"login",component:vi},,{path:"/board",name:"board",component:Ci},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),Ti=a("0628"),Ai=a.n(Ti),Di=(a("ffc1"),a("d225")),Si=a("b0b4"),Bi=function(){function e(t,a,r,s){Object(Di["a"])(this,e),this.items=t,this.filter=r,this.headers=s,this.filters=a,this.filterCallbacks={}}return Object(Si["a"])(e,[{key:"registerFilter",value:function(e,t){this.filterCallbacks[e]=t}},{key:"runFilters",value:function(){var e=this,t=e.items;return Object.entries(this.filterCallbacks).forEach((function(a){var r=Object(Be["a"])(a,2),s=r[0],n=r[1];t=n.call(e,e.filters[s],t)})),t}}],[{key:"updateFilters",value:function(e,t){return Object.assign({},e,t)}}]),e}(),Fi={install:function(e,t){e.prototype.$MultiFilters=Bi}},Ri=Fi,$i=a("bf15"),Ui=(a("bf68"),a("fb67")),ji=a.n(Ui),Pi=a("bc3a"),Oi=a.n(Pi),Ni=a("a7fe"),Ii=a.n(Ni),Ei=(a("d1e7"),a("7cb2"),a("b676")),Vi=a.n(Ei),zi=(a("05f3"),a("5886")),Mi=(a("4413"),a("2831")),Li=a("14b7"),Wi=a.n(Li),Gi=a("ce5b"),Yi=a.n(Gi),Hi={name:"_blank",specs:["fullscreen=yes","titlebar=yes","scrollbars=yes"],styles:["https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css","https://unpkg.com/kidlat-css/css/kidlat.css"]};Object.defineProperty(r["default"].prototype,"$jwt",{value:Wi.a}),r["default"].use(Mi["a"]),r["default"].use(zi["a"]),r["default"].use(Vi.a,Hi),r["default"].use(Ii.a,Oi.a),r["default"].component("vue-tel-input",ji.a),r["default"].use(Ai.a),r["default"].use(Yi.a,{iconfont:"md"}),r["default"].use(Ri),r["default"].use($i["a"]),r["default"].component("v-chart",Ne["a"]),r["default"].use(a("2ead")),r["default"].config.productionTip=!1,new r["default"]({router:ki,render:function(e){return e(f)}}).$mount("#app")},"56f5":function(e,t,a){"use strict";a("200b")},5766:function(e,t,a){},"57f3":function(e,t,a){"use strict";a("2018")},"592d":function(e,t,a){"use strict";a("d85f")},"5e00":function(e,t,a){"use strict";a("4571")},6:function(e,t){},"61a0":function(e,t,a){"use strict";a("246c")},"627a":function(e,t,a){},"63b2":function(e,t,a){"use strict";a("d6e3")},6688:function(e,t,a){e.exports=a.p+"img/tellertobranch.fw.d9b7cdda.png"},"67c2":function(e,t,a){},"6a3d":function(e,t,a){},"6d04":function(e,t,a){},"6d7f":function(e,t,a){},"6fc3":function(e,t,a){e.exports=a.p+"img/avator3.95b7c927.png"},7848:function(e,t,a){},"82f9":function(e,t,a){},8561:function(e,t,a){},"85c2":function(e,t,a){},8775:function(e,t,a){e.exports=a.p+"img/tellertoteller.fw.5fb49d26.png"},"8b1d":function(e,t,a){"use strict";a("f055")},9282:function(e,t,a){"use strict";a("2be6")},"92db":function(e,t,a){"use strict";a("6d04")},9859:function(e,t,a){"use strict";a("5766")},a111:function(e,t,a){"use strict";a("2d00e")},a5f4:function(e,t,a){e.exports=a.p+"img/branchtoteller.fw.61ae9b8b.png"},a6af:function(e,t,a){},a7a0:function(e,t,a){},acee:function(e,t,a){"use strict";a("6a3d")},ad79:function(e,t,a){},b186:function(e,t,a){},b4d0:function(e,t,a){"use strict";a("c54a")},b532:function(e,t,a){e.exports=a.p+"img/avator4.72ce0bc0.png"},ba68:function(e,t,a){"use strict";a("a7a0")},bdad:function(e,t,a){},c427:function(e,t,a){"use strict";a("329b")},c4b5:function(e,t,a){},c54a:function(e,t,a){},c841:function(e,t,a){},c8c1:function(e,t,a){},cccb:function(e,t,a){"use strict";a("4e69")},cfa3:function(e,t,a){"use strict";a("f55e")},d4e2:function(e,t,a){e.exports=a.p+"img/branchtobranch.fw.a35888ab.png"},d6e3:function(e,t,a){},d85f:function(e,t,a){},db7e:function(e,t,a){e.exports=a.p+"img/logo.fw.c0be96e3.png"},dc29:function(e,t,a){},dd41:function(e,t,a){e.exports=a.p+"img/main_logo2.a5cb2e5b.png"},debe:function(e,t,a){"use strict";a("dc29")},e24e:function(e,t,a){"use strict";a("bdad")},e530:function(e,t,a){},e649:function(e,t,a){"use strict";a("82f9")},e847:function(e,t,a){},eaea2:function(e,t,a){"use strict";a("1f21")},ee6c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABmJLR0QA/wD/AP+gvaeTAAAL7klEQVR4nO2ce3BU1R3Hv+eeu+/N5v0CQhIIIQFDjPIsMoIiVAdsq0VARRhFRSM+RlpBtEZLRXSUPkQr6hSwYgc76IhSX6glgAOI2PCGQOS5SUgIIdlNdu959A+alMAmuXcfSYj5zOSPvff3O+e73z3nnnPPPTdADz10JiTYxFefHjfYQsyFCsgkJkQyAKiKUiEJ1jG/tmzO4g17wyczfIRbt2ED1xRNMdei7jUFmDYoO82alpJAnU4bAKC+vgHH3dV8b+mxRsnJal5eWXj/8h2a0ToiQaR0GzJwTdEU8zlR901Kckz+NcMG2U0qDRinMY5N2/Z53JU1JaL89LWdbWIkdStGhNSi7rXU5Ngh40Ze0aoIADCpFONGDXakJsUOUVMTXzVSRySIpG7dBr769LjBCjBt9LBcB4iOhksIrhme6wDBHcueGp+rt55wE2ndug20EHPhoOw0a1u/4MWYVIrcAWlWFWqh7qQwE2nd+rswIZPTUhP0q/gffVMTKKVystG8sBFh3boN5EwkOh02ozrgdNrAuEw2nBgmIq3bQAs0rOGCVCmDzw6RCOvWbaCqKJX1ngbDIurqG6BQpdJwYpiItG4jLXDd8VPV3KiQ46equBD4yGhe2Iiwbt0GMr+2bG/psUaN6dfCNIZ9pccbweQy3UlhJtK6dRs4Z/GGvZKT1Zu27fPouqRJieJt+z1CynfuX/z5fr31hJtI6zZ0J8LLKwvdlTUlX3+7x9PWL8o0hq+37PG4q878R7irHjZSRySIpG5D86OPd7jFpIHRqzwK0vaXnsjhQlKzShXVpEIIidpaDw6WufnGbXsa6rwN7wh31dTOvg+OtO6gB/m/Lrh+EKGmBymVkxk7P19SVVLBBT5ikr9WuOjLfcGWHUkuV9099BAYQ1141pu/HakoygxClZuEEIlcCEegOFWh9ZTSCi74es7kypX3vrAjPHKN86sFn2RzhUwwUXqThMwTQkZLKRxSBh5ACYGgCq0kRNnp19hyq6V+/ftFt/lbK1+XgXe+NT/LYlL+TqHkZffpa+2VGK9E2eywmMwB432aH3VeL9zV1eLAiaM+Kcn3Hq3hjtWzXz6q61uHjCQ3L/zk1yaqLmCc57tc0Sw6OtocFeWA2WwGVVVQRYGi/N9DShUQokBKicZGH+rr6uCuKK+rr/N6iRT3rV10Y8BJdbsGznrrickKVd7L759lHZjWlyrE0MwHQgrsP3ZMlJSVNkghbv3b3Us+M1SAQW6ev75ANSsrCEhu7z69TcnJSTCbA//Qejh37hwOHDhUrzHt7Q+em/gYQFpMJts0cObbv5lAqfrh9VcOtSXGxAQtAgAqz57FVzu/a+RcTFw5e8nGkAoLwNiir9VY3vh7ITGvd69U2rdvGqHU8CpWQBjn2LNrj8fj8az4YNGND114rlUDZ7w+L0m1mg6Nzb/SlRqXEBYhJ6tOY/OekhqlkWcuv39JbVgKBTBnwYujz5r6fyTVGGdOzkCzM8oZrqKbYZzj+x0765nWOPODRZPWNh1vtT+qFnVxRnKyNVzmAUDvhESkJSS7YKN/CFeZcxb+6c0KJXdTTGJ63FVXF0TEPABQKUVOTrYTRF12333fmZqOBzRw+huPJwDyjrzMrOAvHq1wRWY/yri8e8qax4yvcl7A3fOX9pv1u3fcVWr27JzBV6B/VlaLQSESuFwuOBwOe0Vi5S1NxwLWaFaUG1wOp89pC+k7BiTKbkeUzUGstZZRwZbx4JMvPlJn6neIRGWmFFx1NeJiY8MpsU2Sk5NcVKHTmj6rgYIIVa5NjYu3R0pEr4R4a0OjbyKAr4zkzZ1b5GqMTdvoFqn5/fr1R0pKxz8piI52QRKMaPoc0EBFoQWxTlfAc2ER4XCCmpShRnIeXvjsL6qUQe8Ta7ypICcXtgj0Dj2YzRYIzuOaPgc0SQqZ5XJErAEi2u4E5zxbT+yUKWtoUs6pD4+LrEm9UtOQnt4XRAnhQUeIUKpASmlp+nzJNXDGqnkOLnisyxHwLi0sRDvt8GlaSlFRUZtX/bkLF4205fhrq0y5k4bk5yMjM12XeUIIHD16PGx62+KSFkj8arZZpQ0mqkasCapUhVlV+eHe9ekAygLFFD718p9PyoEPJSYlk0GZ/UGpvhH2zJkzKC093ODz+W3p6WnhlB2QS7uw5Nkuhyvii6DRDof0MZaDiwx844nx0dstt5WUo0/fgQNzERenb4Rt9Plw+OBBf21d/RnGxL2EYF2oGouLN2PMmNFtxjQbOP+lt87f4509//fVjwEbRthQkWTthaT1RX9Zhem/vAlWqxnVJ/di17+WIt9Zi63nMhATE91uOVJIuN0ncfLESYy9qrd5wvC8FBNV1s1dWhxR/U20aIEPzLqtQyoNxNnyQ9i57gVcPyoHiXF+VG2pwbGyw8joP6DVnNraWhwpPYA+iU7Mn1GAeJe1AxWfJ2JTFaMc3vY+RuRnIjEuCgBQOLQM875woLo6HvHxcS1i/X4/jh7ej4aGBtw5YSAGZ8YFKrJDiOy9j06klKj88Qek94pvPuYwczwyohRlpQfg9/mb406dOI4fvt+OIRlReOaeEZ1qHtCFWiAACCmhXLBAlJPgwcR+5dh0aC96pWXiyMG9SIkGnrxrOOJcljZK6ji6hIGEECT0zcPBsgoMykptcW5i+hFsPmLGkX01mDouC1cOTu8klYHpEgYCQO6YWdj6z6cgpcCA9GRISJQercCu/Sdw69UDkD10LIxskuwouoyBzvg0jJy6BAeLV6Dk0+0AIYjrnYvhU5+HK75rtboL6TIGAoAjJgUFk+d3tgxDtDDw9RVrOksHkhJicd01IxAb4+o0DcHQZSbSlytdYh54OdNtDVSpAiFExOvptgZazCoYYxGvp0uNwuHEalbBueGt0c005RYXbwZVABMlCLS/tfsaaKEhtUBN02ChGpZMOHTBUQKvX8HHG75r3n3ebQ20WVQwAxvLL0bTGCyEy0SbjygXPEYQNolo5XTzL9Ntr4F2iymkFsgYg6po/srqljtQKqrOwqzS0qbP3dZAh5WC8eAN5JzBD+uBjVv3eNyVNdAYh7viDDZu2+Px+/FoU1yHdOGyXVuxYeUrqKs5HfB8VGwixs98HBl5w8NWp8OmotwTWhf2w37Q5+dP/Hvr7j9qmsgwqUqZ349HH3j+0+Yteh1i4IaVr2BS4XNIyRwY8Lz7yD588vqzmP3SP8JWp91MIUIYhTWNQUCenrPos08B5LQWF9YuvPSe67D0nusuOV5Xc7pV8wAgtV8u6s5c+lpaa+XpwWZVIUQIXZgxSI2XtxcXdAsUzI+yz99F5e7N8HnqAQAFfZIAAN88M61FbEGfpEuOXUygmIvLsziikJw3Ghk33A5FbXvjmM1CIUK4BjLGBIds92XDoA0s+/xd8BO7MfmGMbDbz+9TWbV6Le66/ZZ2Mo1xYZlebwO2bC9B2Zfvof/PZ7aZZ7OYQppI+zW/RkBq2osLugtX7t6Mnw0b0mxeR2C32zBqWB4qSza1H2tRwVnw+wM0jXNIcba9uKAN9HnqO9S8Jhx2O3yeunbjbBYKI29oXozG/CBERq4FdnVsFhWaFtIgojCCn66BdqsKfwgtkHGuEvUnbKBKFUhx/mG8UaSQkEKqqadS232ToNsaCAAWMw1qJGacQVGIf/nyoeH910+XG1azCi2IBQVN00AU6tET260NtFkoeBAGMsagEPQYaLOq4EEMJJxxEEJ0vUnVrQ20W0xBLWlpTIOeuxCg2xtIwbQgBhHGIAmq9cR2awMdNhUsiBUZxhggZODFy4vo1gYGuybINAYuZYWe2G5toM2qQnLjCwp+zqQUvMfA82uCxncnMD/ThMQZPbHd3MDg1gSZpgkiekZh2C0qWBBdWONMcrDIGmhxRMHrNf5/+ULF4/XC4ozSFWsLcncC05hioqTdxVQgBAOThlyDLdtL4PF6gy3CMB6vF99uL0HykDG64m0WNah5oOBc9fn0deGgn4lkjp+Osi+Bj7/Y1GKFeNXqtW1kBUdTmRZnFJLyxiBj/HRdeXarinOeRhQXbzZaJfU67LpaYA89dC7/BTYCR8QC2S5kAAAAAElFTkSuQmCC"},f055:function(e,t,a){},f1d5:function(e,t,a){"use strict";a("b186")},f207:function(e,t,a){"use strict";a("85c2")},f484:function(e,t,a){"use strict";a("627a")},f55e:function(e,t,a){},f962:function(e,t,a){},f9fe:function(e,t,a){"use strict";a("0de7")}});
//# sourceMappingURL=app.ef38dca5.js.map